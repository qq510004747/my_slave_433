; generated by Component: ARM Compiler 5.06 update 6 (build 750) Tool: ArmCC [4d3637]
; commandline ArmCC [--c99 --list --split_sections --debug -c --asm --interleave -o.\obj\rfsx1276.o --asm_dir=.\List\ --list_dir=.\List\ --depend=.\obj\rfsx1276.d --cpu=Cortex-M3 --apcs=interwork -O0 --diag_suppress=9931 -I..\Libraries\CMSIS\CM3\CoreSupport -I..\Libraries\CMSIS\CM3\DeviceSupport\ST\STM32F10x -I..\Libraries\STM32F10x_StdPeriph_Driver\inc -I..\Libraries\J_LINK_RTT\RTT -I..\User -I..\BSP\BSP -I..\BSP\BSP_InPut -I..\BSP\BSP_OutPut -I..\BSP\BSP_FLASH -I..\BSP\BSP_USART -I..\Libraries\FreeRTOS -I..\Libraries\FreeRTOS\include -I..\Libraries\FreeRTOS\FreeRTOSConfig -I..\Libraries\FreeRTOS\portable\RVDS\ARM_CM3 -I..\BSP\BSP_USART2 -I..\BSP\OLED -I..\BSP -I..\BSP\OLED -I..\BSP\TIMER3 -I.\RTE\_STM32F10x________2.0.0 -IF:\keil5-22\ARM\PACK\Keil\STM32F1xx_DFP\2.1.0\Device\Include -IF:\keil5-22\ARM\CMSIS\Include -D__MICROLIB -D__UVISION_VERSION=525 -DSTM32F10X_MD -DSTM32F10X_MD -DUSE_STDPERIPH_DRIVER --omf_browse=.\obj\rfsx1276.crf ..\BSP\Lora\RFsx1276.c]
                          THUMB

                          AREA ||i.A||, CODE, READONLY, ALIGN=2

                  A PROC
;;;1397   }
;;;1398   void A(void)
000000  b510              PUSH     {r4,lr}
;;;1399   {
;;;1400   	if(RxGain ==2)
000002  4807              LDR      r0,|L1.32|
000004  7800              LDRB     r0,[r0,#0]  ; RxGain
000006  2802              CMP      r0,#2
000008  d109              BNE      |L1.30|
;;;1401   	if(RFState==3)
00000a  4806              LDR      r0,|L1.36|
00000c  7800              LDRB     r0,[r0,#0]  ; RFState
00000e  2803              CMP      r0,#3
000010  d105              BNE      |L1.30|
;;;1402   	if(RxPacketRssiValue==4){}
000012  2200              MOVS     r2,#0
000014  4b04              LDR      r3,|L1.40|
000016  4905              LDR      r1,|L1.44|
000018  c903              LDM      r1,{r0,r1}
00001a  f7fffffe          BL       __aeabi_cdcmpeq
                  |L1.30|
;;;1403   }
00001e  bd10              POP      {r4,pc}
                          ENDP

                  |L1.32|
                          DCD      RxGain
                  |L1.36|
                          DCD      RFState
                  |L1.40|
                          DCD      0x40100000
                  |L1.44|
                          DCD      RxPacketRssiValue

                          AREA ||i.RF_Sx1276_Init||, CODE, READONLY, ALIGN=1

                  RF_Sx1276_Init PROC
;;;1391   
;;;1392   void RF_Sx1276_Init(void)
000000  b510              PUSH     {r4,lr}
;;;1393   {
;;;1394    //Spi_Init();
;;;1395    SX1276Init();
000002  f7fffffe          BL       SX1276Init
;;;1396    SX1276SetIdleState();
000006  f7fffffe          BL       SX1276SetIdleState
;;;1397   }
00000a  bd10              POP      {r4,pc}
;;;1398   void A(void)
                          ENDP


                          AREA ||i.SX1276FskReadRxGain||, CODE, READONLY, ALIGN=2

                  SX1276FskReadRxGain PROC
;;;688    }
;;;689    uint8_t SX1276FskReadRxGain( void )
000000  b510              PUSH     {r4,lr}
;;;690    {
;;;691        SX1276Read( REG_LNA, &SX1276->RegLna );
000002  4805              LDR      r0,|L3.24|
000004  6801              LDR      r1,[r0,#0]  ; SX1276
000006  310c              ADDS     r1,r1,#0xc
000008  200c              MOVS     r0,#0xc
00000a  f7fffffe          BL       SX1276Read
;;;692        return( SX1276->RegLna >> 5 ) & 0x07;
00000e  4802              LDR      r0,|L3.24|
000010  6800              LDR      r0,[r0,#0]  ; SX1276
000012  7b00              LDRB     r0,[r0,#0xc]
000014  0940              LSRS     r0,r0,#5
;;;693    }
000016  bd10              POP      {r4,pc}
;;;694    
                          ENDP

                  |L3.24|
                          DCD      SX1276

                          AREA ||i.SX1276GetRxPacket||, CODE, READONLY, ALIGN=1

                  SX1276GetRxPacket PROC
;;;666    
;;;667    void SX1276GetRxPacket( void *buffer, uint16_t *size )
000000  b570              PUSH     {r4-r6,lr}
;;;668    {
000002  4604              MOV      r4,r0
000004  460d              MOV      r5,r1
;;;669       SX1276LoRaGetRxPacket( buffer, size );
000006  4629              MOV      r1,r5
000008  4620              MOV      r0,r4
00000a  f7fffffe          BL       SX1276LoRaGetRxPacket
;;;670    }
00000e  bd70              POP      {r4-r6,pc}
;;;671    void SX1276LoRaSetTxPacket( const void *buffer, uint16_t size )
                          ENDP


                          AREA ||i.SX1276Init||, CODE, READONLY, ALIGN=2

                  SX1276Init PROC
;;;632    
;;;633    void SX1276Init( void )
000000  b510              PUSH     {r4,lr}
;;;634    {
;;;635        // Initialize FSK and LoRa registers structure
;;;636        SX1276 = ( tSX1276* )SX1276Regs;
000002  4809              LDR      r0,|L5.40|
000004  4909              LDR      r1,|L5.44|
000006  6008              STR      r0,[r1,#0]  ; SX1276
;;;637        SX1276LR = ( tSX1276LR* )SX1276Regs;
000008  4909              LDR      r1,|L5.48|
00000a  6008              STR      r0,[r1,#0]  ; SX1276LR
;;;638        SX1276InitIo( );
00000c  f7fffffe          BL       SX1276InitIo
;;;639        SX1276Reset( );
000010  f7fffffe          BL       SX1276Reset
;;;640        // REMARK: After radio reset the default modem is 
;;;641        LoRaOn = true;
000014  2001              MOVS     r0,#1
000016  4907              LDR      r1,|L5.52|
000018  7008              STRB     r0,[r1,#0]
;;;642        SX1276SetLoRaOn( LoRaOn );
00001a  4608              MOV      r0,r1
00001c  7800              LDRB     r0,[r0,#0]  ; LoRaOn
00001e  f7fffffe          BL       SX1276SetLoRaOn
;;;643        SX1276LoRaInit( );
000022  f7fffffe          BL       SX1276LoRaInit
;;;644    }
000026  bd10              POP      {r4,pc}
;;;645    void SX1276LoRaSetRFState( uint8_t state )
                          ENDP

                  |L5.40|
                          DCD      SX1276Regs
                  |L5.44|
                          DCD      SX1276
                  |L5.48|
                          DCD      SX1276LR
                  |L5.52|
                          DCD      LoRaOn

                          AREA ||i.SX1276InitIo||, CODE, READONLY, ALIGN=2

                  SX1276InitIo PROC
;;;159    
;;;160    void SX1276InitIo( void )
000000  b508              PUSH     {r3,lr}
;;;161    {
;;;162       GPIO_InitTypeDef GPIO_InitStructure;
;;;163    
;;;164        RCC_APB2PeriphClockCmd( RCC_APB2Periph_GPIOA | RCC_APB2Periph_GPIOB | RCC_APB2Periph_GPIOC, ENABLE );
000002  2101              MOVS     r1,#1
000004  201c              MOVS     r0,#0x1c
000006  f7fffffe          BL       RCC_APB2PeriphClockCmd
;;;165    
;;;166        GPIO_InitStructure.GPIO_Mode  = GPIO_Mode_Out_PP;
00000a  2010              MOVS     r0,#0x10
00000c  f88d0003          STRB     r0,[sp,#3]
;;;167        GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;
000010  2003              MOVS     r0,#3
000012  f88d0002          STRB     r0,[sp,#2]
;;;168    
;;;169        // Configure NSS as output
;;;170        GPIO_WriteBit( NSS_IOPORT, NSS_PIN, Bit_SET );
000016  2201              MOVS     r2,#1
000018  2110              MOVS     r1,#0x10
00001a  4819              LDR      r0,|L6.128|
00001c  f7fffffe          BL       GPIO_WriteBit
;;;171        GPIO_InitStructure.GPIO_Pin = NSS_PIN;
000020  2010              MOVS     r0,#0x10
000022  f8ad0000          STRH     r0,[sp,#0]
;;;172        GPIO_Init( NSS_IOPORT, &GPIO_InitStructure );
000026  4669              MOV      r1,sp
000028  4815              LDR      r0,|L6.128|
00002a  f7fffffe          BL       GPIO_Init
;;;173    		
;;;174        // Configure radio DIO as inputs
;;;175        GPIO_InitStructure.GPIO_Mode = GPIO_Mode_IN_FLOATING;
00002e  2004              MOVS     r0,#4
000030  f88d0003          STRB     r0,[sp,#3]
;;;176    
;;;177        // Configure DIO0
;;;178        GPIO_InitStructure.GPIO_Pin =  DIO0_PIN;
000034  2002              MOVS     r0,#2
000036  f8ad0000          STRH     r0,[sp,#0]
;;;179        GPIO_Init( DIO0_IOPORT, &GPIO_InitStructure );
00003a  4669              MOV      r1,sp
00003c  4810              LDR      r0,|L6.128|
00003e  f7fffffe          BL       GPIO_Init
;;;180        
;;;181        // Configure DIO1
;;;182        GPIO_InitStructure.GPIO_Pin =  DIO1_PIN;
000042  f44f6000          MOV      r0,#0x800
000046  f8ad0000          STRH     r0,[sp,#0]
;;;183        GPIO_Init( DIO1_IOPORT, &GPIO_InitStructure );
00004a  4669              MOV      r1,sp
00004c  480d              LDR      r0,|L6.132|
00004e  f7fffffe          BL       GPIO_Init
;;;184        
;;;185        // Configure DIO2
;;;186        GPIO_InitStructure.GPIO_Pin =  DIO2_PIN;
000052  f44f6080          MOV      r0,#0x400
000056  f8ad0000          STRH     r0,[sp,#0]
;;;187        GPIO_Init( DIO2_IOPORT, &GPIO_InitStructure );
00005a  4669              MOV      r1,sp
00005c  4809              LDR      r0,|L6.132|
00005e  f7fffffe          BL       GPIO_Init
;;;188        
;;;189        // Configure DIO3 as input
;;;190        GPIO_InitStructure.GPIO_Pin =  DIO3_PIN;
000062  2002              MOVS     r0,#2
000064  f8ad0000          STRH     r0,[sp,#0]
;;;191        GPIO_Init( DIO3_IOPORT, &GPIO_InitStructure );
000068  4669              MOV      r1,sp
00006a  4806              LDR      r0,|L6.132|
00006c  f7fffffe          BL       GPIO_Init
;;;192        
;;;193        // Configure DIO5 as input
;;;194        GPIO_InitStructure.GPIO_Pin =  DIO5_PIN;
000070  2020              MOVS     r0,#0x20
000072  f8ad0000          STRH     r0,[sp,#0]
;;;195        GPIO_Init( DIO5_IOPORT, &GPIO_InitStructure );
000076  4669              MOV      r1,sp
000078  4803              LDR      r0,|L6.136|
00007a  f7fffffe          BL       GPIO_Init
;;;196    }
00007e  bd08              POP      {r3,pc}
;;;197    
                          ENDP

                  |L6.128|
                          DCD      0x40010800
                  |L6.132|
                          DCD      0x40010c00
                  |L6.136|
                          DCD      0x40011000

                          AREA ||i.SX1276LoRaGetRxPacket||, CODE, READONLY, ALIGN=2

                  SX1276LoRaGetRxPacket PROC
;;;659    
;;;660    void SX1276LoRaGetRxPacket( void *buffer, uint16_t *size )
000000  b570              PUSH     {r4-r6,lr}
;;;661    {
000002  4605              MOV      r5,r0
000004  460c              MOV      r4,r1
;;;662        *size = RxPacketSize;
000006  4806              LDR      r0,|L7.32|
000008  8800              LDRH     r0,[r0,#0]  ; RxPacketSize
00000a  8020              STRH     r0,[r4,#0]
;;;663        RxPacketSize = 0;
00000c  2000              MOVS     r0,#0
00000e  4904              LDR      r1,|L7.32|
000010  8008              STRH     r0,[r1,#0]
;;;664        memcpy( ( void * )buffer, ( void * )RFBuffer, ( size_t )*size );
000012  8822              LDRH     r2,[r4,#0]
000014  4903              LDR      r1,|L7.36|
000016  4628              MOV      r0,r5
000018  f7fffffe          BL       __aeabi_memcpy
;;;665    }
00001c  bd70              POP      {r4-r6,pc}
;;;666    
                          ENDP

00001e  0000              DCW      0x0000
                  |L7.32|
                          DCD      RxPacketSize
                  |L7.36|
                          DCD      RFBuffer

                          AREA ||i.SX1276LoRaInit||, CODE, READONLY, ALIGN=2

                  SX1276LoRaInit PROC
;;;569    }
;;;570    void SX1276LoRaInit( void )
000000  b510              PUSH     {r4,lr}
;;;571    {
;;;572        RFLRState = RFLR_STATE_IDLE;
000002  2000              MOVS     r0,#0
000004  4931              LDR      r1,|L8.204|
000006  7008              STRB     r0,[r1,#0]
;;;573    
;;;574        SX1276LoRaSetDefaults( );
000008  f7fffffe          BL       SX1276LoRaSetDefaults
;;;575        
;;;576        SX1276ReadBuffer( REG_LR_OPMODE, SX1276Regs + 1, 0x70 - 1 );
00000c  226f              MOVS     r2,#0x6f
00000e  4930              LDR      r1,|L8.208|
000010  2001              MOVS     r0,#1
000012  f7fffffe          BL       SX1276ReadBuffer
;;;577        
;;;578        SX1276LR->RegLna = RFLR_LNA_GAIN_G1;
000016  2020              MOVS     r0,#0x20
000018  492e              LDR      r1,|L8.212|
00001a  6809              LDR      r1,[r1,#0]  ; SX1276LR
00001c  7308              STRB     r0,[r1,#0xc]
;;;579    
;;;580        SX1276WriteBuffer( REG_LR_OPMODE, SX1276Regs + 1, 0x70 - 1 );
00001e  226f              MOVS     r2,#0x6f
000020  492b              LDR      r1,|L8.208|
000022  2001              MOVS     r0,#1
000024  f7fffffe          BL       SX1276WriteBuffer
;;;581    	  //debug
;;;582        SX1276ReadBuffer( REG_LR_OPMODE, SX1276Regs + 1, 0x70 - 1 );
000028  226f              MOVS     r2,#0x6f
00002a  4929              LDR      r1,|L8.208|
00002c  2001              MOVS     r0,#1
00002e  f7fffffe          BL       SX1276ReadBuffer
;;;583    	
;;;584        // set the RF settings 
;;;585        SX1276LoRaSetRFFrequency( LoRaSettings.RFFrequency );
000032  4929              LDR      r1,|L8.216|
000034  6808              LDR      r0,[r1,#0]  ; LoRaSettings
000036  f7fffffe          BL       SX1276LoRaSetRFFrequency
;;;586        SX1276LoRaSetSpreadingFactor( LoRaSettings.SpreadingFactor ); // SF6 only operates in implicit header mode.
00003a  4927              LDR      r1,|L8.216|
00003c  7988              LDRB     r0,[r1,#6]  ; LoRaSettings
00003e  f7fffffe          BL       SX1276LoRaSetSpreadingFactor
;;;587        SX1276LoRaSetErrorCoding( LoRaSettings.ErrorCoding );
000042  4925              LDR      r1,|L8.216|
000044  79c8              LDRB     r0,[r1,#7]  ; LoRaSettings
000046  f7fffffe          BL       SX1276LoRaSetErrorCoding
;;;588        SX1276LoRaSetPacketCrcOn( LoRaSettings.CrcOn );
00004a  4923              LDR      r1,|L8.216|
00004c  7a08              LDRB     r0,[r1,#8]  ; LoRaSettings
00004e  f7fffffe          BL       SX1276LoRaSetPacketCrcOn
;;;589        SX1276LoRaSetSignalBandwidth( LoRaSettings.SignalBw );
000052  4921              LDR      r1,|L8.216|
000054  7948              LDRB     r0,[r1,#5]  ; LoRaSettings
000056  f7fffffe          BL       SX1276LoRaSetSignalBandwidth
;;;590    
;;;591        SX1276LoRaSetImplicitHeaderOn( LoRaSettings.ImplicitHeaderOn );
00005a  491f              LDR      r1,|L8.216|
00005c  7a48              LDRB     r0,[r1,#9]  ; LoRaSettings
00005e  f7fffffe          BL       SX1276LoRaSetImplicitHeaderOn
;;;592        SX1276LoRaSetSymbTimeout( 0x3FF );
000062  f24030ff          MOV      r0,#0x3ff
000066  f7fffffe          BL       SX1276LoRaSetSymbTimeout
;;;593        SX1276LoRaSetPayloadLength( LoRaSettings.PayloadLength );
00006a  491b              LDR      r1,|L8.216|
00006c  7e08              LDRB     r0,[r1,#0x18]  ; LoRaSettings
00006e  f7fffffe          BL       SX1276LoRaSetPayloadLength
;;;594        SX1276LoRaSetLowDatarateOptimize( true );
000072  2001              MOVS     r0,#1
000074  f7fffffe          BL       SX1276LoRaSetLowDatarateOptimize
;;;595    		//debug
;;;596        SX1276ReadBuffer( REG_LR_OPMODE, SX1276Regs + 1, 0x70 - 1 );
000078  226f              MOVS     r2,#0x6f
00007a  4915              LDR      r1,|L8.208|
00007c  2001              MOVS     r0,#1
00007e  f7fffffe          BL       SX1276ReadBuffer
;;;597    		
;;;598    #if( ( MODULE_SX1276RF1IAS == 1 ) || ( MODULE_SX1276RF1KAS == 1 ) )
;;;599        if( LoRaSettings.RFFrequency > 860000000 )
000082  4815              LDR      r0,|L8.216|
000084  6800              LDR      r0,[r0,#0]  ; LoRaSettings
000086  4915              LDR      r1,|L8.220|
000088  4288              CMP      r0,r1
00008a  d90d              BLS      |L8.168|
;;;600        {
;;;601            SX1276LoRaSetPAOutput( RFLR_PACONFIG_PASELECT_RFO );
00008c  2000              MOVS     r0,#0
00008e  f7fffffe          BL       SX1276LoRaSetPAOutput
;;;602            SX1276LoRaSetPa20dBm( false );
000092  2000              MOVS     r0,#0
000094  f7fffffe          BL       SX1276LoRaSetPa20dBm
;;;603            LoRaSettings.Power = 14;
000098  200e              MOVS     r0,#0xe
00009a  490f              LDR      r1,|L8.216|
00009c  7108              STRB     r0,[r1,#4]
;;;604            SX1276LoRaSetRFPower( LoRaSettings.Power );
00009e  f9910004          LDRSB    r0,[r1,#4]  ; LoRaSettings
0000a2  f7fffffe          BL       SX1276LoRaSetRFPower
0000a6  e00c              B        |L8.194|
                  |L8.168|
;;;605        }
;;;606        else
;;;607        {
;;;608            SX1276LoRaSetPAOutput( RFLR_PACONFIG_PASELECT_PABOOST );
0000a8  2080              MOVS     r0,#0x80
0000aa  f7fffffe          BL       SX1276LoRaSetPAOutput
;;;609            SX1276LoRaSetPa20dBm( true );
0000ae  2001              MOVS     r0,#1
0000b0  f7fffffe          BL       SX1276LoRaSetPa20dBm
;;;610            LoRaSettings.Power = 20;
0000b4  2014              MOVS     r0,#0x14
0000b6  4908              LDR      r1,|L8.216|
0000b8  7108              STRB     r0,[r1,#4]
;;;611            SX1276LoRaSetRFPower( LoRaSettings.Power );
0000ba  f9910004          LDRSB    r0,[r1,#4]  ; LoRaSettings
0000be  f7fffffe          BL       SX1276LoRaSetRFPower
                  |L8.194|
;;;612        } 
;;;613    #elif( MODULE_SX1276RF1JAS == 1 )
;;;614        if( LoRaSettings.RFFrequency > 860000000 )
;;;615        {
;;;616            SX1276LoRaSetPAOutput( RFLR_PACONFIG_PASELECT_PABOOST );
;;;617            SX1276LoRaSetPa20dBm( true );
;;;618            LoRaSettings.Power = 20;
;;;619            SX1276LoRaSetRFPower( LoRaSettings.Power );
;;;620        }
;;;621        else
;;;622        {
;;;623            SX1276LoRaSetPAOutput( RFLR_PACONFIG_PASELECT_RFO );
;;;624            SX1276LoRaSetPa20dBm( false );
;;;625            LoRaSettings.Power = 14;
;;;626            SX1276LoRaSetRFPower( LoRaSettings.Power );
;;;627        } 
;;;628    #endif
;;;629    
;;;630        SX1276LoRaSetOpMode( RFLR_OPMODE_STANDBY );
0000c2  2001              MOVS     r0,#1
0000c4  f7fffffe          BL       SX1276LoRaSetOpMode
;;;631    }
0000c8  bd10              POP      {r4,pc}
;;;632    
                          ENDP

0000ca  0000              DCW      0x0000
                  |L8.204|
                          DCD      RFLRState
                  |L8.208|
                          DCD      SX1276Regs+0x1
                  |L8.212|
                          DCD      SX1276LR
                  |L8.216|
                          DCD      LoRaSettings
                  |L8.220|
                          DCD      0x33428f00

                          AREA ||i.SX1276LoRaProcess||, CODE, READONLY, ALIGN=2

                  SX1276LoRaProcess PROC
;;;1183   }
;;;1184   uint32_t SX1276LoRaProcess( void )
000000  e92d4ffe          PUSH     {r1-r11,lr}
;;;1185   {
;;;1186       uint32_t result = RF_BUSY;
000004  2001              MOVS     r0,#1
000006  9002              STR      r0,[sp,#8]
;;;1187       
;;;1188       switch( RFLRState )
000008  48fe              LDR      r0,|L9.1028|
00000a  7800              LDRB     r0,[r0,#0]  ; RFLRState
00000c  2809              CMP      r0,#9
00000e  d206              BCS      |L9.30|
000010  e8dff000          TBB      [pc,r0]
000014  050658b5          DCB      0x05,0x06,0x58,0xb5
000018  fefdfcfb          DCB      0xfe,0xfd,0xfc,0xfb
00001c  fa00              DCB      0xfa,0x00
                  |L9.30|
;;;1189   			{
;;;1190   				case RFLR_STATE_IDLE:
;;;1191   				break;
00001e  e2c0              B        |L9.1442|
;;;1192   				case RFLR_STATE_RX_INIT:        
;;;1193   								SX1276LoRaSetOpMode( RFLR_OPMODE_STANDBY );
000020  2001              MOVS     r0,#1
000022  f7fffffe          BL       SX1276LoRaSetOpMode
;;;1194   								SX1276LR->RegIrqFlagsMask = RFLR_IRQFLAGS_RXTIMEOUT |RFLR_IRQFLAGS_VALIDHEADER |RFLR_IRQFLAGS_TXDONE |RFLR_IRQFLAGS_CADDONE |RFLR_IRQFLAGS_CADDETECTED;
000026  209d              MOVS     r0,#0x9d
000028  49f7              LDR      r1,|L9.1032|
00002a  6809              LDR      r1,[r1,#0]  ; SX1276LR
00002c  7448              STRB     r0,[r1,#0x11]
;;;1195   								SX1276Write( REG_LR_IRQFLAGSMASK, SX1276LR->RegIrqFlagsMask );
00002e  48f6              LDR      r0,|L9.1032|
000030  6800              LDR      r0,[r0,#0]  ; SX1276LR
000032  7c41              LDRB     r1,[r0,#0x11]
000034  2011              MOVS     r0,#0x11
000036  f7fffffe          BL       SX1276Write
;;;1196   								if( LoRaSettings.FreqHopOn == true )
00003a  48f4              LDR      r0,|L9.1036|
00003c  7ac0              LDRB     r0,[r0,#0xb]  ; LoRaSettings
00003e  2801              CMP      r0,#1
000040  d116              BNE      |L9.112|
;;;1197   									{
;;;1198   											SX1276LR->RegHopPeriod = LoRaSettings.HopPeriod;
000042  48f2              LDR      r0,|L9.1036|
000044  7b00              LDRB     r0,[r0,#0xc]  ; LoRaSettings
000046  49f0              LDR      r1,|L9.1032|
000048  6809              LDR      r1,[r1,#0]  ; SX1276LR
00004a  f8810024          STRB     r0,[r1,#0x24]
;;;1199   											SX1276Read( REG_LR_HOPCHANNEL, &SX1276LR->RegHopChannel );
00004e  48ee              LDR      r0,|L9.1032|
000050  6801              LDR      r1,[r0,#0]  ; SX1276LR
000052  311c              ADDS     r1,r1,#0x1c
000054  201c              MOVS     r0,#0x1c
000056  f7fffffe          BL       SX1276Read
;;;1200   											SX1276LoRaSetRFFrequency( HoppingFrequencies[SX1276LR->RegHopChannel & RFLR_HOPCHANNEL_CHANNEL_MASK] );
00005a  49eb              LDR      r1,|L9.1032|
00005c  6809              LDR      r1,[r1,#0]  ; SX1276LR
00005e  7f09              LDRB     r1,[r1,#0x1c]
000060  f001013f          AND      r1,r1,#0x3f
000064  4aea              LDR      r2,|L9.1040|
000066  f8520021          LDR      r0,[r2,r1,LSL #2]
00006a  f7fffffe          BL       SX1276LoRaSetRFFrequency
00006e  e004              B        |L9.122|
                  |L9.112|
;;;1201   									}
;;;1202   								else
;;;1203   									{
;;;1204   											SX1276LR->RegHopPeriod = 255;
000070  20ff              MOVS     r0,#0xff
000072  49e5              LDR      r1,|L9.1032|
000074  6809              LDR      r1,[r1,#0]  ; SX1276LR
000076  f8810024          STRB     r0,[r1,#0x24]
                  |L9.122|
;;;1205   									}
;;;1206   								SX1276Write( REG_LR_HOPPERIOD, SX1276LR->RegHopPeriod );	
00007a  48e3              LDR      r0,|L9.1032|
00007c  6800              LDR      r0,[r0,#0]  ; SX1276LR
00007e  f8901024          LDRB     r1,[r0,#0x24]
000082  2024              MOVS     r0,#0x24
000084  f7fffffe          BL       SX1276Write
;;;1207   								SX1276LR->RegDioMapping1 = RFLR_DIOMAPPING1_DIO0_00 | RFLR_DIOMAPPING1_DIO1_00 | RFLR_DIOMAPPING1_DIO2_00 | RFLR_DIOMAPPING1_DIO3_00;// RxDone                    RxTimeout                   FhssChangeChannel           CadDone																		
000088  2000              MOVS     r0,#0
00008a  49df              LDR      r1,|L9.1032|
00008c  6809              LDR      r1,[r1,#0]  ; SX1276LR
00008e  f881003f          STRB     r0,[r1,#0x3f]
;;;1208   								SX1276LR->RegDioMapping2 = RFLR_DIOMAPPING2_DIO4_00 | RFLR_DIOMAPPING2_DIO5_00;// CadDetected               ModeReady
000092  49dd              LDR      r1,|L9.1032|
000094  6809              LDR      r1,[r1,#0]  ; SX1276LR
000096  f8810040          STRB     r0,[r1,#0x40]
;;;1209   								SX1276WriteBuffer( REG_LR_DIOMAPPING1, &SX1276LR->RegDioMapping1, 2 );
00009a  2202              MOVS     r2,#2
00009c  48da              LDR      r0,|L9.1032|
00009e  6801              LDR      r1,[r0,#0]  ; SX1276LR
0000a0  313f              ADDS     r1,r1,#0x3f
0000a2  2040              MOVS     r0,#0x40
0000a4  f7fffffe          BL       SX1276WriteBuffer
;;;1210   								SX1276LoRaSetOpMode( RFLR_OPMODE_RECEIVER_SINGLE );
0000a8  2006              MOVS     r0,#6
0000aa  f7fffffe          BL       SX1276LoRaSetOpMode
;;;1211   								memset( RFBuffer, 0, ( size_t )RF_BUFFER_SIZE );
0000ae  f44f7180          MOV      r1,#0x100
0000b2  48d8              LDR      r0,|L9.1044|
0000b4  f7fffffe          BL       __aeabi_memclr
;;;1212   								SX1276_Rx_Count_Time();
0000b8  f7fffffe          BL       SX1276_Rx_Count_Time
;;;1213   								RFLRState = RFLR_STATE_RX_RUNNING;
0000bc  2002              MOVS     r0,#2
0000be  49d1              LDR      r1,|L9.1028|
0000c0  7008              STRB     r0,[r1,#0]
;;;1214   				break;
0000c2  e26e              B        |L9.1442|
;;;1215   				case RFLR_STATE_RX_RUNNING:
;;;1216   								if( DIO0 == 1 ) 
0000c4  f7fffffe          BL       SX1276ReadDio0
0000c8  2801              CMP      r0,#1
0000ca  d11a              BNE      |L9.258|
;;;1217   										{
;;;1218   											if( LoRaSettings.FreqHopOn == true )
0000cc  48cf              LDR      r0,|L9.1036|
0000ce  7ac0              LDRB     r0,[r0,#0xb]  ; LoRaSettings
0000d0  2801              CMP      r0,#1
0000d2  d10f              BNE      |L9.244|
;;;1219   													{
;;;1220   															SX1276Read( REG_LR_HOPCHANNEL, &SX1276LR->RegHopChannel );
0000d4  48cc              LDR      r0,|L9.1032|
0000d6  6801              LDR      r1,[r0,#0]  ; SX1276LR
0000d8  311c              ADDS     r1,r1,#0x1c
0000da  201c              MOVS     r0,#0x1c
0000dc  f7fffffe          BL       SX1276Read
;;;1221   															SX1276LoRaSetRFFrequency( HoppingFrequencies[SX1276LR->RegHopChannel & RFLR_HOPCHANNEL_CHANNEL_MASK] );
0000e0  49c9              LDR      r1,|L9.1032|
0000e2  6809              LDR      r1,[r1,#0]  ; SX1276LR
0000e4  7f09              LDRB     r1,[r1,#0x1c]
0000e6  f001013f          AND      r1,r1,#0x3f
0000ea  4ac9              LDR      r2,|L9.1040|
0000ec  f8520021          LDR      r0,[r2,r1,LSL #2]
0000f0  f7fffffe          BL       SX1276LoRaSetRFFrequency
                  |L9.244|
;;;1222   													}
;;;1223   												SX1276Write( REG_LR_IRQFLAGS, RFLR_IRQFLAGS_RXDONE );// Clear Irq
0000f4  2140              MOVS     r1,#0x40
0000f6  2012              MOVS     r0,#0x12
0000f8  f7fffffe          BL       SX1276Write
;;;1224   												RFLRState = RFLR_STATE_RX_DONE;
0000fc  2003              MOVS     r0,#3
0000fe  49c1              LDR      r1,|L9.1028|
000100  7008              STRB     r0,[r1,#0]
                  |L9.258|
;;;1225   										}
;;;1226   								if( DIO2 == 1 ) 
000102  f7fffffe          BL       SX1276ReadDio2
000106  2801              CMP      r0,#1
000108  d118              BNE      |L9.316|
;;;1227   										{
;;;1228   											if( LoRaSettings.FreqHopOn == true )
00010a  48c0              LDR      r0,|L9.1036|
00010c  7ac0              LDRB     r0,[r0,#0xb]  ; LoRaSettings
00010e  2801              CMP      r0,#1
000110  d10f              BNE      |L9.306|
;;;1229   													{
;;;1230   															SX1276Read( REG_LR_HOPCHANNEL, &SX1276LR->RegHopChannel );
000112  48bd              LDR      r0,|L9.1032|
000114  6801              LDR      r1,[r0,#0]  ; SX1276LR
000116  311c              ADDS     r1,r1,#0x1c
000118  201c              MOVS     r0,#0x1c
00011a  f7fffffe          BL       SX1276Read
;;;1231   															SX1276LoRaSetRFFrequency( HoppingFrequencies[SX1276LR->RegHopChannel & RFLR_HOPCHANNEL_CHANNEL_MASK] );
00011e  49ba              LDR      r1,|L9.1032|
000120  6809              LDR      r1,[r1,#0]  ; SX1276LR
000122  7f09              LDRB     r1,[r1,#0x1c]
000124  f001013f          AND      r1,r1,#0x3f
000128  4ab9              LDR      r2,|L9.1040|
00012a  f8520021          LDR      r0,[r2,r1,LSL #2]
00012e  f7fffffe          BL       SX1276LoRaSetRFFrequency
                  |L9.306|
;;;1232   													}
;;;1233   												SX1276Write( REG_LR_IRQFLAGS, RFLR_IRQFLAGS_FHSSCHANGEDCHANNEL );
000132  2102              MOVS     r1,#2
000134  2012              MOVS     r0,#0x12
000136  f7fffffe          BL       SX1276Write
00013a  e01f              B        |L9.380|
                  |L9.316|
;;;1234   										}
;;;1235   								else
;;;1236   										{
;;;1237   											RxTimeoutTimer=SysTick->CTRL;
00013c  f04f20e0          MOV      r0,#0xe000e000
000140  6900              LDR      r0,[r0,#0x10]
000142  49b5              LDR      r1,|L9.1048|
000144  6008              STR      r0,[r1,#0]  ; RxTimeoutTimer
;;;1238   											if((RxTimeoutTimer&0x01&&!(RxTimeoutTimer&(1<<16)))==0)
000146  4608              MOV      r0,r1
000148  7800              LDRB     r0,[r0,#0]  ; RxTimeoutTimer
00014a  f0000001          AND      r0,r0,#1
00014e  b130              CBZ      r0,|L9.350|
000150  4608              MOV      r0,r1
000152  6800              LDR      r0,[r0,#0]  ; RxTimeoutTimer
000154  f4003080          AND      r0,r0,#0x10000
000158  b908              CBNZ     r0,|L9.350|
00015a  2001              MOVS     r0,#1
00015c  e000              B        |L9.352|
                  |L9.350|
00015e  2000              MOVS     r0,#0
                  |L9.352|
000160  b960              CBNZ     r0,|L9.380|
;;;1239   													{
;;;1240   														SysTick->CTRL&=~SysTick_CTRL_ENABLE_Msk;
000162  f04f20e0          MOV      r0,#0xe000e000
000166  6900              LDR      r0,[r0,#0x10]
000168  f0200001          BIC      r0,r0,#1
00016c  f04f21e0          MOV      r1,#0xe000e000
000170  6108              STR      r0,[r1,#0x10]
;;;1241   														SysTick->VAL =0X00;                     
000172  2000              MOVS     r0,#0
000174  6188              STR      r0,[r1,#0x18]
;;;1242   														RFLRState = RFLR_STATE_RX_TIMEOUT;
000176  2004              MOVS     r0,#4
000178  49a2              LDR      r1,|L9.1028|
00017a  7008              STRB     r0,[r1,#0]
                  |L9.380|
;;;1243   													}
;;;1244   										}
;;;1245   				break;
00017c  e211              B        |L9.1442|
;;;1246   				case RFLR_STATE_RX_DONE:
;;;1247   								SX1276Read( REG_LR_IRQFLAGS, &SX1276LR->RegIrqFlags );
00017e  48a2              LDR      r0,|L9.1032|
000180  6801              LDR      r1,[r0,#0]  ; SX1276LR
000182  3112              ADDS     r1,r1,#0x12
000184  2012              MOVS     r0,#0x12
000186  f7fffffe          BL       SX1276Read
;;;1248   								if( ( SX1276LR->RegIrqFlags & RFLR_IRQFLAGS_PAYLOADCRCERROR ) == RFLR_IRQFLAGS_PAYLOADCRCERROR )
00018a  489f              LDR      r0,|L9.1032|
00018c  6800              LDR      r0,[r0,#0]  ; SX1276LR
00018e  7c80              LDRB     r0,[r0,#0x12]
000190  f0000020          AND      r0,r0,#0x20
000194  2820              CMP      r0,#0x20
000196  d107              BNE      |L9.424|
;;;1249   										{		
;;;1250   												SX1276Write( REG_LR_IRQFLAGS, RFLR_IRQFLAGS_PAYLOADCRCERROR  );// Clear Irq
000198  2120              MOVS     r1,#0x20
00019a  2012              MOVS     r0,#0x12
00019c  f7fffffe          BL       SX1276Write
;;;1251   												RFLRState = RFLR_STATE_RX_INIT;
0001a0  2001              MOVS     r0,#1
0001a2  4998              LDR      r1,|L9.1028|
0001a4  7008              STRB     r0,[r1,#0]
;;;1252   											  break;
0001a6  e1fc              B        |L9.1442|
                  |L9.424|
;;;1253   										}
;;;1254   						
;;;1255   								{
;;;1256   										uint8_t rxSnrEstimate;
;;;1257   										SX1276Read( REG_LR_PKTSNRVALUE, &rxSnrEstimate );
0001a8  a901              ADD      r1,sp,#4
0001aa  2019              MOVS     r0,#0x19
0001ac  f7fffffe          BL       SX1276Read
;;;1258   										if( rxSnrEstimate & 0x80 ) // The SNR sign bit is 1
0001b0  f89d0004          LDRB     r0,[sp,#4]
0001b4  f0000080          AND      r0,r0,#0x80
0001b8  b168              CBZ      r0,|L9.470|
;;;1259   											{
;;;1260   													RxPacketSnrEstimate = ( ( ~rxSnrEstimate + 1 ) & 0xFF ) >> 2;// Invert and divide by 4
0001ba  f89d0004          LDRB     r0,[sp,#4]
0001be  43c0              MVNS     r0,r0
0001c0  1c40              ADDS     r0,r0,#1
0001c2  f3c00085          UBFX     r0,r0,#2,#6
0001c6  4995              LDR      r1,|L9.1052|
0001c8  7008              STRB     r0,[r1,#0]
;;;1261   													RxPacketSnrEstimate = -RxPacketSnrEstimate;
0001ca  4608              MOV      r0,r1
0001cc  7800              LDRB     r0,[r0,#0]  ; RxPacketSnrEstimate
0001ce  4240              RSBS     r0,r0,#0
0001d0  b240              SXTB     r0,r0
0001d2  7008              STRB     r0,[r1,#0]
0001d4  e004              B        |L9.480|
                  |L9.470|
;;;1262   											}
;;;1263   										else
;;;1264   											{
;;;1265   													RxPacketSnrEstimate = ( rxSnrEstimate & 0xFF ) >> 2;// Divide by 4
0001d6  f89d0004          LDRB     r0,[sp,#4]
0001da  0880              LSRS     r0,r0,#2
0001dc  498f              LDR      r1,|L9.1052|
0001de  7008              STRB     r0,[r1,#0]
                  |L9.480|
;;;1266   											}
;;;1267   								}
;;;1268   						
;;;1269   								if( LoRaSettings.RFFrequency < 860000000 )  // LF
0001e0  488a              LDR      r0,|L9.1036|
0001e2  6800              LDR      r0,[r0,#0]  ; LoRaSettings
0001e4  498e              LDR      r1,|L9.1056|
0001e6  4288              CMP      r0,r1
0001e8  d24c              BCS      |L9.644|
;;;1270   									{    
;;;1271   										if( RxPacketSnrEstimate < 0 )
0001ea  488c              LDR      r0,|L9.1052|
0001ec  f9900000          LDRSB    r0,[r0,#0]  ; RxPacketSnrEstimate
0001f0  2800              CMP      r0,#0
0001f2  da2b              BGE      |L9.588|
;;;1272   											{
;;;1273   													RxPacketRssiValue = NOISE_ABSOLUTE_ZERO + 10.0 * SignalBwLog[LoRaSettings.SignalBw] + NOISE_FIGURE_LF + ( double )RxPacketSnrEstimate;
0001f4  4889              LDR      r0,|L9.1052|
0001f6  f9900000          LDRSB    r0,[r0,#0]  ; RxPacketSnrEstimate
0001fa  f7fffffe          BL       __aeabi_i2d
0001fe  4604              MOV      r4,r0
000200  460d              MOV      r5,r1
000202  4882              LDR      r0,|L9.1036|
000204  7940              LDRB     r0,[r0,#5]  ; LoRaSettings
000206  e004              B        |L9.530|
000208  e1c2              B        |L9.1424|
00020a  e1ae              B        |L9.1386|
00020c  e164              B        |L9.1240|
00020e  e0c4              B        |L9.922|
000210  e0bd              B        |L9.910|
                  |L9.530|
000212  4984              LDR      r1,|L9.1060|
000214  eb0100c0          ADD      r0,r1,r0,LSL #3
000218  e9d06300          LDRD     r6,r3,[r0,#0]
00021c  4632              MOV      r2,r6
00021e  2000              MOVS     r0,#0
000220  4981              LDR      r1,|L9.1064|
000222  f7fffffe          BL       __aeabi_dmul
000226  4682              MOV      r10,r0
000228  2200              MOVS     r2,#0
00022a  4b80              LDR      r3,|L9.1068|
00022c  f7fffffe          BL       __aeabi_dadd
000230  2200              MOVS     r2,#0
000232  4b7f              LDR      r3,|L9.1072|
000234  e9cd0100          STRD     r0,r1,[sp,#0]
000238  f7fffffe          BL       __aeabi_dadd
00023c  4680              MOV      r8,r0
00023e  4622              MOV      r2,r4
000240  462b              MOV      r3,r5
000242  f7fffffe          BL       __aeabi_dadd
000246  4a7b              LDR      r2,|L9.1076|
000248  c203              STM      r2!,{r0,r1}
00024a  e061              B        |L9.784|
                  |L9.588|
;;;1274   											}
;;;1275   										else
;;;1276   											{    
;;;1277   													SX1276Read( REG_LR_PKTRSSIVALUE, &SX1276LR->RegPktRssiValue );
00024c  486e              LDR      r0,|L9.1032|
00024e  6801              LDR      r1,[r0,#0]  ; SX1276LR
000250  311a              ADDS     r1,r1,#0x1a
000252  201a              MOVS     r0,#0x1a
000254  f7fffffe          BL       SX1276Read
;;;1278   													RxPacketRssiValue = RssiOffsetLF[LoRaSettings.SignalBw] + ( double )SX1276LR->RegPktRssiValue;
000258  496b              LDR      r1,|L9.1032|
00025a  6809              LDR      r1,[r1,#0]  ; SX1276LR
00025c  7e88              LDRB     r0,[r1,#0x1a]
00025e  f7fffffe          BL       __aeabi_ui2d
000262  4604              MOV      r4,r0
000264  460d              MOV      r5,r1
000266  4869              LDR      r0,|L9.1036|
000268  7940              LDRB     r0,[r0,#5]  ; LoRaSettings
00026a  4973              LDR      r1,|L9.1080|
00026c  eb0100c0          ADD      r0,r1,r0,LSL #3
000270  e9d06300          LDRD     r6,r3,[r0,#0]
000274  4632              MOV      r2,r6
000276  4620              MOV      r0,r4
000278  4629              MOV      r1,r5
00027a  f7fffffe          BL       __aeabi_dadd
00027e  4a6d              LDR      r2,|L9.1076|
000280  c203              STM      r2!,{r0,r1}
000282  e045              B        |L9.784|
                  |L9.644|
;;;1279   											}
;;;1280   									}
;;;1281   								else                                        // HF
;;;1282   									{    
;;;1283   										if( RxPacketSnrEstimate < 0 )
000284  4865              LDR      r0,|L9.1052|
000286  f9900000          LDRSB    r0,[r0,#0]  ; RxPacketSnrEstimate
00028a  2800              CMP      r0,#0
00028c  da25              BGE      |L9.730|
;;;1284   											{
;;;1285   													RxPacketRssiValue = NOISE_ABSOLUTE_ZERO + 10.0 * SignalBwLog[LoRaSettings.SignalBw] + NOISE_FIGURE_HF + ( double )RxPacketSnrEstimate;
00028e  4863              LDR      r0,|L9.1052|
000290  f9900000          LDRSB    r0,[r0,#0]  ; RxPacketSnrEstimate
000294  f7fffffe          BL       __aeabi_i2d
000298  4680              MOV      r8,r0
00029a  4689              MOV      r9,r1
00029c  485b              LDR      r0,|L9.1036|
00029e  7940              LDRB     r0,[r0,#5]  ; LoRaSettings
0002a0  4960              LDR      r1,|L9.1060|
0002a2  eb0100c0          ADD      r0,r1,r0,LSL #3
0002a6  e9d06300          LDRD     r6,r3,[r0,#0]
0002aa  4632              MOV      r2,r6
0002ac  2000              MOVS     r0,#0
0002ae  495e              LDR      r1,|L9.1064|
0002b0  f7fffffe          BL       __aeabi_dmul
0002b4  4604              MOV      r4,r0
0002b6  2200              MOVS     r2,#0
0002b8  4b5c              LDR      r3,|L9.1068|
0002ba  f7fffffe          BL       __aeabi_dadd
0002be  2200              MOVS     r2,#0
0002c0  4b5e              LDR      r3,|L9.1084|
0002c2  e9cd0100          STRD     r0,r1,[sp,#0]
0002c6  f7fffffe          BL       __aeabi_dadd
0002ca  4682              MOV      r10,r0
0002cc  4642              MOV      r2,r8
0002ce  464b              MOV      r3,r9
0002d0  f7fffffe          BL       __aeabi_dadd
0002d4  4a57              LDR      r2,|L9.1076|
0002d6  c203              STM      r2!,{r0,r1}
0002d8  e01a              B        |L9.784|
                  |L9.730|
;;;1286   											}
;;;1287   										else
;;;1288   											{    
;;;1289   													SX1276Read( REG_LR_PKTRSSIVALUE, &SX1276LR->RegPktRssiValue );
0002da  484b              LDR      r0,|L9.1032|
0002dc  6801              LDR      r1,[r0,#0]  ; SX1276LR
0002de  311a              ADDS     r1,r1,#0x1a
0002e0  201a              MOVS     r0,#0x1a
0002e2  f7fffffe          BL       SX1276Read
;;;1290   													RxPacketRssiValue = RssiOffsetHF[LoRaSettings.SignalBw] + ( double )SX1276LR->RegPktRssiValue;
0002e6  4948              LDR      r1,|L9.1032|
0002e8  6809              LDR      r1,[r1,#0]  ; SX1276LR
0002ea  7e88              LDRB     r0,[r1,#0x1a]
0002ec  f7fffffe          BL       __aeabi_ui2d
0002f0  4604              MOV      r4,r0
0002f2  460d              MOV      r5,r1
0002f4  4845              LDR      r0,|L9.1036|
0002f6  7940              LDRB     r0,[r0,#5]  ; LoRaSettings
0002f8  4951              LDR      r1,|L9.1088|
0002fa  eb0100c0          ADD      r0,r1,r0,LSL #3
0002fe  e9d06300          LDRD     r6,r3,[r0,#0]
000302  4632              MOV      r2,r6
000304  4620              MOV      r0,r4
000306  4629              MOV      r1,r5
000308  f7fffffe          BL       __aeabi_dadd
00030c  4a49              LDR      r2,|L9.1076|
00030e  c203              STM      r2!,{r0,r1}
                  |L9.784|
;;;1291   											}
;;;1292   									}
;;;1293   
;;;1294   								SX1276LR->RegFifoAddrPtr = SX1276LR->RegFifoRxBaseAddr;
000310  483d              LDR      r0,|L9.1032|
000312  6800              LDR      r0,[r0,#0]  ; SX1276LR
000314  7bc0              LDRB     r0,[r0,#0xf]
000316  493c              LDR      r1,|L9.1032|
000318  6809              LDR      r1,[r1,#0]  ; SX1276LR
00031a  7348              STRB     r0,[r1,#0xd]
;;;1295   								SX1276Write( REG_LR_FIFOADDRPTR, SX1276LR->RegFifoAddrPtr );
00031c  483a              LDR      r0,|L9.1032|
00031e  6800              LDR      r0,[r0,#0]  ; SX1276LR
000320  7b41              LDRB     r1,[r0,#0xd]
000322  200d              MOVS     r0,#0xd
000324  f7fffffe          BL       SX1276Write
;;;1296   								if( LoRaSettings.ImplicitHeaderOn == true )
000328  4838              LDR      r0,|L9.1036|
00032a  7a40              LDRB     r0,[r0,#9]  ; LoRaSettings
00032c  2801              CMP      r0,#1
00032e  d10d              BNE      |L9.844|
;;;1297   									{
;;;1298   											RxPacketSize = SX1276LR->RegPayloadLength;
000330  4835              LDR      r0,|L9.1032|
000332  6800              LDR      r0,[r0,#0]  ; SX1276LR
000334  f8900022          LDRB     r0,[r0,#0x22]
000338  4942              LDR      r1,|L9.1092|
00033a  8008              STRH     r0,[r1,#0]
;;;1299   											SX1276ReadFifo( RFBuffer, SX1276LR->RegPayloadLength );
00033c  4832              LDR      r0,|L9.1032|
00033e  6800              LDR      r0,[r0,#0]  ; SX1276LR
000340  f8901022          LDRB     r1,[r0,#0x22]
000344  4833              LDR      r0,|L9.1044|
000346  f7fffffe          BL       SX1276ReadFifo
00034a  e010              B        |L9.878|
                  |L9.844|
;;;1300   									}
;;;1301   								else
;;;1302   									{
;;;1303   											SX1276Read( REG_LR_NBRXBYTES, &SX1276LR->RegNbRxBytes );
00034c  482e              LDR      r0,|L9.1032|
00034e  6801              LDR      r1,[r0,#0]  ; SX1276LR
000350  3113              ADDS     r1,r1,#0x13
000352  2013              MOVS     r0,#0x13
000354  f7fffffe          BL       SX1276Read
;;;1304   											RxPacketSize = SX1276LR->RegNbRxBytes;
000358  482b              LDR      r0,|L9.1032|
00035a  6800              LDR      r0,[r0,#0]  ; SX1276LR
00035c  7cc0              LDRB     r0,[r0,#0x13]
00035e  4939              LDR      r1,|L9.1092|
000360  8008              STRH     r0,[r1,#0]
;;;1305   											SX1276ReadFifo( RFBuffer, SX1276LR->RegNbRxBytes );
000362  4829              LDR      r0,|L9.1032|
000364  6800              LDR      r0,[r0,#0]  ; SX1276LR
000366  7cc1              LDRB     r1,[r0,#0x13]
000368  482a              LDR      r0,|L9.1044|
00036a  f7fffffe          BL       SX1276ReadFifo
                  |L9.878|
;;;1306   									}	
;;;1307   								SysTick->CTRL&=~SysTick_CTRL_ENABLE_Msk; 
00036e  f04f20e0          MOV      r0,#0xe000e000
000372  6900              LDR      r0,[r0,#0x10]
000374  f0200001          BIC      r0,r0,#1
000378  f04f21e0          MOV      r1,#0xe000e000
00037c  6108              STR      r0,[r1,#0x10]
;;;1308   								SysTick->VAL =0X00;                      							
00037e  2000              MOVS     r0,#0
000380  6188              STR      r0,[r1,#0x18]
;;;1309   								RFLRState = RFLR_STATE_RX_INIT;
000382  2001              MOVS     r0,#1
000384  491f              LDR      r1,|L9.1028|
000386  7008              STRB     r0,[r1,#0]
;;;1310   								result = RF_RX_DONE;
000388  2002              MOVS     r0,#2
00038a  9002              STR      r0,[sp,#8]
;;;1311   				break;
00038c  e109              B        |L9.1442|
                  |L9.910|
;;;1312   				case RFLR_STATE_RX_TIMEOUT:
;;;1313   								RFLRState = RFLR_STATE_RX_INIT;
00038e  2001              MOVS     r0,#1
000390  491c              LDR      r1,|L9.1028|
000392  7008              STRB     r0,[r1,#0]
;;;1314   								result = RF_RX_TIMEOUT;
000394  2003              MOVS     r0,#3
000396  9002              STR      r0,[sp,#8]
;;;1315   				break;
000398  e103              B        |L9.1442|
                  |L9.922|
;;;1316   				case RFLR_STATE_TX_INIT:
;;;1317   								SX1276LoRaSetOpMode( RFLR_OPMODE_STANDBY );
00039a  2001              MOVS     r0,#1
00039c  f7fffffe          BL       SX1276LoRaSetOpMode
;;;1318   								if( LoRaSettings.FreqHopOn == true )
0003a0  481a              LDR      r0,|L9.1036|
0003a2  7ac0              LDRB     r0,[r0,#0xb]  ; LoRaSettings
0003a4  2801              CMP      r0,#1
0003a6  d11a              BNE      |L9.990|
;;;1319   									{
;;;1320   											SX1276LR->RegIrqFlagsMask = RFLR_IRQFLAGS_RXTIMEOUT |RFLR_IRQFLAGS_RXDONE |RFLR_IRQFLAGS_PAYLOADCRCERROR |RFLR_IRQFLAGS_VALIDHEADER |RFLR_IRQFLAGS_CADDONE |RFLR_IRQFLAGS_CADDETECTED;
0003a8  20f5              MOVS     r0,#0xf5
0003aa  4917              LDR      r1,|L9.1032|
0003ac  6809              LDR      r1,[r1,#0]  ; SX1276LR
0003ae  7448              STRB     r0,[r1,#0x11]
;;;1321   											SX1276LR->RegHopPeriod = LoRaSettings.HopPeriod;
0003b0  4816              LDR      r0,|L9.1036|
0003b2  7b00              LDRB     r0,[r0,#0xc]  ; LoRaSettings
0003b4  4914              LDR      r1,|L9.1032|
0003b6  6809              LDR      r1,[r1,#0]  ; SX1276LR
0003b8  f8810024          STRB     r0,[r1,#0x24]
;;;1322   											SX1276Read( REG_LR_HOPCHANNEL, &SX1276LR->RegHopChannel );
0003bc  4812              LDR      r0,|L9.1032|
0003be  6801              LDR      r1,[r0,#0]  ; SX1276LR
0003c0  311c              ADDS     r1,r1,#0x1c
0003c2  201c              MOVS     r0,#0x1c
0003c4  f7fffffe          BL       SX1276Read
;;;1323   											SX1276LoRaSetRFFrequency( HoppingFrequencies[SX1276LR->RegHopChannel & RFLR_HOPCHANNEL_CHANNEL_MASK] );
0003c8  490f              LDR      r1,|L9.1032|
0003ca  6809              LDR      r1,[r1,#0]  ; SX1276LR
0003cc  7f09              LDRB     r1,[r1,#0x1c]
0003ce  f001013f          AND      r1,r1,#0x3f
0003d2  4a0f              LDR      r2,|L9.1040|
0003d4  f8520021          LDR      r0,[r2,r1,LSL #2]
0003d8  f7fffffe          BL       SX1276LoRaSetRFFrequency
0003dc  e008              B        |L9.1008|
                  |L9.990|
;;;1324   									}
;;;1325   								else
;;;1326   									{
;;;1327   											SX1276LR->RegIrqFlagsMask = RFLR_IRQFLAGS_RXTIMEOUT |RFLR_IRQFLAGS_RXDONE |RFLR_IRQFLAGS_PAYLOADCRCERROR |RFLR_IRQFLAGS_VALIDHEADER |RFLR_IRQFLAGS_CADDONE |RFLR_IRQFLAGS_FHSSCHANGEDCHANNEL |RFLR_IRQFLAGS_CADDETECTED;
0003de  20f7              MOVS     r0,#0xf7
0003e0  4909              LDR      r1,|L9.1032|
0003e2  6809              LDR      r1,[r1,#0]  ; SX1276LR
0003e4  7448              STRB     r0,[r1,#0x11]
;;;1328   											SX1276LR->RegHopPeriod = 0;
0003e6  2000              MOVS     r0,#0
0003e8  4907              LDR      r1,|L9.1032|
0003ea  6809              LDR      r1,[r1,#0]  ; SX1276LR
0003ec  f8810024          STRB     r0,[r1,#0x24]
                  |L9.1008|
;;;1329   									}
;;;1330   								SX1276Write( REG_LR_HOPPERIOD, SX1276LR->RegHopPeriod );
0003f0  4805              LDR      r0,|L9.1032|
0003f2  6800              LDR      r0,[r0,#0]  ; SX1276LR
0003f4  f8901024          LDRB     r1,[r0,#0x24]
0003f8  2024              MOVS     r0,#0x24
0003fa  f7fffffe          BL       SX1276Write
;;;1331   								SX1276Write( REG_LR_IRQFLAGSMASK, SX1276LR->RegIrqFlagsMask );
0003fe  4802              LDR      r0,|L9.1032|
000400  6800              LDR      r0,[r0,#0]  ; SX1276LR
000402  e021              B        |L9.1096|
                  |L9.1028|
                          DCD      RFLRState
                  |L9.1032|
                          DCD      SX1276LR
                  |L9.1036|
                          DCD      LoRaSettings
                  |L9.1040|
                          DCD      HoppingFrequencies
                  |L9.1044|
                          DCD      RFBuffer
                  |L9.1048|
                          DCD      RxTimeoutTimer
                  |L9.1052|
                          DCD      RxPacketSnrEstimate
                  |L9.1056|
                          DCD      0x33428f00
                  |L9.1060|
                          DCD      SignalBwLog
                  |L9.1064|
                          DCD      0x40240000
                  |L9.1068|
                          DCD      0xc065c000
                  |L9.1072|
                          DCD      0x40100000
                  |L9.1076|
                          DCD      RxPacketRssiValue
                  |L9.1080|
                          DCD      RssiOffsetLF
                  |L9.1084|
                          DCD      0x40180000
                  |L9.1088|
                          DCD      RssiOffsetHF
                  |L9.1092|
                          DCD      RxPacketSize
                  |L9.1096|
000448  7c41              LDRB     r1,[r0,#0x11]
00044a  2011              MOVS     r0,#0x11
00044c  f7fffffe          BL       SX1276Write
;;;1332   								SX1276LR->RegPayloadLength = TxPacketSize;// Initializes the payload size
000450  4856              LDR      r0,|L9.1452|
000452  7800              LDRB     r0,[r0,#0]  ; TxPacketSize
000454  4956              LDR      r1,|L9.1456|
000456  6809              LDR      r1,[r1,#0]  ; SX1276LR
000458  f8810022          STRB     r0,[r1,#0x22]
;;;1333   								SX1276Write( REG_LR_PAYLOADLENGTH, SX1276LR->RegPayloadLength );
00045c  4854              LDR      r0,|L9.1456|
00045e  6800              LDR      r0,[r0,#0]  ; SX1276LR
000460  f8901022          LDRB     r1,[r0,#0x22]
000464  2022              MOVS     r0,#0x22
000466  f7fffffe          BL       SX1276Write
;;;1334   								SX1276LR->RegFifoTxBaseAddr = 0x00; // Full buffer used for Tx
00046a  2000              MOVS     r0,#0
00046c  4950              LDR      r1,|L9.1456|
00046e  6809              LDR      r1,[r1,#0]  ; SX1276LR
000470  7388              STRB     r0,[r1,#0xe]
;;;1335   								SX1276Write( REG_LR_FIFOTXBASEADDR, SX1276LR->RegFifoTxBaseAddr );
000472  484f              LDR      r0,|L9.1456|
000474  6800              LDR      r0,[r0,#0]  ; SX1276LR
000476  7b81              LDRB     r1,[r0,#0xe]
000478  200e              MOVS     r0,#0xe
00047a  f7fffffe          BL       SX1276Write
;;;1336   								SX1276LR->RegFifoAddrPtr = SX1276LR->RegFifoTxBaseAddr;
00047e  484c              LDR      r0,|L9.1456|
000480  6800              LDR      r0,[r0,#0]  ; SX1276LR
000482  7b80              LDRB     r0,[r0,#0xe]
000484  494a              LDR      r1,|L9.1456|
000486  6809              LDR      r1,[r1,#0]  ; SX1276LR
000488  7348              STRB     r0,[r1,#0xd]
;;;1337   								SX1276Write( REG_LR_FIFOADDRPTR, SX1276LR->RegFifoAddrPtr );
00048a  4849              LDR      r0,|L9.1456|
00048c  6800              LDR      r0,[r0,#0]  ; SX1276LR
00048e  7b41              LDRB     r1,[r0,#0xd]
000490  200d              MOVS     r0,#0xd
000492  f7fffffe          BL       SX1276Write
;;;1338   								SX1276WriteFifo( RFBuffer, SX1276LR->RegPayloadLength );// Write payload buffer to LORA modem																					
000496  4846              LDR      r0,|L9.1456|
000498  6800              LDR      r0,[r0,#0]  ; SX1276LR
00049a  f8901022          LDRB     r1,[r0,#0x22]
00049e  4845              LDR      r0,|L9.1460|
0004a0  f7fffffe          BL       SX1276WriteFifo
;;;1339   								SX1276LR->RegDioMapping1 = RFLR_DIOMAPPING1_DIO0_01 | RFLR_DIOMAPPING1_DIO1_00 | RFLR_DIOMAPPING1_DIO2_00 | RFLR_DIOMAPPING1_DIO3_01;// TxDone               RxTimeout                   FhssChangeChannel          ValidHeader         
0004a4  2041              MOVS     r0,#0x41
0004a6  4942              LDR      r1,|L9.1456|
0004a8  6809              LDR      r1,[r1,#0]  ; SX1276LR
0004aa  f881003f          STRB     r0,[r1,#0x3f]
;;;1340   								SX1276LR->RegDioMapping2 = RFLR_DIOMAPPING2_DIO4_01 | RFLR_DIOMAPPING2_DIO5_00;// PllLock              Mode Ready
0004ae  2040              MOVS     r0,#0x40
0004b0  493f              LDR      r1,|L9.1456|
0004b2  6809              LDR      r1,[r1,#0]  ; SX1276LR
0004b4  f8810040          STRB     r0,[r1,#0x40]
;;;1341   								SX1276WriteBuffer( REG_LR_DIOMAPPING1, &SX1276LR->RegDioMapping1, 2 );
0004b8  2202              MOVS     r2,#2
0004ba  483d              LDR      r0,|L9.1456|
0004bc  6801              LDR      r1,[r0,#0]  ; SX1276LR
0004be  313f              ADDS     r1,r1,#0x3f
0004c0  2040              MOVS     r0,#0x40
0004c2  f7fffffe          BL       SX1276WriteBuffer
;;;1342   								SX1276LoRaSetOpMode( RFLR_OPMODE_TRANSMITTER );	
0004c6  2003              MOVS     r0,#3
0004c8  f7fffffe          BL       SX1276LoRaSetOpMode
;;;1343   								SX1276_Rx_Count_Time();//2015.07.09							
0004cc  f7fffffe          BL       SX1276_Rx_Count_Time
;;;1344   								RFLRState = RFLR_STATE_TX_RUNNING;
0004d0  2006              MOVS     r0,#6
0004d2  4939              LDR      r1,|L9.1464|
0004d4  7008              STRB     r0,[r1,#0]
;;;1345   				break;
0004d6  e064              B        |L9.1442|
                  |L9.1240|
;;;1346   				case RFLR_STATE_TX_RUNNING:
;;;1347   								if( DIO0 == 1 ) // TxDone
0004d8  f7fffffe          BL       SX1276ReadDio0
0004dc  2801              CMP      r0,#1
0004de  d106              BNE      |L9.1262|
;;;1348   										{
;;;1349   												SX1276Write( REG_LR_IRQFLAGS, RFLR_IRQFLAGS_TXDONE  );// Clear Irq
0004e0  2108              MOVS     r1,#8
0004e2  2012              MOVS     r0,#0x12
0004e4  f7fffffe          BL       SX1276Write
;;;1350   												RFLRState = RFLR_STATE_TX_DONE;   
0004e8  2007              MOVS     r0,#7
0004ea  4933              LDR      r1,|L9.1464|
0004ec  7008              STRB     r0,[r1,#0]
                  |L9.1262|
;;;1351   										}
;;;1352   								if( DIO2 == 1 ) // FHSS Changed Channel
0004ee  f7fffffe          BL       SX1276ReadDio2
0004f2  2801              CMP      r0,#1
0004f4  d118              BNE      |L9.1320|
;;;1353   										{
;;;1354   												if( LoRaSettings.FreqHopOn == true )
0004f6  4831              LDR      r0,|L9.1468|
0004f8  7ac0              LDRB     r0,[r0,#0xb]  ; LoRaSettings
0004fa  2801              CMP      r0,#1
0004fc  d10f              BNE      |L9.1310|
;;;1355   													{
;;;1356   															SX1276Read( REG_LR_HOPCHANNEL, &SX1276LR->RegHopChannel );
0004fe  482c              LDR      r0,|L9.1456|
000500  6801              LDR      r1,[r0,#0]  ; SX1276LR
000502  311c              ADDS     r1,r1,#0x1c
000504  201c              MOVS     r0,#0x1c
000506  f7fffffe          BL       SX1276Read
;;;1357   															SX1276LoRaSetRFFrequency( HoppingFrequencies[SX1276LR->RegHopChannel & RFLR_HOPCHANNEL_CHANNEL_MASK] );
00050a  4929              LDR      r1,|L9.1456|
00050c  6809              LDR      r1,[r1,#0]  ; SX1276LR
00050e  7f09              LDRB     r1,[r1,#0x1c]
000510  f001013f          AND      r1,r1,#0x3f
000514  4a2a              LDR      r2,|L9.1472|
000516  f8520021          LDR      r0,[r2,r1,LSL #2]
00051a  f7fffffe          BL       SX1276LoRaSetRFFrequency
                  |L9.1310|
;;;1358   													}
;;;1359   												SX1276Write( REG_LR_IRQFLAGS, RFLR_IRQFLAGS_FHSSCHANGEDCHANNEL );// Clear Irq
00051e  2102              MOVS     r1,#2
000520  2012              MOVS     r0,#0x12
000522  f7fffffe          BL       SX1276Write
000526  e01f              B        |L9.1384|
                  |L9.1320|
;;;1360   										}
;;;1361   								else
;;;1362   										{
;;;1363   											TxTimeoutTimer=SysTick->CTRL;
000528  f04f20e0          MOV      r0,#0xe000e000
00052c  6900              LDR      r0,[r0,#0x10]
00052e  4925              LDR      r1,|L9.1476|
000530  6008              STR      r0,[r1,#0]  ; TxTimeoutTimer
;;;1364   											if((TxTimeoutTimer&0x01&&!(TxTimeoutTimer&(1<<16)))==0)
000532  4608              MOV      r0,r1
000534  7800              LDRB     r0,[r0,#0]  ; TxTimeoutTimer
000536  f0000001          AND      r0,r0,#1
00053a  b130              CBZ      r0,|L9.1354|
00053c  4608              MOV      r0,r1
00053e  6800              LDR      r0,[r0,#0]  ; TxTimeoutTimer
000540  f4003080          AND      r0,r0,#0x10000
000544  b908              CBNZ     r0,|L9.1354|
000546  2001              MOVS     r0,#1
000548  e000              B        |L9.1356|
                  |L9.1354|
00054a  2000              MOVS     r0,#0
                  |L9.1356|
00054c  b960              CBNZ     r0,|L9.1384|
;;;1365   													{
;;;1366   														SysTick->CTRL&=~SysTick_CTRL_ENABLE_Msk;
00054e  f04f20e0          MOV      r0,#0xe000e000
000552  6900              LDR      r0,[r0,#0x10]
000554  f0200001          BIC      r0,r0,#1
000558  f04f21e0          MOV      r1,#0xe000e000
00055c  6108              STR      r0,[r1,#0x10]
;;;1367   														SysTick->VAL =0X00;                     
00055e  2000              MOVS     r0,#0
000560  6188              STR      r0,[r1,#0x18]
;;;1368   														RFLRState = RFLR_STATE_TX_TIMEOUT;
000562  2008              MOVS     r0,#8
000564  4914              LDR      r1,|L9.1464|
000566  7008              STRB     r0,[r1,#0]
                  |L9.1384|
;;;1369   													}
;;;1370   										}
;;;1371   				break;
000568  e01b              B        |L9.1442|
                  |L9.1386|
;;;1372   				case RFLR_STATE_TX_DONE:
;;;1373   								SX1276LoRaSetOpMode( RFLR_OPMODE_STANDBY );
00056a  2001              MOVS     r0,#1
00056c  f7fffffe          BL       SX1276LoRaSetOpMode
;;;1374   								SysTick->CTRL&=~SysTick_CTRL_ENABLE_Msk; 
000570  f04f20e0          MOV      r0,#0xe000e000
000574  6900              LDR      r0,[r0,#0x10]
000576  f0200001          BIC      r0,r0,#1
00057a  f04f21e0          MOV      r1,#0xe000e000
00057e  6108              STR      r0,[r1,#0x10]
;;;1375   								SysTick->VAL =0X00;                      
000580  2000              MOVS     r0,#0
000582  6188              STR      r0,[r1,#0x18]
;;;1376   								RFLRState = RFLR_STATE_RX_INIT;
000584  2001              MOVS     r0,#1
000586  490c              LDR      r1,|L9.1464|
000588  7008              STRB     r0,[r1,#0]
;;;1377   								result = RF_TX_DONE;
00058a  2004              MOVS     r0,#4
00058c  9002              STR      r0,[sp,#8]
;;;1378   				break;
00058e  e008              B        |L9.1442|
                  |L9.1424|
;;;1379   				case RFLR_STATE_TX_TIMEOUT:
;;;1380   					      SX1276LoRaSetOpMode( RFLR_OPMODE_STANDBY );
000590  2001              MOVS     r0,#1
000592  f7fffffe          BL       SX1276LoRaSetOpMode
;;;1381   								RFLRState = RFLR_STATE_RX_INIT;
000596  2001              MOVS     r0,#1
000598  4907              LDR      r1,|L9.1464|
00059a  7008              STRB     r0,[r1,#0]
;;;1382   								result = RF_TX_TIMEOUT;
00059c  2005              MOVS     r0,#5
00059e  9002              STR      r0,[sp,#8]
;;;1383   				break;
0005a0  bf00              NOP      
                  |L9.1442|
0005a2  bf00              NOP                            ;1191
;;;1384   			} 
;;;1385       return result;
0005a4  9802              LDR      r0,[sp,#8]
;;;1386   }
0005a6  e8bd8ffe          POP      {r1-r11,pc}
;;;1387   uint32_t SX1276Process( void )
                          ENDP

0005aa  0000              DCW      0x0000
                  |L9.1452|
                          DCD      TxPacketSize
                  |L9.1456|
                          DCD      SX1276LR
                  |L9.1460|
                          DCD      RFBuffer
                  |L9.1464|
                          DCD      RFLRState
                  |L9.1468|
                          DCD      LoRaSettings
                  |L9.1472|
                          DCD      HoppingFrequencies
                  |L9.1476|
                          DCD      TxTimeoutTimer

                          AREA ||i.SX1276LoRaProcess1||, CODE, READONLY, ALIGN=2

                  SX1276LoRaProcess1 PROC
;;;709    }
;;;710    uint32_t SX1276LoRaProcess1( void )
000000  e92d4ffe          PUSH     {r1-r11,lr}
;;;711    {
;;;712        uint32_t result = RF_BUSY;
000004  2001              MOVS     r0,#1
000006  9002              STR      r0,[sp,#8]
;;;713        
;;;714        switch( RFLRState )
000008  48fe              LDR      r0,|L10.1028|
00000a  7800              LDRB     r0,[r0,#0]  ; RFLRState
00000c  2809              CMP      r0,#9
00000e  d206              BCS      |L10.30|
000010  e8dff000          TBB      [pc,r0]
000014  050648b6          DCB      0x05,0x06,0x48,0xb6
000018  fefdfcfb          DCB      0xfe,0xfd,0xfc,0xfb
00001c  fa00              DCB      0xfa,0x00
                  |L10.30|
;;;715    			{
;;;716    				case RFLR_STATE_IDLE:
;;;717    				break;
00001e  e2c3              B        |L10.1448|
;;;718    				case RFLR_STATE_RX_INIT:  
;;;719    								SX1276LoRaSetOpMode( RFLR_OPMODE_STANDBY );
000020  2001              MOVS     r0,#1
000022  f7fffffe          BL       SX1276LoRaSetOpMode
;;;720    								SX1276LR->RegIrqFlagsMask = RFLR_IRQFLAGS_RXTIMEOUT |RFLR_IRQFLAGS_VALIDHEADER |RFLR_IRQFLAGS_TXDONE |RFLR_IRQFLAGS_CADDONE |RFLR_IRQFLAGS_CADDETECTED;
000026  209d              MOVS     r0,#0x9d
000028  49f7              LDR      r1,|L10.1032|
00002a  6809              LDR      r1,[r1,#0]  ; SX1276LR
00002c  7448              STRB     r0,[r1,#0x11]
;;;721    								SX1276Write( REG_LR_IRQFLAGSMASK, SX1276LR->RegIrqFlagsMask );
00002e  48f6              LDR      r0,|L10.1032|
000030  6800              LDR      r0,[r0,#0]  ; SX1276LR
000032  7c41              LDRB     r1,[r0,#0x11]
000034  2011              MOVS     r0,#0x11
000036  f7fffffe          BL       SX1276Write
;;;722    								if( LoRaSettings.FreqHopOn == true )
00003a  48f4              LDR      r0,|L10.1036|
00003c  7ac0              LDRB     r0,[r0,#0xb]  ; LoRaSettings
00003e  2801              CMP      r0,#1
000040  d116              BNE      |L10.112|
;;;723    										{
;;;724    												SX1276LR->RegHopPeriod = LoRaSettings.HopPeriod;
000042  48f2              LDR      r0,|L10.1036|
000044  7b00              LDRB     r0,[r0,#0xc]  ; LoRaSettings
000046  49f0              LDR      r1,|L10.1032|
000048  6809              LDR      r1,[r1,#0]  ; SX1276LR
00004a  f8810024          STRB     r0,[r1,#0x24]
;;;725    												SX1276Read( REG_LR_HOPCHANNEL, &SX1276LR->RegHopChannel );
00004e  48ee              LDR      r0,|L10.1032|
000050  6801              LDR      r1,[r0,#0]  ; SX1276LR
000052  311c              ADDS     r1,r1,#0x1c
000054  201c              MOVS     r0,#0x1c
000056  f7fffffe          BL       SX1276Read
;;;726    												SX1276LoRaSetRFFrequency( HoppingFrequencies[SX1276LR->RegHopChannel & RFLR_HOPCHANNEL_CHANNEL_MASK] );
00005a  49eb              LDR      r1,|L10.1032|
00005c  6809              LDR      r1,[r1,#0]  ; SX1276LR
00005e  7f09              LDRB     r1,[r1,#0x1c]
000060  f001013f          AND      r1,r1,#0x3f
000064  4aea              LDR      r2,|L10.1040|
000066  f8520021          LDR      r0,[r2,r1,LSL #2]
00006a  f7fffffe          BL       SX1276LoRaSetRFFrequency
00006e  e004              B        |L10.122|
                  |L10.112|
;;;727    										}
;;;728    								else
;;;729    										{
;;;730    												SX1276LR->RegHopPeriod = 255;
000070  20ff              MOVS     r0,#0xff
000072  49e5              LDR      r1,|L10.1032|
000074  6809              LDR      r1,[r1,#0]  ; SX1276LR
000076  f8810024          STRB     r0,[r1,#0x24]
                  |L10.122|
;;;731    										}
;;;732    								SX1276Write( REG_LR_HOPPERIOD, SX1276LR->RegHopPeriod );		
00007a  48e3              LDR      r0,|L10.1032|
00007c  6800              LDR      r0,[r0,#0]  ; SX1276LR
00007e  f8901024          LDRB     r1,[r0,#0x24]
000082  2024              MOVS     r0,#0x24
000084  f7fffffe          BL       SX1276Write
;;;733    								SX1276LoRaSetOpMode( RFLR_OPMODE_RECEIVER_SINGLE );
000088  2006              MOVS     r0,#6
00008a  f7fffffe          BL       SX1276LoRaSetOpMode
;;;734    								memset( RFBuffer, 0, ( size_t )RF_BUFFER_SIZE );
00008e  f44f7180          MOV      r1,#0x100
000092  48e0              LDR      r0,|L10.1044|
000094  f7fffffe          BL       __aeabi_memclr
;;;735    								SX1276_Rx_Count_Time();
000098  f7fffffe          BL       SX1276_Rx_Count_Time
;;;736    								RFLRState = RFLR_STATE_RX_RUNNING;
00009c  2002              MOVS     r0,#2
00009e  49d9              LDR      r1,|L10.1028|
0000a0  7008              STRB     r0,[r1,#0]
;;;737    				break;
0000a2  e281              B        |L10.1448|
;;;738    				case RFLR_STATE_RX_RUNNING:
;;;739    								SX1276Read(REG_LR_IRQFLAGS,&TxRxFlag );
0000a4  49dc              LDR      r1,|L10.1048|
0000a6  2012              MOVS     r0,#0x12
0000a8  f7fffffe          BL       SX1276Read
;;;740    								if((TxRxFlag&0x40)==0x40)
0000ac  48da              LDR      r0,|L10.1048|
0000ae  7800              LDRB     r0,[r0,#0]  ; TxRxFlag
0000b0  f0000040          AND      r0,r0,#0x40
0000b4  2840              CMP      r0,#0x40
0000b6  d11d              BNE      |L10.244|
;;;741    										{	
;;;742    											TxRxFlag=0X00;								
0000b8  2000              MOVS     r0,#0
0000ba  49d7              LDR      r1,|L10.1048|
0000bc  7008              STRB     r0,[r1,#0]
;;;743    											if( LoRaSettings.FreqHopOn == true )
0000be  48d3              LDR      r0,|L10.1036|
0000c0  7ac0              LDRB     r0,[r0,#0xb]  ; LoRaSettings
0000c2  2801              CMP      r0,#1
0000c4  d10f              BNE      |L10.230|
;;;744    													{
;;;745    															SX1276Read( REG_LR_HOPCHANNEL, &SX1276LR->RegHopChannel );
0000c6  48d0              LDR      r0,|L10.1032|
0000c8  6801              LDR      r1,[r0,#0]  ; SX1276LR
0000ca  311c              ADDS     r1,r1,#0x1c
0000cc  201c              MOVS     r0,#0x1c
0000ce  f7fffffe          BL       SX1276Read
;;;746    															SX1276LoRaSetRFFrequency( HoppingFrequencies[SX1276LR->RegHopChannel & RFLR_HOPCHANNEL_CHANNEL_MASK] );
0000d2  49cd              LDR      r1,|L10.1032|
0000d4  6809              LDR      r1,[r1,#0]  ; SX1276LR
0000d6  7f09              LDRB     r1,[r1,#0x1c]
0000d8  f001013f          AND      r1,r1,#0x3f
0000dc  4acc              LDR      r2,|L10.1040|
0000de  f8520021          LDR      r0,[r2,r1,LSL #2]
0000e2  f7fffffe          BL       SX1276LoRaSetRFFrequency
                  |L10.230|
;;;747    													}
;;;748    											SX1276Write( REG_LR_IRQFLAGS, RFLR_IRQFLAGS_RXDONE  );					
0000e6  2140              MOVS     r1,#0x40
0000e8  2012              MOVS     r0,#0x12
0000ea  f7fffffe          BL       SX1276Write
;;;749    											RFLRState = RFLR_STATE_RX_DONE;
0000ee  2003              MOVS     r0,#3
0000f0  49c4              LDR      r1,|L10.1028|
0000f2  7008              STRB     r0,[r1,#0]
                  |L10.244|
;;;750    										}
;;;751    								if((TxRxFlag&0x02)==0x02)
0000f4  48c8              LDR      r0,|L10.1048|
0000f6  7800              LDRB     r0,[r0,#0]  ; TxRxFlag
0000f8  f0000002          AND      r0,r0,#2
0000fc  2802              CMP      r0,#2
0000fe  d11b              BNE      |L10.312|
;;;752    										{ 
;;;753    											TxRxFlag=0X00;
000100  2000              MOVS     r0,#0
000102  49c5              LDR      r1,|L10.1048|
000104  7008              STRB     r0,[r1,#0]
;;;754    											if( LoRaSettings.FreqHopOn == true )
000106  48c1              LDR      r0,|L10.1036|
000108  7ac0              LDRB     r0,[r0,#0xb]  ; LoRaSettings
00010a  2801              CMP      r0,#1
00010c  d10f              BNE      |L10.302|
;;;755    													{
;;;756    															SX1276Read( REG_LR_HOPCHANNEL, &SX1276LR->RegHopChannel );
00010e  48be              LDR      r0,|L10.1032|
000110  6801              LDR      r1,[r0,#0]  ; SX1276LR
000112  311c              ADDS     r1,r1,#0x1c
000114  201c              MOVS     r0,#0x1c
000116  f7fffffe          BL       SX1276Read
;;;757    															SX1276LoRaSetRFFrequency( HoppingFrequencies[SX1276LR->RegHopChannel & RFLR_HOPCHANNEL_CHANNEL_MASK] );
00011a  49bb              LDR      r1,|L10.1032|
00011c  6809              LDR      r1,[r1,#0]  ; SX1276LR
00011e  7f09              LDRB     r1,[r1,#0x1c]
000120  f001013f          AND      r1,r1,#0x3f
000124  4aba              LDR      r2,|L10.1040|
000126  f8520021          LDR      r0,[r2,r1,LSL #2]
00012a  f7fffffe          BL       SX1276LoRaSetRFFrequency
                  |L10.302|
;;;758    													}
;;;759    											SX1276Write( REG_LR_IRQFLAGS, RFLR_IRQFLAGS_FHSSCHANGEDCHANNEL );// Clear Irq
00012e  2102              MOVS     r1,#2
000130  2012              MOVS     r0,#0x12
000132  f7fffffe          BL       SX1276Write
000136  e022              B        |L10.382|
                  |L10.312|
;;;760    										}
;;;761    								else
;;;762    										{
;;;763    											TxRxFlag=0X00;
000138  2000              MOVS     r0,#0
00013a  49b7              LDR      r1,|L10.1048|
00013c  7008              STRB     r0,[r1,#0]
;;;764    											RxTimeoutTimer=SysTick->CTRL;
00013e  f04f20e0          MOV      r0,#0xe000e000
000142  6900              LDR      r0,[r0,#0x10]
000144  49b5              LDR      r1,|L10.1052|
000146  6008              STR      r0,[r1,#0]  ; RxTimeoutTimer
;;;765    											if((RxTimeoutTimer&0x01&&!(RxTimeoutTimer&(1<<16)))==0)
000148  4608              MOV      r0,r1
00014a  7800              LDRB     r0,[r0,#0]  ; RxTimeoutTimer
00014c  f0000001          AND      r0,r0,#1
000150  b130              CBZ      r0,|L10.352|
000152  4608              MOV      r0,r1
000154  6800              LDR      r0,[r0,#0]  ; RxTimeoutTimer
000156  f4003080          AND      r0,r0,#0x10000
00015a  b908              CBNZ     r0,|L10.352|
00015c  2001              MOVS     r0,#1
00015e  e000              B        |L10.354|
                  |L10.352|
000160  2000              MOVS     r0,#0
                  |L10.354|
000162  b960              CBNZ     r0,|L10.382|
;;;766    													{
;;;767    														SysTick->CTRL&=~SysTick_CTRL_ENABLE_Msk;
000164  f04f20e0          MOV      r0,#0xe000e000
000168  6900              LDR      r0,[r0,#0x10]
00016a  f0200001          BIC      r0,r0,#1
00016e  f04f21e0          MOV      r1,#0xe000e000
000172  6108              STR      r0,[r1,#0x10]
;;;768    														SysTick->VAL =0X00;                     
000174  2000              MOVS     r0,#0
000176  6188              STR      r0,[r1,#0x18]
;;;769    														RFLRState = RFLR_STATE_RX_TIMEOUT;
000178  2004              MOVS     r0,#4
00017a  49a2              LDR      r1,|L10.1028|
00017c  7008              STRB     r0,[r1,#0]
                  |L10.382|
;;;770    													}
;;;771    										}
;;;772    				break;
00017e  e213              B        |L10.1448|
;;;773    				case RFLR_STATE_RX_DONE:
;;;774    								SX1276Read( REG_LR_IRQFLAGS, &SX1276LR->RegIrqFlags );
000180  48a1              LDR      r0,|L10.1032|
000182  6801              LDR      r1,[r0,#0]  ; SX1276LR
000184  3112              ADDS     r1,r1,#0x12
000186  2012              MOVS     r0,#0x12
000188  f7fffffe          BL       SX1276Read
;;;775    								if( ( SX1276LR->RegIrqFlags & RFLR_IRQFLAGS_PAYLOADCRCERROR ) == RFLR_IRQFLAGS_PAYLOADCRCERROR )
00018c  489e              LDR      r0,|L10.1032|
00018e  6800              LDR      r0,[r0,#0]  ; SX1276LR
000190  7c80              LDRB     r0,[r0,#0x12]
000192  f0000020          AND      r0,r0,#0x20
000196  2820              CMP      r0,#0x20
000198  d107              BNE      |L10.426|
;;;776    											{
;;;777    													SX1276Write( REG_LR_IRQFLAGS, RFLR_IRQFLAGS_PAYLOADCRCERROR  );
00019a  2120              MOVS     r1,#0x20
00019c  2012              MOVS     r0,#0x12
00019e  f7fffffe          BL       SX1276Write
;;;778    													RFLRState = RFLR_STATE_RX_INIT;
0001a2  2001              MOVS     r0,#1
0001a4  4997              LDR      r1,|L10.1028|
0001a6  7008              STRB     r0,[r1,#0]
;;;779    												  break;
0001a8  e1fe              B        |L10.1448|
                  |L10.426|
;;;780    											}
;;;781    								
;;;782    								{
;;;783    										uint8_t rxSnrEstimate;
;;;784    										SX1276Read( REG_LR_PKTSNRVALUE, &rxSnrEstimate );
0001aa  a901              ADD      r1,sp,#4
0001ac  2019              MOVS     r0,#0x19
0001ae  f7fffffe          BL       SX1276Read
;;;785    										if( rxSnrEstimate & 0x80 ) 
0001b2  f89d0004          LDRB     r0,[sp,#4]
0001b6  f0000080          AND      r0,r0,#0x80
0001ba  b168              CBZ      r0,|L10.472|
;;;786    												{
;;;787    														RxPacketSnrEstimate = ( ( ~rxSnrEstimate + 1 ) & 0xFF ) >> 2;
0001bc  f89d0004          LDRB     r0,[sp,#4]
0001c0  43c0              MVNS     r0,r0
0001c2  1c40              ADDS     r0,r0,#1
0001c4  f3c00085          UBFX     r0,r0,#2,#6
0001c8  4995              LDR      r1,|L10.1056|
0001ca  7008              STRB     r0,[r1,#0]
;;;788    														RxPacketSnrEstimate = -RxPacketSnrEstimate;
0001cc  4608              MOV      r0,r1
0001ce  7800              LDRB     r0,[r0,#0]  ; RxPacketSnrEstimate
0001d0  4240              RSBS     r0,r0,#0
0001d2  b240              SXTB     r0,r0
0001d4  7008              STRB     r0,[r1,#0]
0001d6  e004              B        |L10.482|
                  |L10.472|
;;;789    												}
;;;790    										else
;;;791    												{
;;;792    														RxPacketSnrEstimate = ( rxSnrEstimate & 0xFF ) >> 2;
0001d8  f89d0004          LDRB     r0,[sp,#4]
0001dc  0880              LSRS     r0,r0,#2
0001de  4990              LDR      r1,|L10.1056|
0001e0  7008              STRB     r0,[r1,#0]
                  |L10.482|
;;;793    												}
;;;794    								}
;;;795    								
;;;796    								if( LoRaSettings.RFFrequency < 860000000 )  
0001e2  488a              LDR      r0,|L10.1036|
0001e4  6800              LDR      r0,[r0,#0]  ; LoRaSettings
0001e6  498f              LDR      r1,|L10.1060|
0001e8  4288              CMP      r0,r1
0001ea  d24c              BCS      |L10.646|
;;;797    										{    
;;;798    												if( RxPacketSnrEstimate < 0 )
0001ec  488c              LDR      r0,|L10.1056|
0001ee  f9900000          LDRSB    r0,[r0,#0]  ; RxPacketSnrEstimate
0001f2  2800              CMP      r0,#0
0001f4  da2b              BGE      |L10.590|
;;;799    														{
;;;800    																RxPacketRssiValue = NOISE_ABSOLUTE_ZERO + 10.0 * SignalBwLog[LoRaSettings.SignalBw] + NOISE_FIGURE_LF + ( double )RxPacketSnrEstimate;
0001f6  488a              LDR      r0,|L10.1056|
0001f8  f9900000          LDRSB    r0,[r0,#0]  ; RxPacketSnrEstimate
0001fc  f7fffffe          BL       __aeabi_i2d
000200  4604              MOV      r4,r0
000202  460d              MOV      r5,r1
000204  4881              LDR      r0,|L10.1036|
000206  e004              B        |L10.530|
000208  e1c5              B        |L10.1430|
00020a  e1bb              B        |L10.1412|
00020c  e156              B        |L10.1212|
00020e  e0c5              B        |L10.924|
000210  e0be              B        |L10.912|
                  |L10.530|
000212  7940              LDRB     r0,[r0,#5]  ; LoRaSettings
000214  4984              LDR      r1,|L10.1064|
000216  eb0100c0          ADD      r0,r1,r0,LSL #3
00021a  e9d06300          LDRD     r6,r3,[r0,#0]
00021e  4632              MOV      r2,r6
000220  2000              MOVS     r0,#0
000222  4982              LDR      r1,|L10.1068|
000224  f7fffffe          BL       __aeabi_dmul
000228  4682              MOV      r10,r0
00022a  2200              MOVS     r2,#0
00022c  4b80              LDR      r3,|L10.1072|
00022e  f7fffffe          BL       __aeabi_dadd
000232  2200              MOVS     r2,#0
000234  4b7f              LDR      r3,|L10.1076|
000236  e9cd0100          STRD     r0,r1,[sp,#0]
00023a  f7fffffe          BL       __aeabi_dadd
00023e  4680              MOV      r8,r0
000240  4622              MOV      r2,r4
000242  462b              MOV      r3,r5
000244  f7fffffe          BL       __aeabi_dadd
000248  4a7b              LDR      r2,|L10.1080|
00024a  c203              STM      r2!,{r0,r1}
00024c  e061              B        |L10.786|
                  |L10.590|
;;;801    														}
;;;802    												else
;;;803    														{    
;;;804    																SX1276Read( REG_LR_PKTRSSIVALUE, &SX1276LR->RegPktRssiValue );
00024e  486e              LDR      r0,|L10.1032|
000250  6801              LDR      r1,[r0,#0]  ; SX1276LR
000252  311a              ADDS     r1,r1,#0x1a
000254  201a              MOVS     r0,#0x1a
000256  f7fffffe          BL       SX1276Read
;;;805    																RxPacketRssiValue = RssiOffsetLF[LoRaSettings.SignalBw] + ( double )SX1276LR->RegPktRssiValue;
00025a  496b              LDR      r1,|L10.1032|
00025c  6809              LDR      r1,[r1,#0]  ; SX1276LR
00025e  7e88              LDRB     r0,[r1,#0x1a]
000260  f7fffffe          BL       __aeabi_ui2d
000264  4604              MOV      r4,r0
000266  460d              MOV      r5,r1
000268  4868              LDR      r0,|L10.1036|
00026a  7940              LDRB     r0,[r0,#5]  ; LoRaSettings
00026c  4973              LDR      r1,|L10.1084|
00026e  eb0101c0          ADD      r1,r1,r0,LSL #3
000272  e9d16300          LDRD     r6,r3,[r1,#0]
000276  4632              MOV      r2,r6
000278  4620              MOV      r0,r4
00027a  4629              MOV      r1,r5
00027c  f7fffffe          BL       __aeabi_dadd
000280  4a6d              LDR      r2,|L10.1080|
000282  c203              STM      r2!,{r0,r1}
000284  e045              B        |L10.786|
                  |L10.646|
;;;806    														}
;;;807    										}
;;;808    								else                                        // HF
;;;809    										{    
;;;810    												if( RxPacketSnrEstimate < 0 )
000286  4866              LDR      r0,|L10.1056|
000288  f9900000          LDRSB    r0,[r0,#0]  ; RxPacketSnrEstimate
00028c  2800              CMP      r0,#0
00028e  da25              BGE      |L10.732|
;;;811    														{
;;;812    																RxPacketRssiValue = NOISE_ABSOLUTE_ZERO + 10.0 * SignalBwLog[LoRaSettings.SignalBw] + NOISE_FIGURE_HF + ( double )RxPacketSnrEstimate;
000290  4863              LDR      r0,|L10.1056|
000292  f9900000          LDRSB    r0,[r0,#0]  ; RxPacketSnrEstimate
000296  f7fffffe          BL       __aeabi_i2d
00029a  4680              MOV      r8,r0
00029c  4689              MOV      r9,r1
00029e  485b              LDR      r0,|L10.1036|
0002a0  7940              LDRB     r0,[r0,#5]  ; LoRaSettings
0002a2  4961              LDR      r1,|L10.1064|
0002a4  eb0100c0          ADD      r0,r1,r0,LSL #3
0002a8  e9d06300          LDRD     r6,r3,[r0,#0]
0002ac  4632              MOV      r2,r6
0002ae  2000              MOVS     r0,#0
0002b0  495e              LDR      r1,|L10.1068|
0002b2  f7fffffe          BL       __aeabi_dmul
0002b6  4604              MOV      r4,r0
0002b8  2200              MOVS     r2,#0
0002ba  4b5d              LDR      r3,|L10.1072|
0002bc  f7fffffe          BL       __aeabi_dadd
0002c0  2200              MOVS     r2,#0
0002c2  4b5f              LDR      r3,|L10.1088|
0002c4  e9cd0100          STRD     r0,r1,[sp,#0]
0002c8  f7fffffe          BL       __aeabi_dadd
0002cc  4682              MOV      r10,r0
0002ce  4642              MOV      r2,r8
0002d0  464b              MOV      r3,r9
0002d2  f7fffffe          BL       __aeabi_dadd
0002d6  4a58              LDR      r2,|L10.1080|
0002d8  c203              STM      r2!,{r0,r1}
0002da  e01a              B        |L10.786|
                  |L10.732|
;;;813    														}
;;;814    												else
;;;815    														{    
;;;816    																SX1276Read( REG_LR_PKTRSSIVALUE, &SX1276LR->RegPktRssiValue );
0002dc  484a              LDR      r0,|L10.1032|
0002de  6801              LDR      r1,[r0,#0]  ; SX1276LR
0002e0  311a              ADDS     r1,r1,#0x1a
0002e2  201a              MOVS     r0,#0x1a
0002e4  f7fffffe          BL       SX1276Read
;;;817    																RxPacketRssiValue = RssiOffsetHF[LoRaSettings.SignalBw] + ( double )SX1276LR->RegPktRssiValue;
0002e8  4947              LDR      r1,|L10.1032|
0002ea  6809              LDR      r1,[r1,#0]  ; SX1276LR
0002ec  7e88              LDRB     r0,[r1,#0x1a]
0002ee  f7fffffe          BL       __aeabi_ui2d
0002f2  4604              MOV      r4,r0
0002f4  460d              MOV      r5,r1
0002f6  4845              LDR      r0,|L10.1036|
0002f8  7940              LDRB     r0,[r0,#5]  ; LoRaSettings
0002fa  4952              LDR      r1,|L10.1092|
0002fc  eb0100c0          ADD      r0,r1,r0,LSL #3
000300  e9d06300          LDRD     r6,r3,[r0,#0]
000304  4632              MOV      r2,r6
000306  4620              MOV      r0,r4
000308  4629              MOV      r1,r5
00030a  f7fffffe          BL       __aeabi_dadd
00030e  4a4a              LDR      r2,|L10.1080|
000310  c203              STM      r2!,{r0,r1}
                  |L10.786|
;;;818    														}
;;;819    										}
;;;820    								SX1276LR->RegFifoAddrPtr = SX1276LR->RegFifoRxBaseAddr;
000312  483d              LDR      r0,|L10.1032|
000314  6800              LDR      r0,[r0,#0]  ; SX1276LR
000316  7bc0              LDRB     r0,[r0,#0xf]
000318  493b              LDR      r1,|L10.1032|
00031a  6809              LDR      r1,[r1,#0]  ; SX1276LR
00031c  7348              STRB     r0,[r1,#0xd]
;;;821    								SX1276Write( REG_LR_FIFOADDRPTR, SX1276LR->RegFifoAddrPtr );
00031e  483a              LDR      r0,|L10.1032|
000320  6800              LDR      r0,[r0,#0]  ; SX1276LR
000322  7b41              LDRB     r1,[r0,#0xd]
000324  200d              MOVS     r0,#0xd
000326  f7fffffe          BL       SX1276Write
;;;822    								if( LoRaSettings.ImplicitHeaderOn == true )
00032a  4838              LDR      r0,|L10.1036|
00032c  7a40              LDRB     r0,[r0,#9]  ; LoRaSettings
00032e  2801              CMP      r0,#1
000330  d10d              BNE      |L10.846|
;;;823    										{
;;;824    												RxPacketSize = SX1276LR->RegPayloadLength;
000332  4835              LDR      r0,|L10.1032|
000334  6800              LDR      r0,[r0,#0]  ; SX1276LR
000336  f8900022          LDRB     r0,[r0,#0x22]
00033a  4943              LDR      r1,|L10.1096|
00033c  8008              STRH     r0,[r1,#0]
;;;825    												SX1276ReadFifo( RFBuffer, SX1276LR->RegPayloadLength );
00033e  4832              LDR      r0,|L10.1032|
000340  6800              LDR      r0,[r0,#0]  ; SX1276LR
000342  f8901022          LDRB     r1,[r0,#0x22]
000346  4833              LDR      r0,|L10.1044|
000348  f7fffffe          BL       SX1276ReadFifo
00034c  e010              B        |L10.880|
                  |L10.846|
;;;826    										}
;;;827    								else
;;;828    										{
;;;829    												SX1276Read( REG_LR_NBRXBYTES, &SX1276LR->RegNbRxBytes );
00034e  482e              LDR      r0,|L10.1032|
000350  6801              LDR      r1,[r0,#0]  ; SX1276LR
000352  3113              ADDS     r1,r1,#0x13
000354  2013              MOVS     r0,#0x13
000356  f7fffffe          BL       SX1276Read
;;;830    												RxPacketSize = SX1276LR->RegNbRxBytes;
00035a  482b              LDR      r0,|L10.1032|
00035c  6800              LDR      r0,[r0,#0]  ; SX1276LR
00035e  7cc0              LDRB     r0,[r0,#0x13]
000360  4939              LDR      r1,|L10.1096|
000362  8008              STRH     r0,[r1,#0]
;;;831    												SX1276ReadFifo( RFBuffer, SX1276LR->RegNbRxBytes );
000364  4828              LDR      r0,|L10.1032|
000366  6800              LDR      r0,[r0,#0]  ; SX1276LR
000368  7cc1              LDRB     r1,[r0,#0x13]
00036a  482a              LDR      r0,|L10.1044|
00036c  f7fffffe          BL       SX1276ReadFifo
                  |L10.880|
;;;832    										}
;;;833    								SysTick->CTRL&=~SysTick_CTRL_ENABLE_Msk; 
000370  f04f20e0          MOV      r0,#0xe000e000
000374  6900              LDR      r0,[r0,#0x10]
000376  f0200001          BIC      r0,r0,#1
00037a  f04f21e0          MOV      r1,#0xe000e000
00037e  6108              STR      r0,[r1,#0x10]
;;;834    								SysTick->VAL =0X00;                      
000380  2000              MOVS     r0,#0
000382  6188              STR      r0,[r1,#0x18]
;;;835    								RFLRState = RFLR_STATE_RX_INIT;
000384  2001              MOVS     r0,#1
000386  491f              LDR      r1,|L10.1028|
000388  7008              STRB     r0,[r1,#0]
;;;836    								result = RF_RX_DONE;
00038a  2002              MOVS     r0,#2
00038c  9002              STR      r0,[sp,#8]
;;;837    				break;
00038e  e10b              B        |L10.1448|
                  |L10.912|
;;;838    				case RFLR_STATE_RX_TIMEOUT:
;;;839    								RFLRState = RFLR_STATE_RX_INIT;
000390  2001              MOVS     r0,#1
000392  491c              LDR      r1,|L10.1028|
000394  7008              STRB     r0,[r1,#0]
;;;840    								result = RF_RX_TIMEOUT;
000396  2003              MOVS     r0,#3
000398  9002              STR      r0,[sp,#8]
;;;841    				break;
00039a  e105              B        |L10.1448|
                  |L10.924|
;;;842    				case RFLR_STATE_TX_INIT:
;;;843    								SX1276LoRaSetOpMode( RFLR_OPMODE_STANDBY );
00039c  2001              MOVS     r0,#1
00039e  f7fffffe          BL       SX1276LoRaSetOpMode
;;;844    								if( LoRaSettings.FreqHopOn == true )
0003a2  481a              LDR      r0,|L10.1036|
0003a4  7ac0              LDRB     r0,[r0,#0xb]  ; LoRaSettings
0003a6  2801              CMP      r0,#1
0003a8  d11a              BNE      |L10.992|
;;;845    										{
;;;846    												SX1276LR->RegIrqFlagsMask = RFLR_IRQFLAGS_RXTIMEOUT |RFLR_IRQFLAGS_RXDONE |RFLR_IRQFLAGS_PAYLOADCRCERROR |RFLR_IRQFLAGS_VALIDHEADER |RFLR_IRQFLAGS_CADDONE | RFLR_IRQFLAGS_CADDETECTED;
0003aa  20f5              MOVS     r0,#0xf5
0003ac  4916              LDR      r1,|L10.1032|
0003ae  6809              LDR      r1,[r1,#0]  ; SX1276LR
0003b0  7448              STRB     r0,[r1,#0x11]
;;;847    												SX1276LR->RegHopPeriod = LoRaSettings.HopPeriod;
0003b2  4816              LDR      r0,|L10.1036|
0003b4  7b00              LDRB     r0,[r0,#0xc]  ; LoRaSettings
0003b6  4914              LDR      r1,|L10.1032|
0003b8  6809              LDR      r1,[r1,#0]  ; SX1276LR
0003ba  f8810024          STRB     r0,[r1,#0x24]
;;;848    												SX1276Read( REG_LR_HOPCHANNEL, &SX1276LR->RegHopChannel );
0003be  4812              LDR      r0,|L10.1032|
0003c0  6801              LDR      r1,[r0,#0]  ; SX1276LR
0003c2  311c              ADDS     r1,r1,#0x1c
0003c4  201c              MOVS     r0,#0x1c
0003c6  f7fffffe          BL       SX1276Read
;;;849    												SX1276LoRaSetRFFrequency( HoppingFrequencies[SX1276LR->RegHopChannel & RFLR_HOPCHANNEL_CHANNEL_MASK] );
0003ca  490f              LDR      r1,|L10.1032|
0003cc  6809              LDR      r1,[r1,#0]  ; SX1276LR
0003ce  7f09              LDRB     r1,[r1,#0x1c]
0003d0  f001013f          AND      r1,r1,#0x3f
0003d4  4a0e              LDR      r2,|L10.1040|
0003d6  f8520021          LDR      r0,[r2,r1,LSL #2]
0003da  f7fffffe          BL       SX1276LoRaSetRFFrequency
0003de  e008              B        |L10.1010|
                  |L10.992|
;;;850    										}
;;;851    								else
;;;852    										{
;;;853    												SX1276LR->RegIrqFlagsMask = RFLR_IRQFLAGS_RXTIMEOUT |RFLR_IRQFLAGS_RXDONE |RFLR_IRQFLAGS_PAYLOADCRCERROR |RFLR_IRQFLAGS_VALIDHEADER |RFLR_IRQFLAGS_CADDONE |RFLR_IRQFLAGS_FHSSCHANGEDCHANNEL |RFLR_IRQFLAGS_CADDETECTED;
0003e0  20f7              MOVS     r0,#0xf7
0003e2  4909              LDR      r1,|L10.1032|
0003e4  6809              LDR      r1,[r1,#0]  ; SX1276LR
0003e6  7448              STRB     r0,[r1,#0x11]
;;;854    												SX1276LR->RegHopPeriod = 0;
0003e8  2000              MOVS     r0,#0
0003ea  4907              LDR      r1,|L10.1032|
0003ec  6809              LDR      r1,[r1,#0]  ; SX1276LR
0003ee  f8810024          STRB     r0,[r1,#0x24]
                  |L10.1010|
;;;855    										}
;;;856    								SX1276Write( REG_LR_HOPPERIOD, SX1276LR->RegHopPeriod );
0003f2  4805              LDR      r0,|L10.1032|
0003f4  6800              LDR      r0,[r0,#0]  ; SX1276LR
0003f6  f8901024          LDRB     r1,[r0,#0x24]
0003fa  2024              MOVS     r0,#0x24
0003fc  f7fffffe          BL       SX1276Write
;;;857    								SX1276Write( REG_LR_IRQFLAGSMASK, SX1276LR->RegIrqFlagsMask );
000400  4801              LDR      r0,|L10.1032|
000402  e023              B        |L10.1100|
                  |L10.1028|
                          DCD      RFLRState
                  |L10.1032|
                          DCD      SX1276LR
                  |L10.1036|
                          DCD      LoRaSettings
                  |L10.1040|
                          DCD      HoppingFrequencies
                  |L10.1044|
                          DCD      RFBuffer
                  |L10.1048|
                          DCD      TxRxFlag
                  |L10.1052|
                          DCD      RxTimeoutTimer
                  |L10.1056|
                          DCD      RxPacketSnrEstimate
                  |L10.1060|
                          DCD      0x33428f00
                  |L10.1064|
                          DCD      SignalBwLog
                  |L10.1068|
                          DCD      0x40240000
                  |L10.1072|
                          DCD      0xc065c000
                  |L10.1076|
                          DCD      0x40100000
                  |L10.1080|
                          DCD      RxPacketRssiValue
                  |L10.1084|
                          DCD      RssiOffsetLF
                  |L10.1088|
                          DCD      0x40180000
                  |L10.1092|
                          DCD      RssiOffsetHF
                  |L10.1096|
                          DCD      RxPacketSize
                  |L10.1100|
00044c  6800              LDR      r0,[r0,#0]  ; SX1276LR
00044e  7c41              LDRB     r1,[r0,#0x11]
000450  2011              MOVS     r0,#0x11
000452  f7fffffe          BL       SX1276Write
;;;858    								SX1276LR->RegPayloadLength = TxPacketSize;
000456  4856              LDR      r0,|L10.1456|
000458  7800              LDRB     r0,[r0,#0]  ; TxPacketSize
00045a  4956              LDR      r1,|L10.1460|
00045c  6809              LDR      r1,[r1,#0]  ; SX1276LR
00045e  f8810022          STRB     r0,[r1,#0x22]
;;;859    								SX1276Write( REG_LR_PAYLOADLENGTH, SX1276LR->RegPayloadLength );
000462  4854              LDR      r0,|L10.1460|
000464  6800              LDR      r0,[r0,#0]  ; SX1276LR
000466  f8901022          LDRB     r1,[r0,#0x22]
00046a  2022              MOVS     r0,#0x22
00046c  f7fffffe          BL       SX1276Write
;;;860    								SX1276LR->RegFifoTxBaseAddr = 0x00; // Full buffer used for Tx
000470  2000              MOVS     r0,#0
000472  4950              LDR      r1,|L10.1460|
000474  6809              LDR      r1,[r1,#0]  ; SX1276LR
000476  7388              STRB     r0,[r1,#0xe]
;;;861    								SX1276Write( REG_LR_FIFOTXBASEADDR, SX1276LR->RegFifoTxBaseAddr );
000478  484e              LDR      r0,|L10.1460|
00047a  6800              LDR      r0,[r0,#0]  ; SX1276LR
00047c  7b81              LDRB     r1,[r0,#0xe]
00047e  200e              MOVS     r0,#0xe
000480  f7fffffe          BL       SX1276Write
;;;862    								SX1276LR->RegFifoAddrPtr = SX1276LR->RegFifoTxBaseAddr;
000484  484b              LDR      r0,|L10.1460|
000486  6800              LDR      r0,[r0,#0]  ; SX1276LR
000488  7b80              LDRB     r0,[r0,#0xe]
00048a  494a              LDR      r1,|L10.1460|
00048c  6809              LDR      r1,[r1,#0]  ; SX1276LR
00048e  7348              STRB     r0,[r1,#0xd]
;;;863    								SX1276Write( REG_LR_FIFOADDRPTR, SX1276LR->RegFifoAddrPtr );
000490  4848              LDR      r0,|L10.1460|
000492  6800              LDR      r0,[r0,#0]  ; SX1276LR
000494  7b41              LDRB     r1,[r0,#0xd]
000496  200d              MOVS     r0,#0xd
000498  f7fffffe          BL       SX1276Write
;;;864    								SX1276WriteFifo( RFBuffer, SX1276LR->RegPayloadLength );
00049c  4845              LDR      r0,|L10.1460|
00049e  6800              LDR      r0,[r0,#0]  ; SX1276LR
0004a0  f8901022          LDRB     r1,[r0,#0x22]
0004a4  4844              LDR      r0,|L10.1464|
0004a6  f7fffffe          BL       SX1276WriteFifo
;;;865    								SX1276LoRaSetOpMode( RFLR_OPMODE_TRANSMITTER );
0004aa  2003              MOVS     r0,#3
0004ac  f7fffffe          BL       SX1276LoRaSetOpMode
;;;866    								SX1276_Tx_Count_Time();
0004b0  f7fffffe          BL       SX1276_Tx_Count_Time
;;;867    								RFLRState = RFLR_STATE_TX_RUNNING;
0004b4  2006              MOVS     r0,#6
0004b6  4941              LDR      r1,|L10.1468|
0004b8  7008              STRB     r0,[r1,#0]
;;;868    				break;
0004ba  e075              B        |L10.1448|
                  |L10.1212|
;;;869    				case RFLR_STATE_TX_RUNNING:
;;;870    								SX1276Read(REG_LR_IRQFLAGS,&TxRxFlag );
0004bc  4940              LDR      r1,|L10.1472|
0004be  2012              MOVS     r0,#0x12
0004c0  f7fffffe          BL       SX1276Read
;;;871    								if((TxRxFlag&0x08)==0x08)
0004c4  483e              LDR      r0,|L10.1472|
0004c6  7800              LDRB     r0,[r0,#0]  ; TxRxFlag
0004c8  f0000008          AND      r0,r0,#8
0004cc  2808              CMP      r0,#8
0004ce  d113              BNE      |L10.1272|
;;;872    										{	
;;;873    											TxRxFlag=0X00;								
0004d0  2000              MOVS     r0,#0
0004d2  493b              LDR      r1,|L10.1472|
0004d4  7008              STRB     r0,[r1,#0]
;;;874    											SX1276Write( REG_LR_IRQFLAGS, RFLR_IRQFLAGS_TXDONE  );
0004d6  2108              MOVS     r1,#8
0004d8  2012              MOVS     r0,#0x12
0004da  f7fffffe          BL       SX1276Write
;;;875    											SysTick->CTRL&=~SysTick_CTRL_ENABLE_Msk;
0004de  f04f20e0          MOV      r0,#0xe000e000
0004e2  6900              LDR      r0,[r0,#0x10]
0004e4  f0200001          BIC      r0,r0,#1
0004e8  f04f21e0          MOV      r1,#0xe000e000
0004ec  6108              STR      r0,[r1,#0x10]
;;;876    											SysTick->VAL =0X00;                     
0004ee  2000              MOVS     r0,#0
0004f0  6188              STR      r0,[r1,#0x18]
;;;877    											RFLRState = RFLR_STATE_TX_DONE;   
0004f2  2007              MOVS     r0,#7
0004f4  4931              LDR      r1,|L10.1468|
0004f6  7008              STRB     r0,[r1,#0]
                  |L10.1272|
;;;878    										}
;;;879    							 if((TxRxFlag&0x02)==0x02)
0004f8  4831              LDR      r0,|L10.1472|
0004fa  7800              LDRB     r0,[r0,#0]  ; TxRxFlag
0004fc  f0000002          AND      r0,r0,#2
000500  2802              CMP      r0,#2
000502  d11b              BNE      |L10.1340|
;;;880    										{ 
;;;881    											TxRxFlag=0X00;
000504  2000              MOVS     r0,#0
000506  492e              LDR      r1,|L10.1472|
000508  7008              STRB     r0,[r1,#0]
;;;882    											if( LoRaSettings.FreqHopOn == true )
00050a  482e              LDR      r0,|L10.1476|
00050c  7ac0              LDRB     r0,[r0,#0xb]  ; LoRaSettings
00050e  2801              CMP      r0,#1
000510  d10f              BNE      |L10.1330|
;;;883    													{
;;;884    															SX1276Read( REG_LR_HOPCHANNEL, &SX1276LR->RegHopChannel );
000512  4828              LDR      r0,|L10.1460|
000514  6801              LDR      r1,[r0,#0]  ; SX1276LR
000516  311c              ADDS     r1,r1,#0x1c
000518  201c              MOVS     r0,#0x1c
00051a  f7fffffe          BL       SX1276Read
;;;885    															SX1276LoRaSetRFFrequency( HoppingFrequencies[SX1276LR->RegHopChannel & RFLR_HOPCHANNEL_CHANNEL_MASK] );
00051e  4925              LDR      r1,|L10.1460|
000520  6809              LDR      r1,[r1,#0]  ; SX1276LR
000522  7f09              LDRB     r1,[r1,#0x1c]
000524  f001013f          AND      r1,r1,#0x3f
000528  4a27              LDR      r2,|L10.1480|
00052a  f8520021          LDR      r0,[r2,r1,LSL #2]
00052e  f7fffffe          BL       SX1276LoRaSetRFFrequency
                  |L10.1330|
;;;886    													}
;;;887    											SX1276Write( REG_LR_IRQFLAGS, RFLR_IRQFLAGS_FHSSCHANGEDCHANNEL );
000532  2102              MOVS     r1,#2
000534  2012              MOVS     r0,#0x12
000536  f7fffffe          BL       SX1276Write
00053a  e022              B        |L10.1410|
                  |L10.1340|
;;;888    										}
;;;889    								else
;;;890    										{
;;;891    											TxRxFlag=0X00;
00053c  2000              MOVS     r0,#0
00053e  4920              LDR      r1,|L10.1472|
000540  7008              STRB     r0,[r1,#0]
;;;892    											TxTimeoutTimer=SysTick->CTRL;
000542  f04f20e0          MOV      r0,#0xe000e000
000546  6900              LDR      r0,[r0,#0x10]
000548  4920              LDR      r1,|L10.1484|
00054a  6008              STR      r0,[r1,#0]  ; TxTimeoutTimer
;;;893    											if((TxTimeoutTimer&0x01&&!(TxTimeoutTimer&(1<<16)))==0)
00054c  4608              MOV      r0,r1
00054e  7800              LDRB     r0,[r0,#0]  ; TxTimeoutTimer
000550  f0000001          AND      r0,r0,#1
000554  b130              CBZ      r0,|L10.1380|
000556  4608              MOV      r0,r1
000558  6800              LDR      r0,[r0,#0]  ; TxTimeoutTimer
00055a  f4003080          AND      r0,r0,#0x10000
00055e  b908              CBNZ     r0,|L10.1380|
000560  2001              MOVS     r0,#1
000562  e000              B        |L10.1382|
                  |L10.1380|
000564  2000              MOVS     r0,#0
                  |L10.1382|
000566  b960              CBNZ     r0,|L10.1410|
;;;894    													{
;;;895    														SysTick->CTRL&=~SysTick_CTRL_ENABLE_Msk;
000568  f04f20e0          MOV      r0,#0xe000e000
00056c  6900              LDR      r0,[r0,#0x10]
00056e  f0200001          BIC      r0,r0,#1
000572  f04f21e0          MOV      r1,#0xe000e000
000576  6108              STR      r0,[r1,#0x10]
;;;896    														SysTick->VAL =0X00;                    
000578  2000              MOVS     r0,#0
00057a  6188              STR      r0,[r1,#0x18]
;;;897    														RFLRState = RFLR_STATE_TX_TIMEOUT;
00057c  2008              MOVS     r0,#8
00057e  490f              LDR      r1,|L10.1468|
000580  7008              STRB     r0,[r1,#0]
                  |L10.1410|
;;;898    													}
;;;899    										}
;;;900    				break;
000582  e011              B        |L10.1448|
                  |L10.1412|
;;;901    				case RFLR_STATE_TX_DONE:
;;;902    								SX1276LoRaSetOpMode( RFLR_OPMODE_STANDBY );
000584  2001              MOVS     r0,#1
000586  f7fffffe          BL       SX1276LoRaSetOpMode
;;;903    								RFLRState = RFLR_STATE_RX_INIT;
00058a  2001              MOVS     r0,#1
00058c  490b              LDR      r1,|L10.1468|
00058e  7008              STRB     r0,[r1,#0]
;;;904    								result = RF_TX_DONE;
000590  2004              MOVS     r0,#4
000592  9002              STR      r0,[sp,#8]
;;;905    				break;
000594  e008              B        |L10.1448|
                  |L10.1430|
;;;906    				case RFLR_STATE_TX_TIMEOUT:
;;;907    					      SX1276LoRaSetOpMode( RFLR_OPMODE_STANDBY );
000596  2001              MOVS     r0,#1
000598  f7fffffe          BL       SX1276LoRaSetOpMode
;;;908    								RFLRState = RFLR_STATE_RX_INIT;
00059c  2001              MOVS     r0,#1
00059e  4907              LDR      r1,|L10.1468|
0005a0  7008              STRB     r0,[r1,#0]
;;;909    								result = RF_TX_TIMEOUT;
0005a2  2005              MOVS     r0,#5
0005a4  9002              STR      r0,[sp,#8]
;;;910    				break;
0005a6  bf00              NOP      
                  |L10.1448|
0005a8  bf00              NOP                            ;717
;;;911    			} 
;;;912       return result;
0005aa  9802              LDR      r0,[sp,#8]
;;;913    }
0005ac  e8bd8ffe          POP      {r1-r11,pc}
;;;914    
                          ENDP

                  |L10.1456|
                          DCD      TxPacketSize
                  |L10.1460|
                          DCD      SX1276LR
                  |L10.1464|
                          DCD      RFBuffer
                  |L10.1468|
                          DCD      RFLRState
                  |L10.1472|
                          DCD      TxRxFlag
                  |L10.1476|
                          DCD      LoRaSettings
                  |L10.1480|
                          DCD      HoppingFrequencies
                  |L10.1484|
                          DCD      TxTimeoutTimer

                          AREA ||i.SX1276LoRaProcess2||, CODE, READONLY, ALIGN=2

                  SX1276LoRaProcess2 PROC
;;;937    
;;;938    uint32_t SX1276LoRaProcess2( void )
000000  e92d4ffe          PUSH     {r1-r11,lr}
;;;939    {
;;;940        uint32_t result = RF_BUSY;
000004  2001              MOVS     r0,#1
000006  9002              STR      r0,[sp,#8]
;;;941        
;;;942        switch( RFLRState )
000008  48fd              LDR      r0,|L11.1024|
00000a  7800              LDRB     r0,[r0,#0]  ; RFLRState
00000c  2808              CMP      r0,#8
00000e  d205              BCS      |L11.28|
000010  e8dff000          TBB      [pc,r0]
000014  04056bcf          DCB      0x04,0x05,0x6b,0xcf
000018  eeedeceb          DCB      0xee,0xed,0xec,0xeb
                  |L11.28|
;;;943    			{
;;;944    					case RFLR_STATE_IDLE:
;;;945    					break;
00001c  e2ed              B        |L11.1530|
;;;946    					case RFLR_STATE_RX_INIT:        
;;;947    								SX1276LoRaSetOpMode( RFLR_OPMODE_STANDBY );
00001e  2001              MOVS     r0,#1
000020  f7fffffe          BL       SX1276LoRaSetOpMode
;;;948    								SX1276LR->RegIrqFlagsMask = RFLR_IRQFLAGS_RXTIMEOUT |RFLR_IRQFLAGS_VALIDHEADER |RFLR_IRQFLAGS_TXDONE |RFLR_IRQFLAGS_CADDONE |RFLR_IRQFLAGS_CADDETECTED;
000024  209d              MOVS     r0,#0x9d
000026  49f7              LDR      r1,|L11.1028|
000028  6809              LDR      r1,[r1,#0]  ; SX1276LR
00002a  7448              STRB     r0,[r1,#0x11]
;;;949    								SX1276Write( REG_LR_IRQFLAGSMASK, SX1276LR->RegIrqFlagsMask );
00002c  48f5              LDR      r0,|L11.1028|
00002e  6800              LDR      r0,[r0,#0]  ; SX1276LR
000030  7c41              LDRB     r1,[r0,#0x11]
000032  2011              MOVS     r0,#0x11
000034  f7fffffe          BL       SX1276Write
;;;950    								if( LoRaSettings.FreqHopOn == true )
000038  48f3              LDR      r0,|L11.1032|
00003a  7ac0              LDRB     r0,[r0,#0xb]  ; LoRaSettings
00003c  2801              CMP      r0,#1
00003e  d116              BNE      |L11.110|
;;;951    										{
;;;952    												SX1276LR->RegHopPeriod = LoRaSettings.HopPeriod;
000040  48f1              LDR      r0,|L11.1032|
000042  7b00              LDRB     r0,[r0,#0xc]  ; LoRaSettings
000044  49ef              LDR      r1,|L11.1028|
000046  6809              LDR      r1,[r1,#0]  ; SX1276LR
000048  f8810024          STRB     r0,[r1,#0x24]
;;;953    												SX1276Read( REG_LR_HOPCHANNEL, &SX1276LR->RegHopChannel );
00004c  48ed              LDR      r0,|L11.1028|
00004e  6801              LDR      r1,[r0,#0]  ; SX1276LR
000050  311c              ADDS     r1,r1,#0x1c
000052  201c              MOVS     r0,#0x1c
000054  f7fffffe          BL       SX1276Read
;;;954    												SX1276LoRaSetRFFrequency( HoppingFrequencies[SX1276LR->RegHopChannel & RFLR_HOPCHANNEL_CHANNEL_MASK] );
000058  49ea              LDR      r1,|L11.1028|
00005a  6809              LDR      r1,[r1,#0]  ; SX1276LR
00005c  7f09              LDRB     r1,[r1,#0x1c]
00005e  f001013f          AND      r1,r1,#0x3f
000062  4aea              LDR      r2,|L11.1036|
000064  f8520021          LDR      r0,[r2,r1,LSL #2]
000068  f7fffffe          BL       SX1276LoRaSetRFFrequency
00006c  e004              B        |L11.120|
                  |L11.110|
;;;955    										}
;;;956    									else
;;;957    										{
;;;958    												SX1276LR->RegHopPeriod = 255;
00006e  20ff              MOVS     r0,#0xff
000070  49e4              LDR      r1,|L11.1028|
000072  6809              LDR      r1,[r1,#0]  ; SX1276LR
000074  f8810024          STRB     r0,[r1,#0x24]
                  |L11.120|
;;;959    										}
;;;960    								SX1276Write( REG_LR_HOPPERIOD, SX1276LR->RegHopPeriod );
000078  48e2              LDR      r0,|L11.1028|
00007a  6800              LDR      r0,[r0,#0]  ; SX1276LR
00007c  f8901024          LDRB     r1,[r0,#0x24]
000080  2024              MOVS     r0,#0x24
000082  f7fffffe          BL       SX1276Write
;;;961    																						// RxDone                    RxTimeout                   FhssChangeChannel           CadDone
;;;962    								SX1276LR->RegDioMapping1 = RFLR_DIOMAPPING1_DIO0_00 | RFLR_DIOMAPPING1_DIO1_00 | RFLR_DIOMAPPING1_DIO2_00 | RFLR_DIOMAPPING1_DIO3_00;
000086  2000              MOVS     r0,#0
000088  49de              LDR      r1,|L11.1028|
00008a  6809              LDR      r1,[r1,#0]  ; SX1276LR
00008c  f881003f          STRB     r0,[r1,#0x3f]
;;;963    																						// CadDetected               ModeReady
;;;964    								SX1276LR->RegDioMapping2 = RFLR_DIOMAPPING2_DIO4_00 | RFLR_DIOMAPPING2_DIO5_00;
000090  49dc              LDR      r1,|L11.1028|
000092  6809              LDR      r1,[r1,#0]  ; SX1276LR
000094  f8810040          STRB     r0,[r1,#0x40]
;;;965    								SX1276WriteBuffer( REG_LR_DIOMAPPING1, &SX1276LR->RegDioMapping1, 2 );
000098  2202              MOVS     r2,#2
00009a  48da              LDR      r0,|L11.1028|
00009c  6801              LDR      r1,[r0,#0]  ; SX1276LR
00009e  313f              ADDS     r1,r1,#0x3f
0000a0  2040              MOVS     r0,#0x40
0000a2  f7fffffe          BL       SX1276WriteBuffer
;;;966    								if( LoRaSettings.RxSingleOn == true ) // Rx single mode
0000a6  48d8              LDR      r0,|L11.1032|
0000a8  7a80              LDRB     r0,[r0,#0xa]  ; LoRaSettings
0000aa  2801              CMP      r0,#1
0000ac  d103              BNE      |L11.182|
;;;967    										{
;;;968    												SX1276LoRaSetOpMode( RFLR_OPMODE_RECEIVER_SINGLE );
0000ae  2006              MOVS     r0,#6
0000b0  f7fffffe          BL       SX1276LoRaSetOpMode
0000b4  e00e              B        |L11.212|
                  |L11.182|
;;;969    										}
;;;970    								else // Rx continuous mode
;;;971    										{
;;;972    												SX1276LR->RegFifoAddrPtr = SX1276LR->RegFifoRxBaseAddr;
0000b6  48d3              LDR      r0,|L11.1028|
0000b8  6800              LDR      r0,[r0,#0]  ; SX1276LR
0000ba  7bc0              LDRB     r0,[r0,#0xf]
0000bc  49d1              LDR      r1,|L11.1028|
0000be  6809              LDR      r1,[r1,#0]  ; SX1276LR
0000c0  7348              STRB     r0,[r1,#0xd]
;;;973    												SX1276Write( REG_LR_FIFOADDRPTR, SX1276LR->RegFifoAddrPtr );
0000c2  48d0              LDR      r0,|L11.1028|
0000c4  6800              LDR      r0,[r0,#0]  ; SX1276LR
0000c6  7b41              LDRB     r1,[r0,#0xd]
0000c8  200d              MOVS     r0,#0xd
0000ca  f7fffffe          BL       SX1276Write
;;;974    												SX1276LoRaSetOpMode( RFLR_OPMODE_RECEIVER );
0000ce  2005              MOVS     r0,#5
0000d0  f7fffffe          BL       SX1276LoRaSetOpMode
                  |L11.212|
;;;975    										}
;;;976    								memset( RFBuffer, 0, ( size_t )RF_BUFFER_SIZE );
0000d4  f44f7180          MOV      r1,#0x100
0000d8  48cd              LDR      r0,|L11.1040|
0000da  f7fffffe          BL       __aeabi_memclr
;;;977    								SX1276_Rx_Count_Time();
0000de  f7fffffe          BL       SX1276_Rx_Count_Time
;;;978    								RFLRState = RFLR_STATE_RX_RUNNING;
0000e2  2002              MOVS     r0,#2
0000e4  49c6              LDR      r1,|L11.1024|
0000e6  7008              STRB     r0,[r1,#0]
;;;979    					break;
0000e8  e287              B        |L11.1530|
;;;980    					case RFLR_STATE_RX_RUNNING:
;;;981    									if( DIO0 == 1 ) 
0000ea  f7fffffe          BL       SX1276ReadDio0
0000ee  2801              CMP      r0,#1
0000f0  d11c              BNE      |L11.300|
;;;982    											{
;;;983    													SX1276_Rx_Count_Time();
0000f2  f7fffffe          BL       SX1276_Rx_Count_Time
;;;984    													if( LoRaSettings.FreqHopOn == true )
0000f6  48c4              LDR      r0,|L11.1032|
0000f8  7ac0              LDRB     r0,[r0,#0xb]  ; LoRaSettings
0000fa  2801              CMP      r0,#1
0000fc  d10f              BNE      |L11.286|
;;;985    															{
;;;986    																	SX1276Read( REG_LR_HOPCHANNEL, &SX1276LR->RegHopChannel );
0000fe  48c1              LDR      r0,|L11.1028|
000100  6801              LDR      r1,[r0,#0]  ; SX1276LR
000102  311c              ADDS     r1,r1,#0x1c
000104  201c              MOVS     r0,#0x1c
000106  f7fffffe          BL       SX1276Read
;;;987    																	SX1276LoRaSetRFFrequency( HoppingFrequencies[SX1276LR->RegHopChannel & RFLR_HOPCHANNEL_CHANNEL_MASK] );
00010a  49be              LDR      r1,|L11.1028|
00010c  6809              LDR      r1,[r1,#0]  ; SX1276LR
00010e  7f09              LDRB     r1,[r1,#0x1c]
000110  f001013f          AND      r1,r1,#0x3f
000114  4abd              LDR      r2,|L11.1036|
000116  f8520021          LDR      r0,[r2,r1,LSL #2]
00011a  f7fffffe          BL       SX1276LoRaSetRFFrequency
                  |L11.286|
;;;988    															}
;;;989    													SX1276Write( REG_LR_IRQFLAGS, RFLR_IRQFLAGS_RXDONE  );
00011e  2140              MOVS     r1,#0x40
000120  2012              MOVS     r0,#0x12
000122  f7fffffe          BL       SX1276Write
;;;990    													RFLRState = RFLR_STATE_RX_DONE;
000126  2003              MOVS     r0,#3
000128  49b5              LDR      r1,|L11.1024|
00012a  7008              STRB     r0,[r1,#0]
                  |L11.300|
;;;991    											}
;;;992    									if( DIO2 == 1 ) 
00012c  f7fffffe          BL       SX1276ReadDio2
000130  2801              CMP      r0,#1
000132  d119              BNE      |L11.360|
;;;993    											{
;;;994    													SX1276_Rx_Count_Time();
000134  f7fffffe          BL       SX1276_Rx_Count_Time
;;;995    													if( LoRaSettings.FreqHopOn == true )
000138  48b3              LDR      r0,|L11.1032|
00013a  7ac0              LDRB     r0,[r0,#0xb]  ; LoRaSettings
00013c  2801              CMP      r0,#1
00013e  d10f              BNE      |L11.352|
;;;996    															{
;;;997    																	SX1276Read( REG_LR_HOPCHANNEL, &SX1276LR->RegHopChannel );
000140  48b0              LDR      r0,|L11.1028|
000142  6801              LDR      r1,[r0,#0]  ; SX1276LR
000144  311c              ADDS     r1,r1,#0x1c
000146  201c              MOVS     r0,#0x1c
000148  f7fffffe          BL       SX1276Read
;;;998    																	SX1276LoRaSetRFFrequency( HoppingFrequencies[SX1276LR->RegHopChannel & RFLR_HOPCHANNEL_CHANNEL_MASK] );
00014c  49ad              LDR      r1,|L11.1028|
00014e  6809              LDR      r1,[r1,#0]  ; SX1276LR
000150  7f09              LDRB     r1,[r1,#0x1c]
000152  f001013f          AND      r1,r1,#0x3f
000156  4aad              LDR      r2,|L11.1036|
000158  f8520021          LDR      r0,[r2,r1,LSL #2]
00015c  f7fffffe          BL       SX1276LoRaSetRFFrequency
                  |L11.352|
;;;999    															}
;;;1000   													SX1276Write( REG_LR_IRQFLAGS, RFLR_IRQFLAGS_FHSSCHANGEDCHANNEL );
000160  2102              MOVS     r1,#2
000162  2012              MOVS     r0,#0x12
000164  f7fffffe          BL       SX1276Write
                  |L11.360|
;;;1001   											}
;;;1002   							
;;;1003   									if( LoRaSettings.RxSingleOn == true ) 
000168  48a7              LDR      r0,|L11.1032|
00016a  7a80              LDRB     r0,[r0,#0xa]  ; LoRaSettings
00016c  2801              CMP      r0,#1
00016e  d11f              BNE      |L11.432|
;;;1004   											{
;;;1005   												RxTimeoutTimer=SysTick->CTRL;
000170  f04f20e0          MOV      r0,#0xe000e000
000174  6900              LDR      r0,[r0,#0x10]
000176  49a7              LDR      r1,|L11.1044|
000178  6008              STR      r0,[r1,#0]  ; RxTimeoutTimer
;;;1006   												if((RxTimeoutTimer&0x01&&!(RxTimeoutTimer&(1<<16)))==0)
00017a  4608              MOV      r0,r1
00017c  7800              LDRB     r0,[r0,#0]  ; RxTimeoutTimer
00017e  f0000001          AND      r0,r0,#1
000182  b130              CBZ      r0,|L11.402|
000184  4608              MOV      r0,r1
000186  6800              LDR      r0,[r0,#0]  ; RxTimeoutTimer
000188  f4003080          AND      r0,r0,#0x10000
00018c  b908              CBNZ     r0,|L11.402|
00018e  2001              MOVS     r0,#1
000190  e000              B        |L11.404|
                  |L11.402|
000192  2000              MOVS     r0,#0
                  |L11.404|
000194  b960              CBNZ     r0,|L11.432|
;;;1007   														{
;;;1008   															SysTick->CTRL&=~SysTick_CTRL_ENABLE_Msk;
000196  f04f20e0          MOV      r0,#0xe000e000
00019a  6900              LDR      r0,[r0,#0x10]
00019c  f0200001          BIC      r0,r0,#1
0001a0  f04f21e0          MOV      r1,#0xe000e000
0001a4  6108              STR      r0,[r1,#0x10]
;;;1009   															SysTick->VAL =0X00;                     
0001a6  2000              MOVS     r0,#0
0001a8  6188              STR      r0,[r1,#0x18]
;;;1010   															RFLRState = RFLR_STATE_RX_TIMEOUT;
0001aa  2004              MOVS     r0,#4
0001ac  4994              LDR      r1,|L11.1024|
0001ae  7008              STRB     r0,[r1,#0]
                  |L11.432|
;;;1011   														}
;;;1012   											}
;;;1013   					break;
0001b0  e223              B        |L11.1530|
;;;1014   					case RFLR_STATE_RX_DONE:
;;;1015   									SX1276Read( REG_LR_IRQFLAGS, &SX1276LR->RegIrqFlags );
0001b2  4894              LDR      r0,|L11.1028|
0001b4  6801              LDR      r1,[r0,#0]  ; SX1276LR
0001b6  3112              ADDS     r1,r1,#0x12
0001b8  2012              MOVS     r0,#0x12
0001ba  f7fffffe          BL       SX1276Read
;;;1016   									if( ( SX1276LR->RegIrqFlags & RFLR_IRQFLAGS_PAYLOADCRCERROR ) == RFLR_IRQFLAGS_PAYLOADCRCERROR )
0001be  4891              LDR      r0,|L11.1028|
0001c0  6800              LDR      r0,[r0,#0]  ; SX1276LR
0001c2  7c80              LDRB     r0,[r0,#0x12]
0001c4  f0000020          AND      r0,r0,#0x20
0001c8  2820              CMP      r0,#0x20
0001ca  d112              BNE      |L11.498|
;;;1017   											{	
;;;1018   													SX1276Write( REG_LR_IRQFLAGS, RFLR_IRQFLAGS_PAYLOADCRCERROR  );					
0001cc  2120              MOVS     r1,#0x20
0001ce  2012              MOVS     r0,#0x12
0001d0  f7fffffe          BL       SX1276Write
;;;1019   													if( LoRaSettings.RxSingleOn == true ) 
0001d4  488c              LDR      r0,|L11.1032|
0001d6  7a80              LDRB     r0,[r0,#0xa]  ; LoRaSettings
0001d8  2801              CMP      r0,#1
0001da  d102              BNE      |L11.482|
;;;1020   														{
;;;1021   																RFLRState = RFLR_STATE_RX_INIT;
0001dc  4988              LDR      r1,|L11.1024|
0001de  7008              STRB     r0,[r1,#0]
0001e0  e002              B        |L11.488|
                  |L11.482|
;;;1022   														}
;;;1023   													else
;;;1024   														{
;;;1025   																RFLRState = RFLR_STATE_RX_RUNNING;
0001e2  2002              MOVS     r0,#2
0001e4  4986              LDR      r1,|L11.1024|
0001e6  7008              STRB     r0,[r1,#0]
                  |L11.488|
;;;1026   														}
;;;1027   													break;
0001e8  e207              B        |L11.1530|
0001ea  e1fd              B        |L11.1512|
0001ec  e1d4              B        |L11.1432|
0001ee  e159              B        |L11.1188|
0001f0  e152              B        |L11.1176|
                  |L11.498|
;;;1028   											}
;;;1029   									
;;;1030   									{
;;;1031   											uint8_t rxSnrEstimate;
;;;1032   											SX1276Read( REG_LR_PKTSNRVALUE, &rxSnrEstimate );
0001f2  a901              ADD      r1,sp,#4
0001f4  2019              MOVS     r0,#0x19
0001f6  f7fffffe          BL       SX1276Read
;;;1033   											if( rxSnrEstimate & 0x80 ) // The SNR sign bit is 1
0001fa  f89d0004          LDRB     r0,[sp,#4]
0001fe  f0000080          AND      r0,r0,#0x80
000202  b168              CBZ      r0,|L11.544|
;;;1034   											{
;;;1035   													// Invert and divide by 4
;;;1036   													RxPacketSnrEstimate = ( ( ~rxSnrEstimate + 1 ) & 0xFF ) >> 2;
000204  f89d0004          LDRB     r0,[sp,#4]
000208  43c0              MVNS     r0,r0
00020a  1c40              ADDS     r0,r0,#1
00020c  f3c00085          UBFX     r0,r0,#2,#6
000210  4981              LDR      r1,|L11.1048|
000212  7008              STRB     r0,[r1,#0]
;;;1037   													RxPacketSnrEstimate = -RxPacketSnrEstimate;
000214  4608              MOV      r0,r1
000216  7800              LDRB     r0,[r0,#0]  ; RxPacketSnrEstimate
000218  4240              RSBS     r0,r0,#0
00021a  b240              SXTB     r0,r0
00021c  7008              STRB     r0,[r1,#0]
00021e  e004              B        |L11.554|
                  |L11.544|
;;;1038   											}
;;;1039   											else
;;;1040   											{
;;;1041   													// Divide by 4
;;;1042   													RxPacketSnrEstimate = ( rxSnrEstimate & 0xFF ) >> 2;
000220  f89d0004          LDRB     r0,[sp,#4]
000224  0880              LSRS     r0,r0,#2
000226  497c              LDR      r1,|L11.1048|
000228  7008              STRB     r0,[r1,#0]
                  |L11.554|
;;;1043   											}
;;;1044   									}
;;;1045   									
;;;1046   									if( LoRaSettings.RFFrequency < 860000000 )  // LF
00022a  4877              LDR      r0,|L11.1032|
00022c  6800              LDR      r0,[r0,#0]  ; LoRaSettings
00022e  497b              LDR      r1,|L11.1052|
000230  4288              CMP      r0,r1
000232  d246              BCS      |L11.706|
;;;1047   										{    
;;;1048   												if( RxPacketSnrEstimate < 0 )
000234  4878              LDR      r0,|L11.1048|
000236  f9900000          LDRSB    r0,[r0,#0]  ; RxPacketSnrEstimate
00023a  2800              CMP      r0,#0
00023c  da25              BGE      |L11.650|
;;;1049   													{
;;;1050   															RxPacketRssiValue = NOISE_ABSOLUTE_ZERO + 10.0 * SignalBwLog[LoRaSettings.SignalBw] + NOISE_FIGURE_LF + ( double )RxPacketSnrEstimate;
00023e  4876              LDR      r0,|L11.1048|
000240  f9900000          LDRSB    r0,[r0,#0]  ; RxPacketSnrEstimate
000244  f7fffffe          BL       __aeabi_i2d
000248  4604              MOV      r4,r0
00024a  460d              MOV      r5,r1
00024c  486e              LDR      r0,|L11.1032|
00024e  7940              LDRB     r0,[r0,#5]  ; LoRaSettings
000250  4973              LDR      r1,|L11.1056|
000252  eb0100c0          ADD      r0,r1,r0,LSL #3
000256  e9d06300          LDRD     r6,r3,[r0,#0]
00025a  4632              MOV      r2,r6
00025c  2000              MOVS     r0,#0
00025e  4971              LDR      r1,|L11.1060|
000260  f7fffffe          BL       __aeabi_dmul
000264  4682              MOV      r10,r0
000266  2200              MOVS     r2,#0
000268  4b6f              LDR      r3,|L11.1064|
00026a  f7fffffe          BL       __aeabi_dadd
00026e  2200              MOVS     r2,#0
000270  4b6e              LDR      r3,|L11.1068|
000272  e9cd0100          STRD     r0,r1,[sp,#0]
000276  f7fffffe          BL       __aeabi_dadd
00027a  4680              MOV      r8,r0
00027c  4622              MOV      r2,r4
00027e  462b              MOV      r3,r5
000280  f7fffffe          BL       __aeabi_dadd
000284  4a6a              LDR      r2,|L11.1072|
000286  c203              STM      r2!,{r0,r1}
000288  e061              B        |L11.846|
                  |L11.650|
;;;1051   													}
;;;1052   												else
;;;1053   													{    
;;;1054   															SX1276Read( REG_LR_PKTRSSIVALUE, &SX1276LR->RegPktRssiValue );
00028a  485e              LDR      r0,|L11.1028|
00028c  6801              LDR      r1,[r0,#0]  ; SX1276LR
00028e  311a              ADDS     r1,r1,#0x1a
000290  201a              MOVS     r0,#0x1a
000292  f7fffffe          BL       SX1276Read
;;;1055   															RxPacketRssiValue = RssiOffsetLF[LoRaSettings.SignalBw] + ( double )SX1276LR->RegPktRssiValue;
000296  495b              LDR      r1,|L11.1028|
000298  6809              LDR      r1,[r1,#0]  ; SX1276LR
00029a  7e88              LDRB     r0,[r1,#0x1a]
00029c  f7fffffe          BL       __aeabi_ui2d
0002a0  4604              MOV      r4,r0
0002a2  460d              MOV      r5,r1
0002a4  4858              LDR      r0,|L11.1032|
0002a6  7940              LDRB     r0,[r0,#5]  ; LoRaSettings
0002a8  4962              LDR      r1,|L11.1076|
0002aa  eb0100c0          ADD      r0,r1,r0,LSL #3
0002ae  e9d06300          LDRD     r6,r3,[r0,#0]
0002b2  4632              MOV      r2,r6
0002b4  4620              MOV      r0,r4
0002b6  4629              MOV      r1,r5
0002b8  f7fffffe          BL       __aeabi_dadd
0002bc  4a5c              LDR      r2,|L11.1072|
0002be  c203              STM      r2!,{r0,r1}
0002c0  e045              B        |L11.846|
                  |L11.706|
;;;1056   													}
;;;1057   										}
;;;1058   									else                                        // HF
;;;1059   										{    
;;;1060   												if( RxPacketSnrEstimate < 0 )
0002c2  4855              LDR      r0,|L11.1048|
0002c4  f9900000          LDRSB    r0,[r0,#0]  ; RxPacketSnrEstimate
0002c8  2800              CMP      r0,#0
0002ca  da25              BGE      |L11.792|
;;;1061   													{
;;;1062   															RxPacketRssiValue = NOISE_ABSOLUTE_ZERO + 10.0 * SignalBwLog[LoRaSettings.SignalBw] + NOISE_FIGURE_HF + ( double )RxPacketSnrEstimate;
0002cc  4852              LDR      r0,|L11.1048|
0002ce  f9900000          LDRSB    r0,[r0,#0]  ; RxPacketSnrEstimate
0002d2  f7fffffe          BL       __aeabi_i2d
0002d6  4680              MOV      r8,r0
0002d8  4689              MOV      r9,r1
0002da  484b              LDR      r0,|L11.1032|
0002dc  7940              LDRB     r0,[r0,#5]  ; LoRaSettings
0002de  4950              LDR      r1,|L11.1056|
0002e0  eb0100c0          ADD      r0,r1,r0,LSL #3
0002e4  e9d06300          LDRD     r6,r3,[r0,#0]
0002e8  4632              MOV      r2,r6
0002ea  2000              MOVS     r0,#0
0002ec  494d              LDR      r1,|L11.1060|
0002ee  f7fffffe          BL       __aeabi_dmul
0002f2  4604              MOV      r4,r0
0002f4  2200              MOVS     r2,#0
0002f6  4b4c              LDR      r3,|L11.1064|
0002f8  f7fffffe          BL       __aeabi_dadd
0002fc  2200              MOVS     r2,#0
0002fe  4b4e              LDR      r3,|L11.1080|
000300  e9cd0100          STRD     r0,r1,[sp,#0]
000304  f7fffffe          BL       __aeabi_dadd
000308  4682              MOV      r10,r0
00030a  4642              MOV      r2,r8
00030c  464b              MOV      r3,r9
00030e  f7fffffe          BL       __aeabi_dadd
000312  4a47              LDR      r2,|L11.1072|
000314  c203              STM      r2!,{r0,r1}
000316  e01a              B        |L11.846|
                  |L11.792|
;;;1063   													}
;;;1064   												else
;;;1065   													{    
;;;1066   															SX1276Read( REG_LR_PKTRSSIVALUE, &SX1276LR->RegPktRssiValue );
000318  483a              LDR      r0,|L11.1028|
00031a  6801              LDR      r1,[r0,#0]  ; SX1276LR
00031c  311a              ADDS     r1,r1,#0x1a
00031e  201a              MOVS     r0,#0x1a
000320  f7fffffe          BL       SX1276Read
;;;1067   															RxPacketRssiValue = RssiOffsetHF[LoRaSettings.SignalBw] + ( double )SX1276LR->RegPktRssiValue;
000324  4937              LDR      r1,|L11.1028|
000326  6809              LDR      r1,[r1,#0]  ; SX1276LR
000328  7e88              LDRB     r0,[r1,#0x1a]
00032a  f7fffffe          BL       __aeabi_ui2d
00032e  4604              MOV      r4,r0
000330  460d              MOV      r5,r1
000332  4835              LDR      r0,|L11.1032|
000334  7940              LDRB     r0,[r0,#5]  ; LoRaSettings
000336  4941              LDR      r1,|L11.1084|
000338  eb0101c0          ADD      r1,r1,r0,LSL #3
00033c  e9d16300          LDRD     r6,r3,[r1,#0]
000340  4632              MOV      r2,r6
000342  4620              MOV      r0,r4
000344  4629              MOV      r1,r5
000346  f7fffffe          BL       __aeabi_dadd
00034a  4a39              LDR      r2,|L11.1072|
00034c  c203              STM      r2!,{r0,r1}
                  |L11.846|
;;;1068   													}
;;;1069   										}
;;;1070   
;;;1071   									if( LoRaSettings.RxSingleOn == true ) // Rx single mode
00034e  482e              LDR      r0,|L11.1032|
000350  7a80              LDRB     r0,[r0,#0xa]  ; LoRaSettings
000352  2801              CMP      r0,#1
000354  d12f              BNE      |L11.950|
;;;1072   										{
;;;1073   												SX1276LR->RegFifoAddrPtr = SX1276LR->RegFifoRxBaseAddr;
000356  482b              LDR      r0,|L11.1028|
000358  6800              LDR      r0,[r0,#0]  ; SX1276LR
00035a  7bc0              LDRB     r0,[r0,#0xf]
00035c  4929              LDR      r1,|L11.1028|
00035e  6809              LDR      r1,[r1,#0]  ; SX1276LR
000360  7348              STRB     r0,[r1,#0xd]
;;;1074   												SX1276Write( REG_LR_FIFOADDRPTR, SX1276LR->RegFifoAddrPtr );
000362  4828              LDR      r0,|L11.1028|
000364  6800              LDR      r0,[r0,#0]  ; SX1276LR
000366  7b41              LDRB     r1,[r0,#0xd]
000368  200d              MOVS     r0,#0xd
00036a  f7fffffe          BL       SX1276Write
;;;1075   												if( LoRaSettings.ImplicitHeaderOn == true )
00036e  4826              LDR      r0,|L11.1032|
000370  7a40              LDRB     r0,[r0,#9]  ; LoRaSettings
000372  2801              CMP      r0,#1
000374  d10d              BNE      |L11.914|
;;;1076   													{
;;;1077   															RxPacketSize = SX1276LR->RegPayloadLength;
000376  4823              LDR      r0,|L11.1028|
000378  6800              LDR      r0,[r0,#0]  ; SX1276LR
00037a  f8900022          LDRB     r0,[r0,#0x22]
00037e  4930              LDR      r1,|L11.1088|
000380  8008              STRH     r0,[r1,#0]
;;;1078   															SX1276ReadFifo( RFBuffer, SX1276LR->RegPayloadLength );
000382  4820              LDR      r0,|L11.1028|
000384  6800              LDR      r0,[r0,#0]  ; SX1276LR
000386  f8901022          LDRB     r1,[r0,#0x22]
00038a  4821              LDR      r0,|L11.1040|
00038c  f7fffffe          BL       SX1276ReadFifo
000390  e075              B        |L11.1150|
                  |L11.914|
;;;1079   													}
;;;1080   												else
;;;1081   													{
;;;1082   															SX1276Read( REG_LR_NBRXBYTES, &SX1276LR->RegNbRxBytes );
000392  481c              LDR      r0,|L11.1028|
000394  6801              LDR      r1,[r0,#0]  ; SX1276LR
000396  3113              ADDS     r1,r1,#0x13
000398  2013              MOVS     r0,#0x13
00039a  f7fffffe          BL       SX1276Read
;;;1083   															RxPacketSize = SX1276LR->RegNbRxBytes;
00039e  4819              LDR      r0,|L11.1028|
0003a0  6800              LDR      r0,[r0,#0]  ; SX1276LR
0003a2  7cc0              LDRB     r0,[r0,#0x13]
0003a4  4926              LDR      r1,|L11.1088|
0003a6  8008              STRH     r0,[r1,#0]
;;;1084   															SX1276ReadFifo( RFBuffer, SX1276LR->RegNbRxBytes );
0003a8  4816              LDR      r0,|L11.1028|
0003aa  6800              LDR      r0,[r0,#0]  ; SX1276LR
0003ac  7cc1              LDRB     r1,[r0,#0x13]
0003ae  4818              LDR      r0,|L11.1040|
0003b0  f7fffffe          BL       SX1276ReadFifo
0003b4  e063              B        |L11.1150|
                  |L11.950|
;;;1085   													}
;;;1086   										}
;;;1087   									else // Rx continuous mode
;;;1088   										{
;;;1089   												SX1276Read( REG_LR_FIFORXCURRENTADDR, &SX1276LR->RegFifoRxCurrentAddr );
0003b6  4813              LDR      r0,|L11.1028|
0003b8  6801              LDR      r1,[r0,#0]  ; SX1276LR
0003ba  3110              ADDS     r1,r1,#0x10
0003bc  2010              MOVS     r0,#0x10
0003be  f7fffffe          BL       SX1276Read
;;;1090   												if( LoRaSettings.ImplicitHeaderOn == true )
0003c2  4811              LDR      r0,|L11.1032|
0003c4  7a40              LDRB     r0,[r0,#9]  ; LoRaSettings
0003c6  2801              CMP      r0,#1
0003c8  d13c              BNE      |L11.1092|
;;;1091   													{
;;;1092   															RxPacketSize = SX1276LR->RegPayloadLength;
0003ca  480e              LDR      r0,|L11.1028|
0003cc  6800              LDR      r0,[r0,#0]  ; SX1276LR
0003ce  f8900022          LDRB     r0,[r0,#0x22]
0003d2  491b              LDR      r1,|L11.1088|
0003d4  8008              STRH     r0,[r1,#0]
;;;1093   															SX1276LR->RegFifoAddrPtr = SX1276LR->RegFifoRxCurrentAddr;
0003d6  480b              LDR      r0,|L11.1028|
0003d8  6800              LDR      r0,[r0,#0]  ; SX1276LR
0003da  7c00              LDRB     r0,[r0,#0x10]
0003dc  4909              LDR      r1,|L11.1028|
0003de  6809              LDR      r1,[r1,#0]  ; SX1276LR
0003e0  7348              STRB     r0,[r1,#0xd]
;;;1094   															SX1276Write( REG_LR_FIFOADDRPTR, SX1276LR->RegFifoAddrPtr );
0003e2  4808              LDR      r0,|L11.1028|
0003e4  6800              LDR      r0,[r0,#0]  ; SX1276LR
0003e6  7b41              LDRB     r1,[r0,#0xd]
0003e8  200d              MOVS     r0,#0xd
0003ea  f7fffffe          BL       SX1276Write
;;;1095   															SX1276ReadFifo( RFBuffer, SX1276LR->RegPayloadLength );
0003ee  4805              LDR      r0,|L11.1028|
0003f0  6800              LDR      r0,[r0,#0]  ; SX1276LR
0003f2  f8901022          LDRB     r1,[r0,#0x22]
0003f6  4806              LDR      r0,|L11.1040|
0003f8  f7fffffe          BL       SX1276ReadFifo
0003fc  e03f              B        |L11.1150|
0003fe  0000              DCW      0x0000
                  |L11.1024|
                          DCD      RFLRState
                  |L11.1028|
                          DCD      SX1276LR
                  |L11.1032|
                          DCD      LoRaSettings
                  |L11.1036|
                          DCD      HoppingFrequencies
                  |L11.1040|
                          DCD      RFBuffer
                  |L11.1044|
                          DCD      RxTimeoutTimer
                  |L11.1048|
                          DCD      RxPacketSnrEstimate
                  |L11.1052|
                          DCD      0x33428f00
                  |L11.1056|
                          DCD      SignalBwLog
                  |L11.1060|
                          DCD      0x40240000
                  |L11.1064|
                          DCD      0xc065c000
                  |L11.1068|
                          DCD      0x40100000
                  |L11.1072|
                          DCD      RxPacketRssiValue
                  |L11.1076|
                          DCD      RssiOffsetLF
                  |L11.1080|
                          DCD      0x40180000
                  |L11.1084|
                          DCD      RssiOffsetHF
                  |L11.1088|
                          DCD      RxPacketSize
                  |L11.1092|
;;;1096   													}
;;;1097   												else
;;;1098   													{
;;;1099   															SX1276Read( REG_LR_NBRXBYTES, &SX1276LR->RegNbRxBytes );
000444  486f              LDR      r0,|L11.1540|
000446  6801              LDR      r1,[r0,#0]  ; SX1276LR
000448  3113              ADDS     r1,r1,#0x13
00044a  2013              MOVS     r0,#0x13
00044c  f7fffffe          BL       SX1276Read
;;;1100   															RxPacketSize = SX1276LR->RegNbRxBytes;
000450  486c              LDR      r0,|L11.1540|
000452  6800              LDR      r0,[r0,#0]  ; SX1276LR
000454  7cc0              LDRB     r0,[r0,#0x13]
000456  496c              LDR      r1,|L11.1544|
000458  8008              STRH     r0,[r1,#0]
;;;1101   															SX1276LR->RegFifoAddrPtr = SX1276LR->RegFifoRxCurrentAddr;
00045a  486a              LDR      r0,|L11.1540|
00045c  6800              LDR      r0,[r0,#0]  ; SX1276LR
00045e  7c00              LDRB     r0,[r0,#0x10]
000460  4968              LDR      r1,|L11.1540|
000462  6809              LDR      r1,[r1,#0]  ; SX1276LR
000464  7348              STRB     r0,[r1,#0xd]
;;;1102   															SX1276Write( REG_LR_FIFOADDRPTR, SX1276LR->RegFifoAddrPtr );
000466  4867              LDR      r0,|L11.1540|
000468  6800              LDR      r0,[r0,#0]  ; SX1276LR
00046a  7b41              LDRB     r1,[r0,#0xd]
00046c  200d              MOVS     r0,#0xd
00046e  f7fffffe          BL       SX1276Write
;;;1103   															SX1276ReadFifo( RFBuffer, SX1276LR->RegNbRxBytes );
000472  4864              LDR      r0,|L11.1540|
000474  6800              LDR      r0,[r0,#0]  ; SX1276LR
000476  7cc1              LDRB     r1,[r0,#0x13]
000478  4864              LDR      r0,|L11.1548|
00047a  f7fffffe          BL       SX1276ReadFifo
                  |L11.1150|
;;;1104   													}
;;;1105   										}
;;;1106   									
;;;1107   									if( LoRaSettings.RxSingleOn == true ) // Rx single mode
00047e  4864              LDR      r0,|L11.1552|
000480  7a80              LDRB     r0,[r0,#0xa]  ; LoRaSettings
000482  2801              CMP      r0,#1
000484  d102              BNE      |L11.1164|
;;;1108   										{
;;;1109   												RFLRState = RFLR_STATE_RX_INIT;
000486  4963              LDR      r1,|L11.1556|
000488  7008              STRB     r0,[r1,#0]
00048a  e002              B        |L11.1170|
                  |L11.1164|
;;;1110   										}
;;;1111   									else // Rx continuous mode
;;;1112   										{
;;;1113   												RFLRState = RFLR_STATE_RX_RUNNING;
00048c  2002              MOVS     r0,#2
00048e  4961              LDR      r1,|L11.1556|
000490  7008              STRB     r0,[r1,#0]
                  |L11.1170|
;;;1114   										}
;;;1115   									result = RF_RX_DONE;
000492  2002              MOVS     r0,#2
000494  9002              STR      r0,[sp,#8]
;;;1116   					break;
000496  e0b0              B        |L11.1530|
                  |L11.1176|
;;;1117   					case RFLR_STATE_RX_TIMEOUT:
;;;1118   								RFLRState = RFLR_STATE_RX_INIT;
000498  2001              MOVS     r0,#1
00049a  495e              LDR      r1,|L11.1556|
00049c  7008              STRB     r0,[r1,#0]
;;;1119   								result = RF_RX_TIMEOUT;
00049e  2003              MOVS     r0,#3
0004a0  9002              STR      r0,[sp,#8]
;;;1120   					break;
0004a2  e0aa              B        |L11.1530|
                  |L11.1188|
;;;1121   					case RFLR_STATE_TX_INIT:
;;;1122   									SX1276LoRaSetOpMode( RFLR_OPMODE_STANDBY );
0004a4  2001              MOVS     r0,#1
0004a6  f7fffffe          BL       SX1276LoRaSetOpMode
;;;1123   									if( LoRaSettings.FreqHopOn == true )
0004aa  4859              LDR      r0,|L11.1552|
0004ac  7ac0              LDRB     r0,[r0,#0xb]  ; LoRaSettings
0004ae  2801              CMP      r0,#1
0004b0  d11a              BNE      |L11.1256|
;;;1124   										{
;;;1125   												SX1276LR->RegIrqFlagsMask = RFLR_IRQFLAGS_RXTIMEOUT |RFLR_IRQFLAGS_RXDONE |RFLR_IRQFLAGS_PAYLOADCRCERROR |RFLR_IRQFLAGS_VALIDHEADER |RFLR_IRQFLAGS_CADDONE |RFLR_IRQFLAGS_CADDETECTED;
0004b2  20f5              MOVS     r0,#0xf5
0004b4  4953              LDR      r1,|L11.1540|
0004b6  6809              LDR      r1,[r1,#0]  ; SX1276LR
0004b8  7448              STRB     r0,[r1,#0x11]
;;;1126   												SX1276LR->RegHopPeriod = LoRaSettings.HopPeriod;
0004ba  4855              LDR      r0,|L11.1552|
0004bc  7b00              LDRB     r0,[r0,#0xc]  ; LoRaSettings
0004be  4951              LDR      r1,|L11.1540|
0004c0  6809              LDR      r1,[r1,#0]  ; SX1276LR
0004c2  f8810024          STRB     r0,[r1,#0x24]
;;;1127   												SX1276Read( REG_LR_HOPCHANNEL, &SX1276LR->RegHopChannel );
0004c6  484f              LDR      r0,|L11.1540|
0004c8  6801              LDR      r1,[r0,#0]  ; SX1276LR
0004ca  311c              ADDS     r1,r1,#0x1c
0004cc  201c              MOVS     r0,#0x1c
0004ce  f7fffffe          BL       SX1276Read
;;;1128   												SX1276LoRaSetRFFrequency( HoppingFrequencies[SX1276LR->RegHopChannel & RFLR_HOPCHANNEL_CHANNEL_MASK] );
0004d2  494c              LDR      r1,|L11.1540|
0004d4  6809              LDR      r1,[r1,#0]  ; SX1276LR
0004d6  7f09              LDRB     r1,[r1,#0x1c]
0004d8  f001013f          AND      r1,r1,#0x3f
0004dc  4a4e              LDR      r2,|L11.1560|
0004de  f8520021          LDR      r0,[r2,r1,LSL #2]
0004e2  f7fffffe          BL       SX1276LoRaSetRFFrequency
0004e6  e008              B        |L11.1274|
                  |L11.1256|
;;;1129   										}
;;;1130   									else
;;;1131   										{
;;;1132   												SX1276LR->RegIrqFlagsMask = RFLR_IRQFLAGS_RXTIMEOUT |RFLR_IRQFLAGS_RXDONE |RFLR_IRQFLAGS_PAYLOADCRCERROR |RFLR_IRQFLAGS_VALIDHEADER |RFLR_IRQFLAGS_CADDONE |RFLR_IRQFLAGS_FHSSCHANGEDCHANNEL |RFLR_IRQFLAGS_CADDETECTED;
0004e8  20f7              MOVS     r0,#0xf7
0004ea  4946              LDR      r1,|L11.1540|
0004ec  6809              LDR      r1,[r1,#0]  ; SX1276LR
0004ee  7448              STRB     r0,[r1,#0x11]
;;;1133   												SX1276LR->RegHopPeriod = 0;
0004f0  2000              MOVS     r0,#0
0004f2  4944              LDR      r1,|L11.1540|
0004f4  6809              LDR      r1,[r1,#0]  ; SX1276LR
0004f6  f8810024          STRB     r0,[r1,#0x24]
                  |L11.1274|
;;;1134   										}
;;;1135   									SX1276Write( REG_LR_HOPPERIOD, SX1276LR->RegHopPeriod );
0004fa  4842              LDR      r0,|L11.1540|
0004fc  6800              LDR      r0,[r0,#0]  ; SX1276LR
0004fe  f8901024          LDRB     r1,[r0,#0x24]
000502  2024              MOVS     r0,#0x24
000504  f7fffffe          BL       SX1276Write
;;;1136   									SX1276Write( REG_LR_IRQFLAGSMASK, SX1276LR->RegIrqFlagsMask );
000508  483e              LDR      r0,|L11.1540|
00050a  6800              LDR      r0,[r0,#0]  ; SX1276LR
00050c  7c41              LDRB     r1,[r0,#0x11]
00050e  2011              MOVS     r0,#0x11
000510  f7fffffe          BL       SX1276Write
;;;1137   
;;;1138   									// Initializes the payload size
;;;1139   									SX1276LR->RegPayloadLength = TxPacketSize;
000514  4841              LDR      r0,|L11.1564|
000516  7800              LDRB     r0,[r0,#0]  ; TxPacketSize
000518  493a              LDR      r1,|L11.1540|
00051a  6809              LDR      r1,[r1,#0]  ; SX1276LR
00051c  f8810022          STRB     r0,[r1,#0x22]
;;;1140   									SX1276Write( REG_LR_PAYLOADLENGTH, SX1276LR->RegPayloadLength );
000520  4838              LDR      r0,|L11.1540|
000522  6800              LDR      r0,[r0,#0]  ; SX1276LR
000524  f8901022          LDRB     r1,[r0,#0x22]
000528  2022              MOVS     r0,#0x22
00052a  f7fffffe          BL       SX1276Write
;;;1141   									
;;;1142   									SX1276LR->RegFifoTxBaseAddr = 0x00; // Full buffer used for Tx
00052e  2000              MOVS     r0,#0
000530  4934              LDR      r1,|L11.1540|
000532  6809              LDR      r1,[r1,#0]  ; SX1276LR
000534  7388              STRB     r0,[r1,#0xe]
;;;1143   									SX1276Write( REG_LR_FIFOTXBASEADDR, SX1276LR->RegFifoTxBaseAddr );
000536  4833              LDR      r0,|L11.1540|
000538  6800              LDR      r0,[r0,#0]  ; SX1276LR
00053a  7b81              LDRB     r1,[r0,#0xe]
00053c  200e              MOVS     r0,#0xe
00053e  f7fffffe          BL       SX1276Write
;;;1144   
;;;1145   									SX1276LR->RegFifoAddrPtr = SX1276LR->RegFifoTxBaseAddr;
000542  4830              LDR      r0,|L11.1540|
000544  6800              LDR      r0,[r0,#0]  ; SX1276LR
000546  7b80              LDRB     r0,[r0,#0xe]
000548  492e              LDR      r1,|L11.1540|
00054a  6809              LDR      r1,[r1,#0]  ; SX1276LR
00054c  7348              STRB     r0,[r1,#0xd]
;;;1146   									SX1276Write( REG_LR_FIFOADDRPTR, SX1276LR->RegFifoAddrPtr );
00054e  482d              LDR      r0,|L11.1540|
000550  6800              LDR      r0,[r0,#0]  ; SX1276LR
000552  7b41              LDRB     r1,[r0,#0xd]
000554  200d              MOVS     r0,#0xd
000556  f7fffffe          BL       SX1276Write
;;;1147   									
;;;1148   									// Write payload buffer to LORA modem
;;;1149   									SX1276WriteFifo( RFBuffer, SX1276LR->RegPayloadLength );
00055a  482a              LDR      r0,|L11.1540|
00055c  6800              LDR      r0,[r0,#0]  ; SX1276LR
00055e  f8901022          LDRB     r1,[r0,#0x22]
000562  482a              LDR      r0,|L11.1548|
000564  f7fffffe          BL       SX1276WriteFifo
;;;1150   																									// TxDone               RxTimeout                   FhssChangeChannel          ValidHeader         
;;;1151   									SX1276LR->RegDioMapping1 = RFLR_DIOMAPPING1_DIO0_01 | RFLR_DIOMAPPING1_DIO1_00 | RFLR_DIOMAPPING1_DIO2_00 | RFLR_DIOMAPPING1_DIO3_01;
000568  2041              MOVS     r0,#0x41
00056a  4926              LDR      r1,|L11.1540|
00056c  6809              LDR      r1,[r1,#0]  ; SX1276LR
00056e  f881003f          STRB     r0,[r1,#0x3f]
;;;1152   																									// PllLock              Mode Ready
;;;1153   									SX1276LR->RegDioMapping2 = RFLR_DIOMAPPING2_DIO4_01 | RFLR_DIOMAPPING2_DIO5_00;
000572  2040              MOVS     r0,#0x40
000574  4923              LDR      r1,|L11.1540|
000576  6809              LDR      r1,[r1,#0]  ; SX1276LR
000578  f8810040          STRB     r0,[r1,#0x40]
;;;1154   									SX1276WriteBuffer( REG_LR_DIOMAPPING1, &SX1276LR->RegDioMapping1, 2 );
00057c  2202              MOVS     r2,#2
00057e  4821              LDR      r0,|L11.1540|
000580  6801              LDR      r1,[r0,#0]  ; SX1276LR
000582  313f              ADDS     r1,r1,#0x3f
000584  2040              MOVS     r0,#0x40
000586  f7fffffe          BL       SX1276WriteBuffer
;;;1155   
;;;1156   									SX1276LoRaSetOpMode( RFLR_OPMODE_TRANSMITTER );
00058a  2003              MOVS     r0,#3
00058c  f7fffffe          BL       SX1276LoRaSetOpMode
;;;1157   									 
;;;1158   									RFLRState = RFLR_STATE_TX_RUNNING;
000590  2006              MOVS     r0,#6
000592  4920              LDR      r1,|L11.1556|
000594  7008              STRB     r0,[r1,#0]
;;;1159   					break;
000596  e030              B        |L11.1530|
                  |L11.1432|
;;;1160   					case RFLR_STATE_TX_RUNNING:
;;;1161   									if( DIO0 == 1 ) 
000598  f7fffffe          BL       SX1276ReadDio0
00059c  2801              CMP      r0,#1
00059e  d106              BNE      |L11.1454|
;;;1162   											{
;;;1163   													SX1276Write( REG_LR_IRQFLAGS, RFLR_IRQFLAGS_TXDONE  );// Clear Irq
0005a0  2108              MOVS     r1,#8
0005a2  2012              MOVS     r0,#0x12
0005a4  f7fffffe          BL       SX1276Write
;;;1164   													RFLRState = RFLR_STATE_TX_DONE;   
0005a8  2007              MOVS     r0,#7
0005aa  491a              LDR      r1,|L11.1556|
0005ac  7008              STRB     r0,[r1,#0]
                  |L11.1454|
;;;1165   											}
;;;1166   									if( DIO2 == 1 ) 
0005ae  f7fffffe          BL       SX1276ReadDio2
0005b2  2801              CMP      r0,#1
0005b4  d117              BNE      |L11.1510|
;;;1167   											{
;;;1168   													if( LoRaSettings.FreqHopOn == true )
0005b6  4816              LDR      r0,|L11.1552|
0005b8  7ac0              LDRB     r0,[r0,#0xb]  ; LoRaSettings
0005ba  2801              CMP      r0,#1
0005bc  d10f              BNE      |L11.1502|
;;;1169   														{
;;;1170   																SX1276Read( REG_LR_HOPCHANNEL, &SX1276LR->RegHopChannel );
0005be  4811              LDR      r0,|L11.1540|
0005c0  6801              LDR      r1,[r0,#0]  ; SX1276LR
0005c2  311c              ADDS     r1,r1,#0x1c
0005c4  201c              MOVS     r0,#0x1c
0005c6  f7fffffe          BL       SX1276Read
;;;1171   																SX1276LoRaSetRFFrequency( HoppingFrequencies[SX1276LR->RegHopChannel & RFLR_HOPCHANNEL_CHANNEL_MASK] );
0005ca  490e              LDR      r1,|L11.1540|
0005cc  6809              LDR      r1,[r1,#0]  ; SX1276LR
0005ce  7f09              LDRB     r1,[r1,#0x1c]
0005d0  f001013f          AND      r1,r1,#0x3f
0005d4  4a10              LDR      r2,|L11.1560|
0005d6  f8520021          LDR      r0,[r2,r1,LSL #2]
0005da  f7fffffe          BL       SX1276LoRaSetRFFrequency
                  |L11.1502|
;;;1172   														}
;;;1173   													SX1276Write( REG_LR_IRQFLAGS, RFLR_IRQFLAGS_FHSSCHANGEDCHANNEL );
0005de  2102              MOVS     r1,#2
0005e0  2012              MOVS     r0,#0x12
0005e2  f7fffffe          BL       SX1276Write
                  |L11.1510|
;;;1174   											}
;;;1175   					break;
0005e6  e008              B        |L11.1530|
                  |L11.1512|
;;;1176   					case RFLR_STATE_TX_DONE:
;;;1177   									SX1276LoRaSetOpMode( RFLR_OPMODE_STANDBY );
0005e8  2001              MOVS     r0,#1
0005ea  f7fffffe          BL       SX1276LoRaSetOpMode
;;;1178   									RFLRState = RFLR_STATE_RX_INIT;
0005ee  2001              MOVS     r0,#1
0005f0  4908              LDR      r1,|L11.1556|
0005f2  7008              STRB     r0,[r1,#0]
;;;1179   									result = RF_TX_DONE;
0005f4  2004              MOVS     r0,#4
0005f6  9002              STR      r0,[sp,#8]
;;;1180   					break;
0005f8  bf00              NOP      
                  |L11.1530|
0005fa  bf00              NOP                            ;945
;;;1181   			} 
;;;1182       return result;
0005fc  9802              LDR      r0,[sp,#8]
;;;1183   }
0005fe  e8bd8ffe          POP      {r1-r11,pc}
;;;1184   uint32_t SX1276LoRaProcess( void )
                          ENDP

000602  0000              DCW      0x0000
                  |L11.1540|
                          DCD      SX1276LR
                  |L11.1544|
                          DCD      RxPacketSize
                  |L11.1548|
                          DCD      RFBuffer
                  |L11.1552|
                          DCD      LoRaSettings
                  |L11.1556|
                          DCD      RFLRState
                  |L11.1560|
                          DCD      HoppingFrequencies
                  |L11.1564|
                          DCD      TxPacketSize

                          AREA ||i.SX1276LoRaReadRssi||, CODE, READONLY, ALIGN=2

                  SX1276LoRaReadRssi PROC
;;;915    /*RSSI*/
;;;916    double SX1276LoRaReadRssi( void )
000000  e92d41f0          PUSH     {r4-r8,lr}
;;;917    {
;;;918        // Reads the RSSI value
;;;919        SX1276Read( REG_LR_PKTRSSIVALUE, &SX1276LR->RegPktRssiValue );
000004  4819              LDR      r0,|L12.108|
000006  6801              LDR      r1,[r0,#0]  ; SX1276LR
000008  311a              ADDS     r1,r1,#0x1a
00000a  201a              MOVS     r0,#0x1a
00000c  f7fffffe          BL       SX1276Read
;;;920    
;;;921        if( LoRaSettings.RFFrequency < 860000000 )  // LF
000010  4817              LDR      r0,|L12.112|
000012  6800              LDR      r0,[r0,#0]  ; LoRaSettings
000014  4917              LDR      r1,|L12.116|
000016  4288              CMP      r0,r1
000018  d214              BCS      |L12.68|
;;;922        {
;;;923            return RssiOffsetLF[LoRaSettings.SignalBw] + ( double )SX1276LR->RegPktRssiValue;		
00001a  4914              LDR      r1,|L12.108|
00001c  6809              LDR      r1,[r1,#0]  ; SX1276LR
00001e  7e88              LDRB     r0,[r1,#0x1a]
000020  f7fffffe          BL       __aeabi_ui2d
000024  4604              MOV      r4,r0
000026  460d              MOV      r5,r1
000028  4811              LDR      r0,|L12.112|
00002a  7940              LDRB     r0,[r0,#5]  ; LoRaSettings
00002c  4912              LDR      r1,|L12.120|
00002e  eb0100c0          ADD      r0,r1,r0,LSL #3
000032  e9d06300          LDRD     r6,r3,[r0,#0]
000036  4632              MOV      r2,r6
000038  4620              MOV      r0,r4
00003a  4629              MOV      r1,r5
00003c  f7fffffe          BL       __aeabi_dadd
                  |L12.64|
;;;924        }
;;;925        else
;;;926        {
;;;927            return RssiOffsetHF[LoRaSettings.SignalBw] + ( double )SX1276LR->RegPktRssiValue;
;;;928        }
;;;929    }
000040  e8bd81f0          POP      {r4-r8,pc}
                  |L12.68|
000044  4909              LDR      r1,|L12.108|
000046  6809              LDR      r1,[r1,#0]            ;927  ; SX1276LR
000048  7e88              LDRB     r0,[r1,#0x1a]         ;927
00004a  f7fffffe          BL       __aeabi_ui2d
00004e  4604              MOV      r4,r0                 ;927
000050  460d              MOV      r5,r1                 ;927
000052  4807              LDR      r0,|L12.112|
000054  7940              LDRB     r0,[r0,#5]            ;927  ; LoRaSettings
000056  4909              LDR      r1,|L12.124|
000058  eb0100c0          ADD      r0,r1,r0,LSL #3       ;927
00005c  e9d06300          LDRD     r6,r3,[r0,#0]         ;927
000060  4632              MOV      r2,r6                 ;927
000062  4620              MOV      r0,r4                 ;927
000064  4629              MOV      r1,r5                 ;927
000066  f7fffffe          BL       __aeabi_dadd
00006a  e7e9              B        |L12.64|
;;;930    uint8_t  usr_ReadRssi( void )
                          ENDP

                  |L12.108|
                          DCD      SX1276LR
                  |L12.112|
                          DCD      LoRaSettings
                  |L12.116|
                          DCD      0x33428f00
                  |L12.120|
                          DCD      RssiOffsetLF
                  |L12.124|
                          DCD      RssiOffsetHF

                          AREA ||i.SX1276LoRaReadRxGain||, CODE, READONLY, ALIGN=2

                  SX1276LoRaReadRxGain PROC
;;;648    }
;;;649    uint8_t SX1276LoRaReadRxGain( void )
000000  b510              PUSH     {r4,lr}
;;;650    {
;;;651        SX1276Read( REG_LR_LNA, &SX1276LR->RegLna );
000002  4805              LDR      r0,|L13.24|
000004  6801              LDR      r1,[r0,#0]  ; SX1276LR
000006  310c              ADDS     r1,r1,#0xc
000008  200c              MOVS     r0,#0xc
00000a  f7fffffe          BL       SX1276Read
;;;652        return( SX1276LR->RegLna >> 5 ) & 0x07;
00000e  4802              LDR      r0,|L13.24|
000010  6800              LDR      r0,[r0,#0]  ; SX1276LR
000012  7b00              LDRB     r0,[r0,#0xc]
000014  0940              LSRS     r0,r0,#5
;;;653    }
000016  bd10              POP      {r4,pc}
;;;654    
                          ENDP

                  |L13.24|
                          DCD      SX1276LR

                          AREA ||i.SX1276LoRaSetDefaults||, CODE, READONLY, ALIGN=2

                  SX1276LoRaSetDefaults PROC
;;;401    
;;;402    void SX1276LoRaSetDefaults( void )
000000  b510              PUSH     {r4,lr}
;;;403    {
;;;404        SX1276Read( REG_LR_VERSION, &SX1276LR->RegVersion );
000002  4803              LDR      r0,|L14.16|
000004  6801              LDR      r1,[r0,#0]  ; SX1276LR
000006  3141              ADDS     r1,r1,#0x41
000008  2042              MOVS     r0,#0x42
00000a  f7fffffe          BL       SX1276Read
;;;405    }
00000e  bd10              POP      {r4,pc}
;;;406    void SX1276LoRaSetRFFrequency( uint32_t freq )
                          ENDP

                  |L14.16|
                          DCD      SX1276LR

                          AREA ||i.SX1276LoRaSetErrorCoding||, CODE, READONLY, ALIGN=2

                  SX1276LoRaSetErrorCoding PROC
;;;447    }
;;;448    void SX1276LoRaSetErrorCoding( uint8_t value )
000000  b510              PUSH     {r4,lr}
;;;449    {
000002  4604              MOV      r4,r0
;;;450        SX1276Read( REG_LR_MODEMCONFIG1, &SX1276LR->RegModemConfig1 );
000004  480c              LDR      r0,|L15.56|
000006  6801              LDR      r1,[r0,#0]  ; SX1276LR
000008  311d              ADDS     r1,r1,#0x1d
00000a  201d              MOVS     r0,#0x1d
00000c  f7fffffe          BL       SX1276Read
;;;451        SX1276LR->RegModemConfig1 = ( SX1276LR->RegModemConfig1 & RFLR_MODEMCONFIG1_CODINGRATE_MASK ) | ( value << 1 );
000010  4809              LDR      r0,|L15.56|
000012  6800              LDR      r0,[r0,#0]  ; SX1276LR
000014  7f40              LDRB     r0,[r0,#0x1d]
000016  f00000f1          AND      r0,r0,#0xf1
00001a  ea400044          ORR      r0,r0,r4,LSL #1
00001e  4906              LDR      r1,|L15.56|
000020  6809              LDR      r1,[r1,#0]  ; SX1276LR
000022  7748              STRB     r0,[r1,#0x1d]
;;;452        SX1276Write( REG_LR_MODEMCONFIG1, SX1276LR->RegModemConfig1 );
000024  4804              LDR      r0,|L15.56|
000026  6800              LDR      r0,[r0,#0]  ; SX1276LR
000028  7f41              LDRB     r1,[r0,#0x1d]
00002a  201d              MOVS     r0,#0x1d
00002c  f7fffffe          BL       SX1276Write
;;;453        LoRaSettings.ErrorCoding = value;
000030  4802              LDR      r0,|L15.60|
000032  71c4              STRB     r4,[r0,#7]
;;;454    }
000034  bd10              POP      {r4,pc}
;;;455    void SX1276LoRaSetPacketCrcOn( bool enable )
                          ENDP

000036  0000              DCW      0x0000
                  |L15.56|
                          DCD      SX1276LR
                  |L15.60|
                          DCD      LoRaSettings

                          AREA ||i.SX1276LoRaSetImplicitHeaderOn||, CODE, READONLY, ALIGN=2

                  SX1276LoRaSetImplicitHeaderOn PROC
;;;468    }
;;;469    void SX1276LoRaSetImplicitHeaderOn( bool enable )
000000  b510              PUSH     {r4,lr}
;;;470    {
000002  4604              MOV      r4,r0
;;;471        SX1276Read( REG_LR_MODEMCONFIG1, &SX1276LR->RegModemConfig1 );
000004  480b              LDR      r0,|L16.52|
000006  6801              LDR      r1,[r0,#0]  ; SX1276LR
000008  311d              ADDS     r1,r1,#0x1d
00000a  201d              MOVS     r0,#0x1d
00000c  f7fffffe          BL       SX1276Read
;;;472        SX1276LR->RegModemConfig1 = ( SX1276LR->RegModemConfig1 & RFLR_MODEMCONFIG1_IMPLICITHEADER_MASK ) | ( enable );
000010  4808              LDR      r0,|L16.52|
000012  6800              LDR      r0,[r0,#0]  ; SX1276LR
000014  7f40              LDRB     r0,[r0,#0x1d]
000016  f00000fe          AND      r0,r0,#0xfe
00001a  4320              ORRS     r0,r0,r4
00001c  4905              LDR      r1,|L16.52|
00001e  6809              LDR      r1,[r1,#0]  ; SX1276LR
000020  7748              STRB     r0,[r1,#0x1d]
;;;473        SX1276Write( REG_LR_MODEMCONFIG1, SX1276LR->RegModemConfig1 );
000022  4804              LDR      r0,|L16.52|
000024  6800              LDR      r0,[r0,#0]  ; SX1276LR
000026  7f41              LDRB     r1,[r0,#0x1d]
000028  201d              MOVS     r0,#0x1d
00002a  f7fffffe          BL       SX1276Write
;;;474        LoRaSettings.ImplicitHeaderOn = enable;
00002e  4802              LDR      r0,|L16.56|
000030  7244              STRB     r4,[r0,#9]
;;;475    }
000032  bd10              POP      {r4,pc}
;;;476    void SX1276LoRaSetSymbTimeout( uint16_t value )
                          ENDP

                  |L16.52|
                          DCD      SX1276LR
                  |L16.56|
                          DCD      LoRaSettings

                          AREA ||i.SX1276LoRaSetLowDatarateOptimize||, CODE, READONLY, ALIGN=2

                  SX1276LoRaSetLowDatarateOptimize PROC
;;;489    }
;;;490    void SX1276LoRaSetLowDatarateOptimize( bool enable )
000000  b510              PUSH     {r4,lr}
;;;491    {
000002  4604              MOV      r4,r0
;;;492        SX1276Read( REG_LR_MODEMCONFIG3, &SX1276LR->RegModemConfig3 );
000004  480c              LDR      r0,|L17.56|
000006  6801              LDR      r1,[r0,#0]  ; SX1276LR
000008  3126              ADDS     r1,r1,#0x26
00000a  2026              MOVS     r0,#0x26
00000c  f7fffffe          BL       SX1276Read
;;;493        SX1276LR->RegModemConfig3 = ( SX1276LR->RegModemConfig3 & RFLR_MODEMCONFIG3_LOWDATARATEOPTIMIZE_MASK ) | ( enable << 3 );
000010  4809              LDR      r0,|L17.56|
000012  6800              LDR      r0,[r0,#0]  ; SX1276LR
000014  f8900026          LDRB     r0,[r0,#0x26]
000018  f00000f7          AND      r0,r0,#0xf7
00001c  ea4000c4          ORR      r0,r0,r4,LSL #3
000020  4905              LDR      r1,|L17.56|
000022  6809              LDR      r1,[r1,#0]  ; SX1276LR
000024  f8810026          STRB     r0,[r1,#0x26]
;;;494        SX1276Write( REG_LR_MODEMCONFIG3, SX1276LR->RegModemConfig3 );
000028  4803              LDR      r0,|L17.56|
00002a  6800              LDR      r0,[r0,#0]  ; SX1276LR
00002c  f8901026          LDRB     r1,[r0,#0x26]
000030  2026              MOVS     r0,#0x26
000032  f7fffffe          BL       SX1276Write
;;;495    }
000036  bd10              POP      {r4,pc}
;;;496    void SX1276LoRaSetPAOutput( uint8_t outputPin )
                          ENDP

                  |L17.56|
                          DCD      SX1276LR

                          AREA ||i.SX1276LoRaSetNbTrigPeaks||, CODE, READONLY, ALIGN=2

                  SX1276LoRaSetNbTrigPeaks PROC
;;;415    }
;;;416    void SX1276LoRaSetNbTrigPeaks( uint8_t value )
000000  b510              PUSH     {r4,lr}
;;;417    {
000002  4604              MOV      r4,r0
;;;418        SX1276Read( 0x31, &SX1276LR->RegTestReserved31 );
000004  480c              LDR      r0,|L18.56|
000006  6801              LDR      r1,[r0,#0]  ; SX1276LR
000008  3130              ADDS     r1,r1,#0x30
00000a  2031              MOVS     r0,#0x31
00000c  f7fffffe          BL       SX1276Read
;;;419        SX1276LR->RegTestReserved31 = ( SX1276LR->RegTestReserved31 & 0xF8 ) | value;
000010  4809              LDR      r0,|L18.56|
000012  6800              LDR      r0,[r0,#0]  ; SX1276LR
000014  f8900030          LDRB     r0,[r0,#0x30]
000018  f00000f8          AND      r0,r0,#0xf8
00001c  4320              ORRS     r0,r0,r4
00001e  4906              LDR      r1,|L18.56|
000020  6809              LDR      r1,[r1,#0]  ; SX1276LR
000022  f8810030          STRB     r0,[r1,#0x30]
;;;420        SX1276Write( 0x31, SX1276LR->RegTestReserved31 );
000026  4804              LDR      r0,|L18.56|
000028  6800              LDR      r0,[r0,#0]  ; SX1276LR
00002a  f8901030          LDRB     r1,[r0,#0x30]
00002e  2031              MOVS     r0,#0x31
000030  f7fffffe          BL       SX1276Write
;;;421    }
000034  bd10              POP      {r4,pc}
;;;422    void SX1276LoRaSetSpreadingFactor( uint8_t factor )
                          ENDP

000036  0000              DCW      0x0000
                  |L18.56|
                          DCD      SX1276LR

                          AREA ||i.SX1276LoRaSetOpMode||, CODE, READONLY, ALIGN=2

                  SX1276LoRaSetOpMode PROC
;;;334    
;;;335    void SX1276LoRaSetOpMode( uint8_t opMode )
000000  b570              PUSH     {r4-r6,lr}
;;;336    {
000002  4604              MOV      r4,r0
;;;337        static uint8_t opModePrev = RFLR_OPMODE_STANDBY;
;;;338        static bool antennaSwitchTxOnPrev = true;
;;;339        bool antennaSwitchTxOn = false;
000004  2500              MOVS     r5,#0
;;;340    
;;;341        opModePrev = SX1276LR->RegOpMode & ~RFLR_OPMODE_MASK;
000006  4814              LDR      r0,|L19.88|
000008  6800              LDR      r0,[r0,#0]  ; SX1276LR
00000a  7840              LDRB     r0,[r0,#1]
00000c  f02000f8          BIC      r0,r0,#0xf8
000010  4912              LDR      r1,|L19.92|
000012  7008              STRB     r0,[r1,#0]
;;;342    
;;;343        if( opMode != opModePrev )
000014  4608              MOV      r0,r1
000016  7800              LDRB     r0,[r0,#0]  ; opModePrev
000018  4284              CMP      r4,r0
00001a  d01c              BEQ      |L19.86|
;;;344        {
;;;345            if( opMode == RFLR_OPMODE_TRANSMITTER )
00001c  2c03              CMP      r4,#3
00001e  d101              BNE      |L19.36|
;;;346            {
;;;347                antennaSwitchTxOn = true;
000020  2501              MOVS     r5,#1
000022  e000              B        |L19.38|
                  |L19.36|
;;;348            }
;;;349            else
;;;350            {
;;;351                antennaSwitchTxOn = false;
000024  2500              MOVS     r5,#0
                  |L19.38|
;;;352            }
;;;353            if( antennaSwitchTxOn != antennaSwitchTxOnPrev )
000026  480e              LDR      r0,|L19.96|
000028  7800              LDRB     r0,[r0,#0]  ; antennaSwitchTxOnPrev
00002a  4285              CMP      r5,r0
00002c  d004              BEQ      |L19.56|
;;;354            {
;;;355                antennaSwitchTxOnPrev = antennaSwitchTxOn;
00002e  480c              LDR      r0,|L19.96|
000030  7005              STRB     r5,[r0,#0]
;;;356                RXTX( antennaSwitchTxOn ); // Antenna switch control
000032  4628              MOV      r0,r5
000034  f7fffffe          BL       SX1276WriteRxTx
                  |L19.56|
;;;357            }
;;;358            SX1276LR->RegOpMode = ( SX1276LR->RegOpMode & RFLR_OPMODE_MASK ) | opMode;
000038  4807              LDR      r0,|L19.88|
00003a  6800              LDR      r0,[r0,#0]  ; SX1276LR
00003c  7840              LDRB     r0,[r0,#1]
00003e  f00000f8          AND      r0,r0,#0xf8
000042  4320              ORRS     r0,r0,r4
000044  4904              LDR      r1,|L19.88|
000046  6809              LDR      r1,[r1,#0]  ; SX1276LR
000048  7048              STRB     r0,[r1,#1]
;;;359    
;;;360            SX1276Write( REG_LR_OPMODE, SX1276LR->RegOpMode );        
00004a  4803              LDR      r0,|L19.88|
00004c  6800              LDR      r0,[r0,#0]  ; SX1276LR
00004e  7841              LDRB     r1,[r0,#1]
000050  2001              MOVS     r0,#1
000052  f7fffffe          BL       SX1276Write
                  |L19.86|
;;;361        }
;;;362    }
000056  bd70              POP      {r4-r6,pc}
;;;363    
                          ENDP

                  |L19.88|
                          DCD      SX1276LR
                  |L19.92|
                          DCD      opModePrev
                  |L19.96|
                          DCD      antennaSwitchTxOnPrev

                          AREA ||i.SX1276LoRaSetPAOutput||, CODE, READONLY, ALIGN=2

                  SX1276LoRaSetPAOutput PROC
;;;495    }
;;;496    void SX1276LoRaSetPAOutput( uint8_t outputPin )
000000  b510              PUSH     {r4,lr}
;;;497    {
000002  4604              MOV      r4,r0
;;;498        SX1276Read( REG_LR_PACONFIG, &SX1276LR->RegPaConfig );
000004  480a              LDR      r0,|L20.48|
000006  6801              LDR      r1,[r0,#0]  ; SX1276LR
000008  3109              ADDS     r1,r1,#9
00000a  2009              MOVS     r0,#9
00000c  f7fffffe          BL       SX1276Read
;;;499        SX1276LR->RegPaConfig = (SX1276LR->RegPaConfig & RFLR_PACONFIG_PASELECT_MASK ) | outputPin;
000010  4807              LDR      r0,|L20.48|
000012  6800              LDR      r0,[r0,#0]  ; SX1276LR
000014  7a40              LDRB     r0,[r0,#9]
000016  f000007f          AND      r0,r0,#0x7f
00001a  4320              ORRS     r0,r0,r4
00001c  4904              LDR      r1,|L20.48|
00001e  6809              LDR      r1,[r1,#0]  ; SX1276LR
000020  7248              STRB     r0,[r1,#9]
;;;500        SX1276Write( REG_LR_PACONFIG, SX1276LR->RegPaConfig );
000022  4803              LDR      r0,|L20.48|
000024  6800              LDR      r0,[r0,#0]  ; SX1276LR
000026  7a41              LDRB     r1,[r0,#9]
000028  2009              MOVS     r0,#9
00002a  f7fffffe          BL       SX1276Write
;;;501    }
00002e  bd10              POP      {r4,pc}
;;;502    void SX1276LoRaSetPa20dBm( bool enale )
                          ENDP

                  |L20.48|
                          DCD      SX1276LR

                          AREA ||i.SX1276LoRaSetPa20dBm||, CODE, READONLY, ALIGN=2

                  SX1276LoRaSetPa20dBm PROC
;;;501    }
;;;502    void SX1276LoRaSetPa20dBm( bool enale )
000000  b510              PUSH     {r4,lr}
;;;503    {
000002  4604              MOV      r4,r0
;;;504        SX1276Read( REG_LR_PADAC, &SX1276LR->RegPaDac );
000004  4813              LDR      r0,|L21.84|
000006  6801              LDR      r1,[r0,#0]  ; SX1276LR
000008  314c              ADDS     r1,r1,#0x4c
00000a  204d              MOVS     r0,#0x4d
00000c  f7fffffe          BL       SX1276Read
;;;505        SX1276Read( REG_LR_PACONFIG, &SX1276LR->RegPaConfig );
000010  4810              LDR      r0,|L21.84|
000012  6801              LDR      r1,[r0,#0]  ; SX1276LR
000014  3109              ADDS     r1,r1,#9
000016  2009              MOVS     r0,#9
000018  f7fffffe          BL       SX1276Read
;;;506    
;;;507        if( ( SX1276LR->RegPaConfig & RFLR_PACONFIG_PASELECT_PABOOST ) == RFLR_PACONFIG_PASELECT_PABOOST )
00001c  480d              LDR      r0,|L21.84|
00001e  6800              LDR      r0,[r0,#0]  ; SX1276LR
000020  7a40              LDRB     r0,[r0,#9]
000022  f0000080          AND      r0,r0,#0x80
000026  2880              CMP      r0,#0x80
000028  d107              BNE      |L21.58|
;;;508        {    
;;;509            if( enale == true )
00002a  2c01              CMP      r4,#1
00002c  d10a              BNE      |L21.68|
;;;510            {
;;;511                SX1276LR->RegPaDac = 0x87;
00002e  2087              MOVS     r0,#0x87
000030  4908              LDR      r1,|L21.84|
000032  6809              LDR      r1,[r1,#0]  ; SX1276LR
000034  f881004c          STRB     r0,[r1,#0x4c]
000038  e004              B        |L21.68|
                  |L21.58|
;;;512            }
;;;513        }
;;;514        else
;;;515        {
;;;516            SX1276LR->RegPaDac = 0x84;
00003a  2084              MOVS     r0,#0x84
00003c  4905              LDR      r1,|L21.84|
00003e  6809              LDR      r1,[r1,#0]  ; SX1276LR
000040  f881004c          STRB     r0,[r1,#0x4c]
                  |L21.68|
;;;517        }
;;;518        SX1276Write( REG_LR_PADAC, SX1276LR->RegPaDac );
000044  4803              LDR      r0,|L21.84|
000046  6800              LDR      r0,[r0,#0]  ; SX1276LR
000048  f890104c          LDRB     r1,[r0,#0x4c]
00004c  204d              MOVS     r0,#0x4d
00004e  f7fffffe          BL       SX1276Write
;;;519    }
000052  bd10              POP      {r4,pc}
;;;520    void SX1276LoRaSetRFPower( int8_t power )
                          ENDP

                  |L21.84|
                          DCD      SX1276LR

                          AREA ||i.SX1276LoRaSetPacketCrcOn||, CODE, READONLY, ALIGN=2

                  SX1276LoRaSetPacketCrcOn PROC
;;;454    }
;;;455    void SX1276LoRaSetPacketCrcOn( bool enable )
000000  b510              PUSH     {r4,lr}
;;;456    {
000002  4604              MOV      r4,r0
;;;457        SX1276Read( REG_LR_MODEMCONFIG2, &SX1276LR->RegModemConfig2 );
000004  480c              LDR      r0,|L22.56|
000006  6801              LDR      r1,[r0,#0]  ; SX1276LR
000008  311e              ADDS     r1,r1,#0x1e
00000a  201e              MOVS     r0,#0x1e
00000c  f7fffffe          BL       SX1276Read
;;;458        SX1276LR->RegModemConfig2 = ( SX1276LR->RegModemConfig2 & RFLR_MODEMCONFIG2_RXPAYLOADCRC_MASK ) | ( enable << 2 );
000010  4809              LDR      r0,|L22.56|
000012  6800              LDR      r0,[r0,#0]  ; SX1276LR
000014  7f80              LDRB     r0,[r0,#0x1e]
000016  f00000fb          AND      r0,r0,#0xfb
00001a  ea400084          ORR      r0,r0,r4,LSL #2
00001e  4906              LDR      r1,|L22.56|
000020  6809              LDR      r1,[r1,#0]  ; SX1276LR
000022  7788              STRB     r0,[r1,#0x1e]
;;;459        SX1276Write( REG_LR_MODEMCONFIG2, SX1276LR->RegModemConfig2 );
000024  4804              LDR      r0,|L22.56|
000026  6800              LDR      r0,[r0,#0]  ; SX1276LR
000028  7f81              LDRB     r1,[r0,#0x1e]
00002a  201e              MOVS     r0,#0x1e
00002c  f7fffffe          BL       SX1276Write
;;;460        LoRaSettings.CrcOn = enable;
000030  4802              LDR      r0,|L22.60|
000032  7204              STRB     r4,[r0,#8]
;;;461    }
000034  bd10              POP      {r4,pc}
;;;462    void SX1276LoRaSetSignalBandwidth( uint8_t bw )
                          ENDP

000036  0000              DCW      0x0000
                  |L22.56|
                          DCD      SX1276LR
                  |L22.60|
                          DCD      LoRaSettings

                          AREA ||i.SX1276LoRaSetPayloadLength||, CODE, READONLY, ALIGN=2

                  SX1276LoRaSetPayloadLength PROC
;;;483    }
;;;484    void SX1276LoRaSetPayloadLength( uint8_t value )
000000  b510              PUSH     {r4,lr}
;;;485    {
000002  4604              MOV      r4,r0
;;;486        SX1276LR->RegPayloadLength = value;
000004  4806              LDR      r0,|L23.32|
000006  6800              LDR      r0,[r0,#0]  ; SX1276LR
000008  f8804022          STRB     r4,[r0,#0x22]
;;;487        SX1276Write( REG_LR_PAYLOADLENGTH, SX1276LR->RegPayloadLength );
00000c  4804              LDR      r0,|L23.32|
00000e  6800              LDR      r0,[r0,#0]  ; SX1276LR
000010  f8901022          LDRB     r1,[r0,#0x22]
000014  2022              MOVS     r0,#0x22
000016  f7fffffe          BL       SX1276Write
;;;488        LoRaSettings.PayloadLength = value;
00001a  4802              LDR      r0,|L23.36|
00001c  7604              STRB     r4,[r0,#0x18]
;;;489    }
00001e  bd10              POP      {r4,pc}
;;;490    void SX1276LoRaSetLowDatarateOptimize( bool enable )
                          ENDP

                  |L23.32|
                          DCD      SX1276LR
                  |L23.36|
                          DCD      LoRaSettings

                          AREA ||i.SX1276LoRaSetRFFrequency||, CODE, READONLY, ALIGN=2

                  SX1276LoRaSetRFFrequency PROC
;;;405    }
;;;406    void SX1276LoRaSetRFFrequency( uint32_t freq )
000000  e92d41f0          PUSH     {r4-r8,lr}
;;;407    {
000004  4604              MOV      r4,r0
;;;408        LoRaSettings.RFFrequency = freq;
000006  4811              LDR      r0,|L24.76|
000008  6004              STR      r4,[r0,#0]  ; LoRaSettings
;;;409    
;;;410        freq = ( uint32_t )( ( double )freq / ( double )FREQ_STEP );
00000a  4620              MOV      r0,r4
00000c  f7fffffe          BL       __aeabi_ui2d
000010  4605              MOV      r5,r0
000012  2200              MOVS     r2,#0
000014  4b0e              LDR      r3,|L24.80|
000016  f7fffffe          BL       __aeabi_ddiv
00001a  4607              MOV      r7,r0
00001c  f7fffffe          BL       __aeabi_d2uiz
000020  4604              MOV      r4,r0
;;;411        SX1276LR->RegFrfMsb = ( uint8_t )( ( freq >> 16 ) & 0xFF );
000022  0c20              LSRS     r0,r4,#16
000024  490b              LDR      r1,|L24.84|
000026  6809              LDR      r1,[r1,#0]  ; SX1276LR
000028  7188              STRB     r0,[r1,#6]
;;;412        SX1276LR->RegFrfMid = ( uint8_t )( ( freq >> 8 ) & 0xFF );
00002a  0a20              LSRS     r0,r4,#8
00002c  4909              LDR      r1,|L24.84|
00002e  6809              LDR      r1,[r1,#0]  ; SX1276LR
000030  71c8              STRB     r0,[r1,#7]
;;;413        SX1276LR->RegFrfLsb = ( uint8_t )( freq & 0xFF );
000032  4908              LDR      r1,|L24.84|
000034  6809              LDR      r1,[r1,#0]  ; SX1276LR
000036  720c              STRB     r4,[r1,#8]
;;;414        SX1276WriteBuffer( REG_LR_FRFMSB, &SX1276LR->RegFrfMsb, 3 );
000038  2203              MOVS     r2,#3
00003a  4806              LDR      r0,|L24.84|
00003c  6801              LDR      r1,[r0,#0]  ; SX1276LR
00003e  1d89              ADDS     r1,r1,#6
000040  2006              MOVS     r0,#6
000042  f7fffffe          BL       SX1276WriteBuffer
;;;415    }
000046  e8bd81f0          POP      {r4-r8,pc}
;;;416    void SX1276LoRaSetNbTrigPeaks( uint8_t value )
                          ENDP

00004a  0000              DCW      0x0000
                  |L24.76|
                          DCD      LoRaSettings
                  |L24.80|
                          DCD      0x404e8480
                  |L24.84|
                          DCD      SX1276LR

                          AREA ||i.SX1276LoRaSetRFPower||, CODE, READONLY, ALIGN=2

                  SX1276LoRaSetRFPower PROC
;;;519    }
;;;520    void SX1276LoRaSetRFPower( int8_t power )
000000  b510              PUSH     {r4,lr}
;;;521    {
000002  4604              MOV      r4,r0
;;;522        SX1276Read( REG_LR_PACONFIG, &SX1276LR->RegPaConfig );
000004  483d              LDR      r0,|L25.252|
000006  6801              LDR      r1,[r0,#0]  ; SX1276LR
000008  3109              ADDS     r1,r1,#9
00000a  2009              MOVS     r0,#9
00000c  f7fffffe          BL       SX1276Read
;;;523        SX1276Read( REG_LR_PADAC, &SX1276LR->RegPaDac );
000010  483a              LDR      r0,|L25.252|
000012  6801              LDR      r1,[r0,#0]  ; SX1276LR
000014  314c              ADDS     r1,r1,#0x4c
000016  204d              MOVS     r0,#0x4d
000018  f7fffffe          BL       SX1276Read
;;;524        
;;;525        if( ( SX1276LR->RegPaConfig & RFLR_PACONFIG_PASELECT_PABOOST ) == RFLR_PACONFIG_PASELECT_PABOOST )
00001c  4837              LDR      r0,|L25.252|
00001e  6800              LDR      r0,[r0,#0]  ; SX1276LR
000020  7a40              LDRB     r0,[r0,#9]
000022  f0000080          AND      r0,r0,#0x80
000026  2880              CMP      r0,#0x80
000028  d141              BNE      |L25.174|
;;;526        {
;;;527            if( ( SX1276LR->RegPaDac & 0x87 ) == 0x87 )
00002a  4834              LDR      r0,|L25.252|
00002c  6800              LDR      r0,[r0,#0]  ; SX1276LR
00002e  f890004c          LDRB     r0,[r0,#0x4c]
000032  f0000087          AND      r0,r0,#0x87
000036  2887              CMP      r0,#0x87
000038  d11c              BNE      |L25.116|
;;;528            {
;;;529                if( power < 5 )
00003a  2c05              CMP      r4,#5
00003c  da00              BGE      |L25.64|
;;;530                {
;;;531                    power = 5;
00003e  2405              MOVS     r4,#5
                  |L25.64|
;;;532                }
;;;533                if( power > 20 )
000040  2c14              CMP      r4,#0x14
000042  dd00              BLE      |L25.70|
;;;534                {
;;;535                    power = 20;
000044  2414              MOVS     r4,#0x14
                  |L25.70|
;;;536                }
;;;537                SX1276LR->RegPaConfig = ( SX1276LR->RegPaConfig & RFLR_PACONFIG_MAX_POWER_MASK ) | 0x70;
000046  482d              LDR      r0,|L25.252|
000048  6800              LDR      r0,[r0,#0]  ; SX1276LR
00004a  7a40              LDRB     r0,[r0,#9]
00004c  f000008f          AND      r0,r0,#0x8f
000050  f0400070          ORR      r0,r0,#0x70
000054  4929              LDR      r1,|L25.252|
000056  6809              LDR      r1,[r1,#0]  ; SX1276LR
000058  7248              STRB     r0,[r1,#9]
;;;538                SX1276LR->RegPaConfig = ( SX1276LR->RegPaConfig & RFLR_PACONFIG_OUTPUTPOWER_MASK ) | ( uint8_t )( ( uint16_t )( power - 5 ) & 0x0F );
00005a  4828              LDR      r0,|L25.252|
00005c  6800              LDR      r0,[r0,#0]  ; SX1276LR
00005e  7a40              LDRB     r0,[r0,#9]
000060  f00000f0          AND      r0,r0,#0xf0
000064  1f61              SUBS     r1,r4,#5
000066  f001010f          AND      r1,r1,#0xf
00006a  4308              ORRS     r0,r0,r1
00006c  4923              LDR      r1,|L25.252|
00006e  6809              LDR      r1,[r1,#0]  ; SX1276LR
000070  7248              STRB     r0,[r1,#9]
000072  e03a              B        |L25.234|
                  |L25.116|
;;;539            }
;;;540            else
;;;541            {
;;;542                if( power < 2 )
000074  2c02              CMP      r4,#2
000076  da00              BGE      |L25.122|
;;;543                {
;;;544                    power = 2;
000078  2402              MOVS     r4,#2
                  |L25.122|
;;;545                }
;;;546                if( power > 17 )
00007a  2c11              CMP      r4,#0x11
00007c  dd00              BLE      |L25.128|
;;;547                {
;;;548                    power = 17;
00007e  2411              MOVS     r4,#0x11
                  |L25.128|
;;;549                }
;;;550                SX1276LR->RegPaConfig = ( SX1276LR->RegPaConfig & RFLR_PACONFIG_MAX_POWER_MASK ) | 0x70;
000080  481e              LDR      r0,|L25.252|
000082  6800              LDR      r0,[r0,#0]  ; SX1276LR
000084  7a40              LDRB     r0,[r0,#9]
000086  f000008f          AND      r0,r0,#0x8f
00008a  f0400070          ORR      r0,r0,#0x70
00008e  491b              LDR      r1,|L25.252|
000090  6809              LDR      r1,[r1,#0]  ; SX1276LR
000092  7248              STRB     r0,[r1,#9]
;;;551                SX1276LR->RegPaConfig = ( SX1276LR->RegPaConfig & RFLR_PACONFIG_OUTPUTPOWER_MASK ) | ( uint8_t )( ( uint16_t )( power - 2 ) & 0x0F );
000094  4819              LDR      r0,|L25.252|
000096  6800              LDR      r0,[r0,#0]  ; SX1276LR
000098  7a40              LDRB     r0,[r0,#9]
00009a  f00000f0          AND      r0,r0,#0xf0
00009e  1ea1              SUBS     r1,r4,#2
0000a0  f001010f          AND      r1,r1,#0xf
0000a4  4308              ORRS     r0,r0,r1
0000a6  4915              LDR      r1,|L25.252|
0000a8  6809              LDR      r1,[r1,#0]  ; SX1276LR
0000aa  7248              STRB     r0,[r1,#9]
0000ac  e01d              B        |L25.234|
                  |L25.174|
;;;552            }
;;;553        }
;;;554        else
;;;555        {
;;;556            if( power < -1 )
0000ae  f1b43fff          CMP      r4,#0xffffffff
0000b2  da01              BGE      |L25.184|
;;;557            {
;;;558                power = -1;
0000b4  f04f34ff          MOV      r4,#0xffffffff
                  |L25.184|
;;;559            }
;;;560            if( power > 14 )
0000b8  2c0e              CMP      r4,#0xe
0000ba  dd00              BLE      |L25.190|
;;;561            {
;;;562                power = 14;
0000bc  240e              MOVS     r4,#0xe
                  |L25.190|
;;;563            }
;;;564            SX1276LR->RegPaConfig = ( SX1276LR->RegPaConfig & RFLR_PACONFIG_MAX_POWER_MASK ) | 0x70;
0000be  480f              LDR      r0,|L25.252|
0000c0  6800              LDR      r0,[r0,#0]  ; SX1276LR
0000c2  7a40              LDRB     r0,[r0,#9]
0000c4  f000008f          AND      r0,r0,#0x8f
0000c8  f0400070          ORR      r0,r0,#0x70
0000cc  490b              LDR      r1,|L25.252|
0000ce  6809              LDR      r1,[r1,#0]  ; SX1276LR
0000d0  7248              STRB     r0,[r1,#9]
;;;565            SX1276LR->RegPaConfig = ( SX1276LR->RegPaConfig & RFLR_PACONFIG_OUTPUTPOWER_MASK ) | ( uint8_t )( ( uint16_t )( power + 1 ) & 0x0F );
0000d2  480a              LDR      r0,|L25.252|
0000d4  6800              LDR      r0,[r0,#0]  ; SX1276LR
0000d6  7a40              LDRB     r0,[r0,#9]
0000d8  f00000f0          AND      r0,r0,#0xf0
0000dc  1c61              ADDS     r1,r4,#1
0000de  f001010f          AND      r1,r1,#0xf
0000e2  4308              ORRS     r0,r0,r1
0000e4  4905              LDR      r1,|L25.252|
0000e6  6809              LDR      r1,[r1,#0]  ; SX1276LR
0000e8  7248              STRB     r0,[r1,#9]
                  |L25.234|
;;;566        }
;;;567        SX1276Write( REG_LR_PACONFIG, SX1276LR->RegPaConfig );
0000ea  4804              LDR      r0,|L25.252|
0000ec  6800              LDR      r0,[r0,#0]  ; SX1276LR
0000ee  7a41              LDRB     r1,[r0,#9]
0000f0  2009              MOVS     r0,#9
0000f2  f7fffffe          BL       SX1276Write
;;;568        LoRaSettings.Power = power;
0000f6  4802              LDR      r0,|L25.256|
0000f8  7104              STRB     r4,[r0,#4]
;;;569    }
0000fa  bd10              POP      {r4,pc}
;;;570    void SX1276LoRaInit( void )
                          ENDP

                  |L25.252|
                          DCD      SX1276LR
                  |L25.256|
                          DCD      LoRaSettings

                          AREA ||i.SX1276LoRaSetRFState||, CODE, READONLY, ALIGN=2

                  SX1276LoRaSetRFState PROC
;;;644    }
;;;645    void SX1276LoRaSetRFState( uint8_t state )
000000  4901              LDR      r1,|L26.8|
;;;646    {
;;;647        RFLRState = state;
000002  7008              STRB     r0,[r1,#0]
;;;648    }
000004  4770              BX       lr
;;;649    uint8_t SX1276LoRaReadRxGain( void )
                          ENDP

000006  0000              DCW      0x0000
                  |L26.8|
                          DCD      RFLRState

                          AREA ||i.SX1276LoRaSetSignalBandwidth||, CODE, READONLY, ALIGN=2

                  SX1276LoRaSetSignalBandwidth PROC
;;;461    }
;;;462    void SX1276LoRaSetSignalBandwidth( uint8_t bw )
000000  b510              PUSH     {r4,lr}
;;;463    {
000002  4604              MOV      r4,r0
;;;464        SX1276Read( REG_LR_MODEMCONFIG1, &SX1276LR->RegModemConfig1 );
000004  480b              LDR      r0,|L27.52|
000006  6801              LDR      r1,[r0,#0]  ; SX1276LR
000008  311d              ADDS     r1,r1,#0x1d
00000a  201d              MOVS     r0,#0x1d
00000c  f7fffffe          BL       SX1276Read
;;;465        SX1276LR->RegModemConfig1 = ( SX1276LR->RegModemConfig1 & RFLR_MODEMCONFIG1_BW_MASK ) | ( bw << 4 );
000010  4808              LDR      r0,|L27.52|
000012  6800              LDR      r0,[r0,#0]  ; SX1276LR
000014  7f40              LDRB     r0,[r0,#0x1d]
000016  f364101f          BFI      r0,r4,#4,#28
00001a  4906              LDR      r1,|L27.52|
00001c  6809              LDR      r1,[r1,#0]  ; SX1276LR
00001e  7748              STRB     r0,[r1,#0x1d]
;;;466        SX1276Write( REG_LR_MODEMCONFIG1, SX1276LR->RegModemConfig1 );
000020  4804              LDR      r0,|L27.52|
000022  6800              LDR      r0,[r0,#0]  ; SX1276LR
000024  7f41              LDRB     r1,[r0,#0x1d]
000026  201d              MOVS     r0,#0x1d
000028  f7fffffe          BL       SX1276Write
;;;467        LoRaSettings.SignalBw = bw;
00002c  4802              LDR      r0,|L27.56|
00002e  7144              STRB     r4,[r0,#5]
;;;468    }
000030  bd10              POP      {r4,pc}
;;;469    void SX1276LoRaSetImplicitHeaderOn( bool enable )
                          ENDP

000032  0000              DCW      0x0000
                  |L27.52|
                          DCD      SX1276LR
                  |L27.56|
                          DCD      LoRaSettings

                          AREA ||i.SX1276LoRaSetSpreadingFactor||, CODE, READONLY, ALIGN=2

                  SX1276LoRaSetSpreadingFactor PROC
;;;421    }
;;;422    void SX1276LoRaSetSpreadingFactor( uint8_t factor )
000000  b510              PUSH     {r4,lr}
;;;423    {
000002  4604              MOV      r4,r0
;;;424    
;;;425        if( factor > 12 )
000004  2c0c              CMP      r4,#0xc
000006  dd01              BLE      |L28.12|
;;;426        {
;;;427            factor = 12;
000008  240c              MOVS     r4,#0xc
00000a  e002              B        |L28.18|
                  |L28.12|
;;;428        }
;;;429        else if( factor < 6 )
00000c  2c06              CMP      r4,#6
00000e  da00              BGE      |L28.18|
;;;430        {
;;;431            factor = 6;
000010  2406              MOVS     r4,#6
                  |L28.18|
;;;432        }
;;;433    
;;;434        if( factor == 6 )
000012  2c06              CMP      r4,#6
000014  d103              BNE      |L28.30|
;;;435        {
;;;436            SX1276LoRaSetNbTrigPeaks( 5 );
000016  2005              MOVS     r0,#5
000018  f7fffffe          BL       SX1276LoRaSetNbTrigPeaks
00001c  e002              B        |L28.36|
                  |L28.30|
;;;437        }
;;;438        else
;;;439        {
;;;440            SX1276LoRaSetNbTrigPeaks( 3 );
00001e  2003              MOVS     r0,#3
000020  f7fffffe          BL       SX1276LoRaSetNbTrigPeaks
                  |L28.36|
;;;441        }
;;;442    
;;;443        SX1276Read( REG_LR_MODEMCONFIG2, &SX1276LR->RegModemConfig2 );    
000024  480b              LDR      r0,|L28.84|
000026  6801              LDR      r1,[r0,#0]  ; SX1276LR
000028  311e              ADDS     r1,r1,#0x1e
00002a  201e              MOVS     r0,#0x1e
00002c  f7fffffe          BL       SX1276Read
;;;444        SX1276LR->RegModemConfig2 = ( SX1276LR->RegModemConfig2 & RFLR_MODEMCONFIG2_SF_MASK ) | ( factor << 4 );
000030  4808              LDR      r0,|L28.84|
000032  6800              LDR      r0,[r0,#0]  ; SX1276LR
000034  7f80              LDRB     r0,[r0,#0x1e]
000036  f364101f          BFI      r0,r4,#4,#28
00003a  4906              LDR      r1,|L28.84|
00003c  6809              LDR      r1,[r1,#0]  ; SX1276LR
00003e  7788              STRB     r0,[r1,#0x1e]
;;;445        SX1276Write( REG_LR_MODEMCONFIG2, SX1276LR->RegModemConfig2 );    
000040  4804              LDR      r0,|L28.84|
000042  6800              LDR      r0,[r0,#0]  ; SX1276LR
000044  7f81              LDRB     r1,[r0,#0x1e]
000046  201e              MOVS     r0,#0x1e
000048  f7fffffe          BL       SX1276Write
;;;446        LoRaSettings.SpreadingFactor = factor;
00004c  4802              LDR      r0,|L28.88|
00004e  7184              STRB     r4,[r0,#6]
;;;447    }
000050  bd10              POP      {r4,pc}
;;;448    void SX1276LoRaSetErrorCoding( uint8_t value )
                          ENDP

000052  0000              DCW      0x0000
                  |L28.84|
                          DCD      SX1276LR
                  |L28.88|
                          DCD      LoRaSettings

                          AREA ||i.SX1276LoRaSetSymbTimeout||, CODE, READONLY, ALIGN=2

                  SX1276LoRaSetSymbTimeout PROC
;;;475    }
;;;476    void SX1276LoRaSetSymbTimeout( uint16_t value )
000000  b510              PUSH     {r4,lr}
;;;477    {
000002  4604              MOV      r4,r0
;;;478        SX1276ReadBuffer( REG_LR_MODEMCONFIG2, &SX1276LR->RegModemConfig2, 2 );
000004  2202              MOVS     r2,#2
000006  480f              LDR      r0,|L29.68|
000008  6801              LDR      r1,[r0,#0]  ; SX1276LR
00000a  311e              ADDS     r1,r1,#0x1e
00000c  201e              MOVS     r0,#0x1e
00000e  f7fffffe          BL       SX1276ReadBuffer
;;;479    
;;;480        SX1276LR->RegModemConfig2 = ( SX1276LR->RegModemConfig2 & RFLR_MODEMCONFIG2_SYMBTIMEOUTMSB_MASK ) | ( ( value >> 8 ) & ~RFLR_MODEMCONFIG2_SYMBTIMEOUTMSB_MASK );
000012  480c              LDR      r0,|L29.68|
000014  6800              LDR      r0,[r0,#0]  ; SX1276LR
000016  7f80              LDRB     r0,[r0,#0x1e]
000018  f00000fc          AND      r0,r0,#0xfc
00001c  f06f01fc          MVN      r1,#0xfc
000020  ea012124          AND      r1,r1,r4,ASR #8
000024  4308              ORRS     r0,r0,r1
000026  4907              LDR      r1,|L29.68|
000028  6809              LDR      r1,[r1,#0]  ; SX1276LR
00002a  7788              STRB     r0,[r1,#0x1e]
;;;481        SX1276LR->RegSymbTimeoutLsb = value & 0xFF;
00002c  4905              LDR      r1,|L29.68|
00002e  6809              LDR      r1,[r1,#0]  ; SX1276LR
000030  77cc              STRB     r4,[r1,#0x1f]
;;;482        SX1276WriteBuffer( REG_LR_MODEMCONFIG2, &SX1276LR->RegModemConfig2, 2 );
000032  2202              MOVS     r2,#2
000034  4803              LDR      r0,|L29.68|
000036  6801              LDR      r1,[r0,#0]  ; SX1276LR
000038  311e              ADDS     r1,r1,#0x1e
00003a  201e              MOVS     r0,#0x1e
00003c  f7fffffe          BL       SX1276WriteBuffer
;;;483    }
000040  bd10              POP      {r4,pc}
;;;484    void SX1276LoRaSetPayloadLength( uint8_t value )
                          ENDP

000042  0000              DCW      0x0000
                  |L29.68|
                          DCD      SX1276LR

                          AREA ||i.SX1276LoRaSetTxPacket||, CODE, READONLY, ALIGN=2

                  SX1276LoRaSetTxPacket PROC
;;;670    }
;;;671    void SX1276LoRaSetTxPacket( const void *buffer, uint16_t size )
000000  b570              PUSH     {r4-r6,lr}
;;;672    {
000002  4604              MOV      r4,r0
000004  460d              MOV      r5,r1
;;;673        if( LoRaSettings.FreqHopOn == false )
000006  4809              LDR      r0,|L30.44|
000008  7ac0              LDRB     r0,[r0,#0xb]  ; LoRaSettings
00000a  b910              CBNZ     r0,|L30.18|
;;;674        {
;;;675            TxPacketSize = size;
00000c  4808              LDR      r0,|L30.48|
00000e  8005              STRH     r5,[r0,#0]
000010  e002              B        |L30.24|
                  |L30.18|
;;;676        }
;;;677        else
;;;678        {
;;;679            TxPacketSize = 255;
000012  20ff              MOVS     r0,#0xff
000014  4906              LDR      r1,|L30.48|
000016  8008              STRH     r0,[r1,#0]
                  |L30.24|
;;;680        }
;;;681        memcpy( ( void * )RFBuffer, buffer, ( size_t )TxPacketSize ); 
000018  4805              LDR      r0,|L30.48|
00001a  8802              LDRH     r2,[r0,#0]  ; TxPacketSize
00001c  4621              MOV      r1,r4
00001e  4805              LDR      r0,|L30.52|
000020  f7fffffe          BL       __aeabi_memcpy
;;;682    
;;;683        RFLRState = RFLR_STATE_TX_INIT;
000024  2005              MOVS     r0,#5
000026  4904              LDR      r1,|L30.56|
000028  7008              STRB     r0,[r1,#0]
;;;684    }
00002a  bd70              POP      {r4-r6,pc}
;;;685    void SX1276SetTxPacket( const void *buffer, uint16_t size )
                          ENDP

                  |L30.44|
                          DCD      LoRaSettings
                  |L30.48|
                          DCD      TxPacketSize
                  |L30.52|
                          DCD      RFBuffer
                  |L30.56|
                          DCD      RFLRState

                          AREA ||i.SX1276Process||, CODE, READONLY, ALIGN=1

                  SX1276Process PROC
;;;1386   }
;;;1387   uint32_t SX1276Process( void )
000000  b510              PUSH     {r4,lr}
;;;1388   {
;;;1389     return SX1276LoRaProcess( );
000002  f7fffffe          BL       SX1276LoRaProcess
;;;1390   }
000006  bd10              POP      {r4,pc}
;;;1391   
                          ENDP


                          AREA ||i.SX1276Read||, CODE, READONLY, ALIGN=1

                  SX1276Read PROC
;;;272    
;;;273    void SX1276Read( uint8_t addr, uint8_t *data )
000000  b570              PUSH     {r4-r6,lr}
;;;274    {
000002  4604              MOV      r4,r0
000004  460d              MOV      r5,r1
;;;275        SX1276ReadBuffer( addr, data, 1 );
000006  2201              MOVS     r2,#1
000008  4629              MOV      r1,r5
00000a  4620              MOV      r0,r4
00000c  f7fffffe          BL       SX1276ReadBuffer
;;;276    }
000010  bd70              POP      {r4-r6,pc}
;;;277    void SX1276SetIdleState(void)
                          ENDP


                          AREA ||i.SX1276ReadBuffer||, CODE, READONLY, ALIGN=2

                  SX1276ReadBuffer PROC
;;;252    
;;;253    void SX1276ReadBuffer( uint8_t addr, uint8_t *buffer, uint8_t size )
000000  e92d41f0          PUSH     {r4-r8,lr}
;;;254    {
000004  4605              MOV      r5,r0
000006  460e              MOV      r6,r1
000008  4617              MOV      r7,r2
;;;255        uint8_t i;
;;;256        //NSS = 0;
;;;257        GPIO_WriteBit( NSS_IOPORT, NSS_PIN, Bit_RESET );
00000a  2200              MOVS     r2,#0
00000c  2110              MOVS     r1,#0x10
00000e  480c              LDR      r0,|L33.64|
000010  f7fffffe          BL       GPIO_WriteBit
;;;258    
;;;259        SpiInOut( addr & 0x7F );
000014  f005007f          AND      r0,r5,#0x7f
000018  f7fffffe          BL       SpiInOut
;;;260    
;;;261        for( i = 0; i < size; i++ )
00001c  2400              MOVS     r4,#0
00001e  e005              B        |L33.44|
                  |L33.32|
;;;262        {
;;;263            buffer[i] = SpiInOut( 0 );
000020  2000              MOVS     r0,#0
000022  f7fffffe          BL       SpiInOut
000026  5530              STRB     r0,[r6,r4]
000028  1c60              ADDS     r0,r4,#1              ;261
00002a  b2c4              UXTB     r4,r0                 ;261
                  |L33.44|
00002c  42bc              CMP      r4,r7                 ;261
00002e  dbf7              BLT      |L33.32|
;;;264        }
;;;265        GPIO_WriteBit( NSS_IOPORT, NSS_PIN, Bit_SET );
000030  2201              MOVS     r2,#1
000032  2110              MOVS     r1,#0x10
000034  4802              LDR      r0,|L33.64|
000036  f7fffffe          BL       GPIO_WriteBit
;;;266    }
00003a  e8bd81f0          POP      {r4-r8,pc}
;;;267    
                          ENDP

00003e  0000              DCW      0x0000
                  |L33.64|
                          DCD      0x40010800

                          AREA ||i.SX1276ReadDio0||, CODE, READONLY, ALIGN=2

                  SX1276ReadDio0 PROC
;;;290    
;;;291    inline uint8_t SX1276ReadDio0( void )
000000  b510              PUSH     {r4,lr}
;;;292    {
;;;293        return GPIO_ReadInputDataBit( DIO0_IOPORT, DIO0_PIN );
000002  2102              MOVS     r1,#2
000004  4801              LDR      r0,|L34.12|
000006  f7fffffe          BL       GPIO_ReadInputDataBit
;;;294    }
00000a  bd10              POP      {r4,pc}
;;;295    
                          ENDP

                  |L34.12|
                          DCD      0x40010800

                          AREA ||i.SX1276ReadDio1||, CODE, READONLY, ALIGN=2

                  SX1276ReadDio1 PROC
;;;295    
;;;296    inline uint8_t SX1276ReadDio1( void )
000000  b510              PUSH     {r4,lr}
;;;297    {
;;;298        return GPIO_ReadInputDataBit( DIO1_IOPORT, DIO1_PIN );
000002  f44f6100          MOV      r1,#0x800
000006  4802              LDR      r0,|L35.16|
000008  f7fffffe          BL       GPIO_ReadInputDataBit
;;;299    }
00000c  bd10              POP      {r4,pc}
;;;300    
                          ENDP

00000e  0000              DCW      0x0000
                  |L35.16|
                          DCD      0x40010c00

                          AREA ||i.SX1276ReadDio2||, CODE, READONLY, ALIGN=2

                  SX1276ReadDio2 PROC
;;;300    
;;;301    inline uint8_t SX1276ReadDio2( void )
000000  b510              PUSH     {r4,lr}
;;;302    {
;;;303        return GPIO_ReadInputDataBit( DIO2_IOPORT, DIO2_PIN );
000002  f44f6180          MOV      r1,#0x400
000006  4802              LDR      r0,|L36.16|
000008  f7fffffe          BL       GPIO_ReadInputDataBit
;;;304    }
00000c  bd10              POP      {r4,pc}
;;;305    
                          ENDP

00000e  0000              DCW      0x0000
                  |L36.16|
                          DCD      0x40010c00

                          AREA ||i.SX1276ReadDio3||, CODE, READONLY, ALIGN=2

                  SX1276ReadDio3 PROC
;;;305    
;;;306    inline uint8_t SX1276ReadDio3( void )
000000  b510              PUSH     {r4,lr}
;;;307    {
;;;308    	  return GPIO_ReadInputDataBit( DIO3_IOPORT, DIO3_PIN );
000002  2102              MOVS     r1,#2
000004  4801              LDR      r0,|L37.12|
000006  f7fffffe          BL       GPIO_ReadInputDataBit
;;;309    }
00000a  bd10              POP      {r4,pc}
;;;310    
                          ENDP

                  |L37.12|
                          DCD      0x40010c00

                          AREA ||i.SX1276ReadDio4||, CODE, READONLY, ALIGN=2

                  SX1276ReadDio4 PROC
;;;310    
;;;311    inline uint8_t SX1276ReadDio4( void )
000000  b510              PUSH     {r4,lr}
;;;312    {
;;;313    	  return GPIO_ReadInputDataBit( DIO4_IOPORT, DIO4_PIN );
000002  2101              MOVS     r1,#1
000004  4801              LDR      r0,|L38.12|
000006  f7fffffe          BL       GPIO_ReadInputDataBit
;;;314    }
00000a  bd10              POP      {r4,pc}
;;;315    
                          ENDP

                  |L38.12|
                          DCD      0x40010c00

                          AREA ||i.SX1276ReadDio5||, CODE, READONLY, ALIGN=2

                  SX1276ReadDio5 PROC
;;;315    
;;;316    inline uint8_t SX1276ReadDio5( void )
000000  b510              PUSH     {r4,lr}
;;;317    {
;;;318    	  return GPIO_ReadInputDataBit( DIO5_IOPORT, DIO5_PIN );
000002  2120              MOVS     r1,#0x20
000004  4801              LDR      r0,|L39.12|
000006  f7fffffe          BL       GPIO_ReadInputDataBit
;;;319    }
00000a  bd10              POP      {r4,pc}
;;;320    
                          ENDP

                  |L39.12|
                          DCD      0x40011000

                          AREA ||i.SX1276ReadFifo||, CODE, READONLY, ALIGN=1

                  SX1276ReadFifo PROC
;;;285    
;;;286    void SX1276ReadFifo( uint8_t *buffer, uint8_t size )
000000  b570              PUSH     {r4-r6,lr}
;;;287    {
000002  4604              MOV      r4,r0
000004  460d              MOV      r5,r1
;;;288        SX1276ReadBuffer( 0, buffer, size );
000006  462a              MOV      r2,r5
000008  4621              MOV      r1,r4
00000a  2000              MOVS     r0,#0
00000c  f7fffffe          BL       SX1276ReadBuffer
;;;289    }
000010  bd70              POP      {r4-r6,pc}
;;;290    
                          ENDP


                          AREA ||i.SX1276Reset||, CODE, READONLY, ALIGN=1

                  SX1276Reset PROC
;;;325    
;;;326    void SX1276Reset( void )
000000  b510              PUSH     {r4,lr}
;;;327    {
;;;328        SX1276SetReset( RADIO_RESET_ON );
000002  2001              MOVS     r0,#1
000004  f7fffffe          BL       SX1276SetReset
;;;329        delay_ms(1);
000008  2001              MOVS     r0,#1
00000a  f7fffffe          BL       delay_ms
;;;330        SX1276SetReset( RADIO_RESET_OFF );
00000e  2000              MOVS     r0,#0
000010  f7fffffe          BL       SX1276SetReset
;;;331        delay_ms(6);
000014  2006              MOVS     r0,#6
000016  f7fffffe          BL       delay_ms
;;;332    }
00001a  bd10              POP      {r4,pc}
;;;333    
                          ENDP


                          AREA ||i.SX1276SetIdleState||, CODE, READONLY, ALIGN=2

                  SX1276SetIdleState PROC
;;;276    }
;;;277    void SX1276SetIdleState(void)
000000  2000              MOVS     r0,#0
;;;278    {
;;;279     RFState=RF_STATE_IDLE;
000002  4901              LDR      r1,|L42.8|
000004  7008              STRB     r0,[r1,#0]
;;;280    }
000006  4770              BX       lr
;;;281    void SX1276WriteFifo( uint8_t *buffer, uint8_t size )
                          ENDP

                  |L42.8|
                          DCD      RFState

                          AREA ||i.SX1276SetLoRaOn||, CODE, READONLY, ALIGN=2

                  SX1276SetLoRaOn PROC
;;;363    
;;;364    void SX1276SetLoRaOn( bool enable )
000000  b510              PUSH     {r4,lr}
;;;365    {
000002  4604              MOV      r4,r0
;;;366        if( LoRaOnState == enable )
000004  4829              LDR      r0,|L43.172|
000006  7800              LDRB     r0,[r0,#0]  ; LoRaOnState
000008  42a0              CMP      r0,r4
00000a  d100              BNE      |L43.14|
                  |L43.12|
;;;367        {
;;;368            return;
;;;369        }
;;;370        LoRaOnState = enable;
;;;371        LoRaOn = enable;
;;;372    
;;;373        if( LoRaOn == true )
;;;374        {
;;;375            SX1276LoRaSetOpMode( RFLR_OPMODE_SLEEP );
;;;376            
;;;377            SX1276LR->RegOpMode = ( SX1276LR->RegOpMode & RFLR_OPMODE_LONGRANGEMODE_MASK ) | RFLR_OPMODE_LONGRANGEMODE_ON;
;;;378            SX1276Write( REG_LR_OPMODE, SX1276LR->RegOpMode );
;;;379            
;;;380            SX1276LoRaSetOpMode( RFLR_OPMODE_STANDBY );
;;;381                                            // RxDone               RxTimeout                   FhssChangeChannel           CadDone
;;;382            SX1276LR->RegDioMapping1 = RFLR_DIOMAPPING1_DIO0_00 | RFLR_DIOMAPPING1_DIO1_00 | RFLR_DIOMAPPING1_DIO2_00 | RFLR_DIOMAPPING1_DIO3_00;
;;;383                                            // CadDetected          ModeReady
;;;384            SX1276LR->RegDioMapping2 = RFLR_DIOMAPPING2_DIO4_00 | RFLR_DIOMAPPING2_DIO5_00;
;;;385            SX1276WriteBuffer( REG_LR_DIOMAPPING1, &SX1276LR->RegDioMapping1, 2 );
;;;386            
;;;387            SX1276ReadBuffer( REG_LR_OPMODE, SX1276Regs + 1, 0x70 - 1 );
;;;388        }
;;;389        else
;;;390        {
;;;391            SX1276LoRaSetOpMode( RFLR_OPMODE_SLEEP );
;;;392            
;;;393            SX1276LR->RegOpMode = ( SX1276LR->RegOpMode & RFLR_OPMODE_LONGRANGEMODE_MASK ) | RFLR_OPMODE_LONGRANGEMODE_OFF;
;;;394            SX1276Write( REG_LR_OPMODE, SX1276LR->RegOpMode );
;;;395            
;;;396            SX1276LoRaSetOpMode( RFLR_OPMODE_STANDBY );
;;;397            
;;;398            SX1276ReadBuffer( REG_OPMODE, SX1276Regs + 1, 0x70 - 1 );
;;;399        }
;;;400    }
00000c  bd10              POP      {r4,pc}
                  |L43.14|
00000e  4827              LDR      r0,|L43.172|
000010  7004              STRB     r4,[r0,#0]            ;370
000012  4827              LDR      r0,|L43.176|
000014  7004              STRB     r4,[r0,#0]            ;371
000016  7800              LDRB     r0,[r0,#0]            ;373  ; LoRaOn
000018  2801              CMP      r0,#1                 ;373
00001a  d12b              BNE      |L43.116|
00001c  2000              MOVS     r0,#0                 ;375
00001e  f7fffffe          BL       SX1276LoRaSetOpMode
000022  4824              LDR      r0,|L43.180|
000024  6800              LDR      r0,[r0,#0]            ;377  ; SX1276LR
000026  7840              LDRB     r0,[r0,#1]            ;377
000028  f000007f          AND      r0,r0,#0x7f           ;377
00002c  f0400080          ORR      r0,r0,#0x80           ;377
000030  4920              LDR      r1,|L43.180|
000032  6809              LDR      r1,[r1,#0]            ;377  ; SX1276LR
000034  7048              STRB     r0,[r1,#1]            ;377
000036  481f              LDR      r0,|L43.180|
000038  6800              LDR      r0,[r0,#0]            ;378  ; SX1276LR
00003a  7841              LDRB     r1,[r0,#1]            ;378
00003c  2001              MOVS     r0,#1                 ;378
00003e  f7fffffe          BL       SX1276Write
000042  2001              MOVS     r0,#1                 ;380
000044  f7fffffe          BL       SX1276LoRaSetOpMode
000048  2000              MOVS     r0,#0                 ;382
00004a  491a              LDR      r1,|L43.180|
00004c  6809              LDR      r1,[r1,#0]            ;382  ; SX1276LR
00004e  f881003f          STRB     r0,[r1,#0x3f]         ;382
000052  4918              LDR      r1,|L43.180|
000054  6809              LDR      r1,[r1,#0]            ;384  ; SX1276LR
000056  f8810040          STRB     r0,[r1,#0x40]         ;384
00005a  2202              MOVS     r2,#2                 ;385
00005c  4815              LDR      r0,|L43.180|
00005e  6801              LDR      r1,[r0,#0]            ;385  ; SX1276LR
000060  313f              ADDS     r1,r1,#0x3f           ;385
000062  2040              MOVS     r0,#0x40              ;385
000064  f7fffffe          BL       SX1276WriteBuffer
000068  226f              MOVS     r2,#0x6f              ;387
00006a  4913              LDR      r1,|L43.184|
00006c  2001              MOVS     r0,#1                 ;387
00006e  f7fffffe          BL       SX1276ReadBuffer
000072  e018              B        |L43.166|
                  |L43.116|
000074  2000              MOVS     r0,#0                 ;391
000076  f7fffffe          BL       SX1276LoRaSetOpMode
00007a  480e              LDR      r0,|L43.180|
00007c  6800              LDR      r0,[r0,#0]            ;393  ; SX1276LR
00007e  7840              LDRB     r0,[r0,#1]            ;393
000080  f000007f          AND      r0,r0,#0x7f           ;393
000084  490b              LDR      r1,|L43.180|
000086  6809              LDR      r1,[r1,#0]            ;393  ; SX1276LR
000088  7048              STRB     r0,[r1,#1]            ;393
00008a  480a              LDR      r0,|L43.180|
00008c  6800              LDR      r0,[r0,#0]            ;394  ; SX1276LR
00008e  7841              LDRB     r1,[r0,#1]            ;394
000090  2001              MOVS     r0,#1                 ;394
000092  f7fffffe          BL       SX1276Write
000096  2001              MOVS     r0,#1                 ;396
000098  f7fffffe          BL       SX1276LoRaSetOpMode
00009c  226f              MOVS     r2,#0x6f              ;398
00009e  4906              LDR      r1,|L43.184|
0000a0  2001              MOVS     r0,#1                 ;398
0000a2  f7fffffe          BL       SX1276ReadBuffer
                  |L43.166|
0000a6  bf00              NOP      
0000a8  e7b0              B        |L43.12|
;;;401    
                          ENDP

0000aa  0000              DCW      0x0000
                  |L43.172|
                          DCD      LoRaOnState
                  |L43.176|
                          DCD      LoRaOn
                  |L43.180|
                          DCD      SX1276LR
                  |L43.184|
                          DCD      SX1276Regs+0x1

                          AREA ||i.SX1276SetReset||, CODE, READONLY, ALIGN=2

                  SX1276SetReset PROC
;;;214    }
;;;215    void SX1276SetReset( uint8_t state )
000000  b538              PUSH     {r3-r5,lr}
;;;216    {
000002  4604              MOV      r4,r0
;;;217        GPIO_InitTypeDef GPIO_InitStructure;
;;;218    
;;;219        if( state == RADIO_RESET_ON )
000004  2c01              CMP      r4,#1
000006  d112              BNE      |L44.46|
;;;220        {
;;;221            // Set RESET pin to 0
;;;222            GPIO_WriteBit( RESET_IOPORT, RESET_PIN, Bit_RESET );
000008  2200              MOVS     r2,#0
00000a  2110              MOVS     r1,#0x10
00000c  480f              LDR      r0,|L44.76|
00000e  f7fffffe          BL       GPIO_WriteBit
;;;223            // Configure RESET as output
;;;224            GPIO_InitStructure.GPIO_Mode  = GPIO_Mode_Out_PP;
000012  2010              MOVS     r0,#0x10
000014  f88d0003          STRB     r0,[sp,#3]
;;;225            GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;
000018  2003              MOVS     r0,#3
00001a  f88d0002          STRB     r0,[sp,#2]
;;;226            GPIO_InitStructure.GPIO_Pin = RESET_PIN;
00001e  2010              MOVS     r0,#0x10
000020  f8ad0000          STRH     r0,[sp,#0]
;;;227            GPIO_Init( RESET_IOPORT, &GPIO_InitStructure );
000024  4669              MOV      r1,sp
000026  4809              LDR      r0,|L44.76|
000028  f7fffffe          BL       GPIO_Init
00002c  e00c              B        |L44.72|
                  |L44.46|
;;;228        }
;;;229        else
;;;230        {
;;;231            // Configure RESET as input
;;;232            GPIO_InitStructure.GPIO_Mode = GPIO_Mode_IN_FLOATING;
00002e  2004              MOVS     r0,#4
000030  f88d0003          STRB     r0,[sp,#3]
;;;233            GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;
000034  2003              MOVS     r0,#3
000036  f88d0002          STRB     r0,[sp,#2]
;;;234            GPIO_InitStructure.GPIO_Pin =  RESET_PIN;
00003a  2010              MOVS     r0,#0x10
00003c  f8ad0000          STRH     r0,[sp,#0]
;;;235            GPIO_Init( RESET_IOPORT, &GPIO_InitStructure );
000040  4669              MOV      r1,sp
000042  4802              LDR      r0,|L44.76|
000044  f7fffffe          BL       GPIO_Init
                  |L44.72|
;;;236        }
;;;237    }
000048  bd38              POP      {r3-r5,pc}
;;;238    
                          ENDP

00004a  0000              DCW      0x0000
                  |L44.76|
                          DCD      0x40011000

                          AREA ||i.SX1276SetTxPacket||, CODE, READONLY, ALIGN=1

                  SX1276SetTxPacket PROC
;;;684    }
;;;685    void SX1276SetTxPacket( const void *buffer, uint16_t size )
000000  b570              PUSH     {r4-r6,lr}
;;;686    {
000002  4604              MOV      r4,r0
000004  460d              MOV      r5,r1
;;;687      SX1276LoRaSetTxPacket( buffer, size );
000006  4629              MOV      r1,r5
000008  4620              MOV      r0,r4
00000a  f7fffffe          BL       SX1276LoRaSetTxPacket
;;;688    }
00000e  bd70              POP      {r4-r6,pc}
;;;689    uint8_t SX1276FskReadRxGain( void )
                          ENDP


                          AREA ||i.SX1276StartRx||, CODE, READONLY, ALIGN=1

                  SX1276StartRx PROC
;;;654    
;;;655    void SX1276StartRx( void )
000000  b500              PUSH     {lr}
;;;656    {
;;;657      SX1276LoRaSetRFState( RFLR_STATE_RX_INIT );
000002  2001              MOVS     r0,#1
000004  f7fffffe          BL       SX1276LoRaSetRFState
;;;658    }
000008  bd00              POP      {pc}
;;;659    
                          ENDP


                          AREA ||i.SX1276Write||, CODE, READONLY, ALIGN=1

                  SX1276Write PROC
;;;267    
;;;268    void SX1276Write( uint8_t addr, uint8_t data )
000000  b513              PUSH     {r0,r1,r4,lr}
;;;269    {
000002  4604              MOV      r4,r0
;;;270        SX1276WriteBuffer( addr, &data, 1 );
000004  2201              MOVS     r2,#1
000006  a901              ADD      r1,sp,#4
000008  4620              MOV      r0,r4
00000a  f7fffffe          BL       SX1276WriteBuffer
;;;271    }
00000e  bd1c              POP      {r2-r4,pc}
;;;272    
                          ENDP


                          AREA ||i.SX1276WriteBuffer||, CODE, READONLY, ALIGN=2

                  SX1276WriteBuffer PROC
;;;238    
;;;239    void SX1276WriteBuffer( uint8_t addr, uint8_t *buffer, uint8_t size )
000000  e92d41f0          PUSH     {r4-r8,lr}
;;;240    {
000004  4605              MOV      r5,r0
000006  460e              MOV      r6,r1
000008  4617              MOV      r7,r2
;;;241        uint8_t i;
;;;242        //NSS = 0;
;;;243        GPIO_WriteBit( NSS_IOPORT, NSS_PIN, Bit_RESET );
00000a  2200              MOVS     r2,#0
00000c  2110              MOVS     r1,#0x10
00000e  480b              LDR      r0,|L48.60|
000010  f7fffffe          BL       GPIO_WriteBit
;;;244        SpiInOut( addr | 0x80 );
000014  f0450080          ORR      r0,r5,#0x80
000018  f7fffffe          BL       SpiInOut
;;;245        for( i = 0; i < size; i++ )
00001c  2400              MOVS     r4,#0
00001e  e004              B        |L48.42|
                  |L48.32|
;;;246        {
;;;247            SpiInOut( buffer[i] );
000020  5d30              LDRB     r0,[r6,r4]
000022  f7fffffe          BL       SpiInOut
000026  1c60              ADDS     r0,r4,#1              ;245
000028  b2c4              UXTB     r4,r0                 ;245
                  |L48.42|
00002a  42bc              CMP      r4,r7                 ;245
00002c  dbf8              BLT      |L48.32|
;;;248        }
;;;249        //NSS = 1;
;;;250        GPIO_WriteBit( NSS_IOPORT, NSS_PIN, Bit_SET );
00002e  2201              MOVS     r2,#1
000030  2110              MOVS     r1,#0x10
000032  4802              LDR      r0,|L48.60|
000034  f7fffffe          BL       GPIO_WriteBit
;;;251    }
000038  e8bd81f0          POP      {r4-r8,pc}
;;;252    
                          ENDP

                  |L48.60|
                          DCD      0x40010800

                          AREA ||i.SX1276WriteFifo||, CODE, READONLY, ALIGN=1

                  SX1276WriteFifo PROC
;;;280    }
;;;281    void SX1276WriteFifo( uint8_t *buffer, uint8_t size )
000000  b570              PUSH     {r4-r6,lr}
;;;282    {
000002  4604              MOV      r4,r0
000004  460d              MOV      r5,r1
;;;283        SX1276WriteBuffer( 0, buffer, size );
000006  462a              MOV      r2,r5
000008  4621              MOV      r1,r4
00000a  2000              MOVS     r0,#0
00000c  f7fffffe          BL       SX1276WriteBuffer
;;;284    }
000010  bd70              POP      {r4-r6,pc}
;;;285    
                          ENDP


                          AREA ||i.SX1276WriteRxTx||, CODE, READONLY, ALIGN=1

                  SX1276WriteRxTx PROC
;;;320    
;;;321    inline void SX1276WriteRxTx( uint8_t txEnable )
000000  4770              BX       lr
;;;322    {
;;;323    
;;;324    }
;;;325    
                          ENDP


                          AREA ||i.SX1276_Rx_Count_Time||, CODE, READONLY, ALIGN=2

                  SX1276_Rx_Count_Time PROC
;;;694    
;;;695    void SX1276_Rx_Count_Time(void)
000000  f04f20e0          MOV      r0,#0xe000e000
;;;696    {
;;;697    	SysTick->CTRL&=~SysTick_CTRL_ENABLE_Msk;  
000004  6900              LDR      r0,[r0,#0x10]
000006  f0200001          BIC      r0,r0,#1
00000a  f04f21e0          MOV      r1,#0xe000e000
00000e  6108              STR      r0,[r1,#0x10]
;;;698    	SysTick->LOAD=(u32)9000*(LoRaSettings.RxPacketTimeout);
000010  4807              LDR      r0,|L51.48|
000012  6940              LDR      r0,[r0,#0x14]  ; LoRaSettings
000014  f2423128          MOV      r1,#0x2328
000018  4348              MULS     r0,r1,r0
00001a  f04f21e0          MOV      r1,#0xe000e000
00001e  6148              STR      r0,[r1,#0x14]
;;;699    	SysTick->VAL =0x00;    
000020  2000              MOVS     r0,#0
000022  6188              STR      r0,[r1,#0x18]
;;;700      SysTick->CTRL|=SysTick_CTRL_ENABLE_Msk ;
000024  4608              MOV      r0,r1
000026  6900              LDR      r0,[r0,#0x10]
000028  f0400001          ORR      r0,r0,#1
00002c  6108              STR      r0,[r1,#0x10]
;;;701    }
00002e  4770              BX       lr
;;;702    
                          ENDP

                  |L51.48|
                          DCD      LoRaSettings

                          AREA ||i.SX1276_Tx_Count_Time||, CODE, READONLY, ALIGN=2

                  SX1276_Tx_Count_Time PROC
;;;702    
;;;703    void SX1276_Tx_Count_Time(void)   
000000  f04f20e0          MOV      r0,#0xe000e000
;;;704    {
;;;705    	SysTick->CTRL&=~SysTick_CTRL_ENABLE_Msk;  
000004  6900              LDR      r0,[r0,#0x10]
000006  f0200001          BIC      r0,r0,#1
00000a  f04f21e0          MOV      r1,#0xe000e000
00000e  6108              STR      r0,[r1,#0x10]
;;;706    	SysTick->LOAD=(u32)9000*(LoRaSettings.TxPacketTimeout);
000010  4807              LDR      r0,|L52.48|
000012  6900              LDR      r0,[r0,#0x10]  ; LoRaSettings
000014  f2423128          MOV      r1,#0x2328
000018  4348              MULS     r0,r1,r0
00001a  f04f21e0          MOV      r1,#0xe000e000
00001e  6148              STR      r0,[r1,#0x14]
;;;707    	SysTick->VAL =0x00;        
000020  2000              MOVS     r0,#0
000022  6188              STR      r0,[r1,#0x18]
;;;708      SysTick->CTRL|=SysTick_CTRL_ENABLE_Msk ;
000024  4608              MOV      r0,r1
000026  6900              LDR      r0,[r0,#0x10]
000028  f0400001          ORR      r0,r0,#1
00002c  6108              STR      r0,[r1,#0x10]
;;;709    }
00002e  4770              BX       lr
;;;710    uint32_t SX1276LoRaProcess1( void )
                          ENDP

                  |L52.48|
                          DCD      LoRaSettings

                          AREA ||i.SpiInOut||, CODE, READONLY, ALIGN=2

                  SpiInOut PROC
;;;198    
;;;199    u8 SpiInOut(uint8_t input)
000000  b510              PUSH     {r4,lr}
;;;200    {
000002  4604              MOV      r4,r0
;;;201    	 	/* Loop while DR register in not emplty */
;;;202      while(SPI_I2S_GetFlagStatus(SPI2, SPI_I2S_FLAG_TXE) == RESET);
000004  bf00              NOP      
                  |L53.6|
000006  2102              MOVS     r1,#2
000008  480a              LDR      r0,|L53.52|
00000a  f7fffffe          BL       SPI_I2S_GetFlagStatus
00000e  2800              CMP      r0,#0
000010  d0f9              BEQ      |L53.6|
;;;203    
;;;204      /* Send byte through the SPI1 peripheral */
;;;205      SPI_I2S_SendData(SPI2, input);
000012  4621              MOV      r1,r4
000014  4807              LDR      r0,|L53.52|
000016  f7fffffe          BL       SPI_I2S_SendData
;;;206    
;;;207      /* Wait to receive a byte */
;;;208      while(SPI_I2S_GetFlagStatus(SPI2, SPI_I2S_FLAG_RXNE) == RESET);
00001a  bf00              NOP      
                  |L53.28|
00001c  2101              MOVS     r1,#1
00001e  4805              LDR      r0,|L53.52|
000020  f7fffffe          BL       SPI_I2S_GetFlagStatus
000024  2800              CMP      r0,#0
000026  d0f9              BEQ      |L53.28|
;;;209    
;;;210      /* Return the byte read from the SPI bus */
;;;211      return SPI_I2S_ReceiveData(SPI2);	
000028  4802              LDR      r0,|L53.52|
00002a  f7fffffe          BL       SPI_I2S_ReceiveData
00002e  b2c0              UXTB     r0,r0
;;;212    	
;;;213    
;;;214    }
000030  bd10              POP      {r4,pc}
;;;215    void SX1276SetReset( uint8_t state )
                          ENDP

000032  0000              DCW      0x0000
                  |L53.52|
                          DCD      0x40003800

                          AREA ||i.usr_ReadRssi||, CODE, READONLY, ALIGN=2

                  usr_ReadRssi PROC
;;;929    }
;;;930    uint8_t  usr_ReadRssi( void )
000000  b510              PUSH     {r4,lr}
;;;931    {
;;;932        // Reads the RSSI value
;;;933        SX1276Read( REG_LR_PKTRSSIVALUE, &SX1276LR->RegPktRssiValue );
000002  4805              LDR      r0,|L54.24|
000004  6801              LDR      r1,[r0,#0]  ; SX1276LR
000006  311a              ADDS     r1,r1,#0x1a
000008  201a              MOVS     r0,#0x1a
00000a  f7fffffe          BL       SX1276Read
;;;934        return  SX1276LR->RegPktRssiValue ; // for debug 
00000e  4802              LDR      r0,|L54.24|
000010  6800              LDR      r0,[r0,#0]  ; SX1276LR
000012  7e80              LDRB     r0,[r0,#0x1a]
;;;935    }
000014  bd10              POP      {r4,pc}
;;;936    /*RSSI*/
                          ENDP

000016  0000              DCW      0x0000
                  |L54.24|
                          DCD      SX1276LR

                          AREA ||.bss||, DATA, NOINIT, ALIGN=0

                  ||rf||
                          %        101
                  SX1276Regs
                          %        112
                  RFBuffer
                          %        256

                          AREA ||.constdata||, DATA, READONLY, ALIGN=3

                  RssiOffsetLF
000000  00000000          DCFD     0xc063600000000000 ; -155
000004  c0636000
000008  00000000          DCFD     0xc063600000000000 ; -155
00000c  c0636000
000010  00000000          DCFD     0xc063600000000000 ; -155
000014  c0636000
000018  00000000          DCFD     0xc063600000000000 ; -155
00001c  c0636000
000020  00000000          DCFD     0xc063600000000000 ; -155
000024  c0636000
000028  00000000          DCFD     0xc063600000000000 ; -155
00002c  c0636000
000030  00000000          DCFD     0xc063600000000000 ; -155
000034  c0636000
000038  00000000          DCFD     0xc063600000000000 ; -155
00003c  c0636000
000040  00000000          DCFD     0xc063600000000000 ; -155
000044  c0636000
000048  00000000          DCFD     0xc063600000000000 ; -155
00004c  c0636000
                  RssiOffsetHF
000050  00000000          DCFD     0xc062c00000000000 ; -150
000054  c062c000
000058  00000000          DCFD     0xc062c00000000000 ; -150
00005c  c062c000
000060  00000000          DCFD     0xc062c00000000000 ; -150
000064  c062c000
000068  00000000          DCFD     0xc062c00000000000 ; -150
00006c  c062c000
000070  00000000          DCFD     0xc062c00000000000 ; -150
000074  c062c000
000078  00000000          DCFD     0xc062c00000000000 ; -150
00007c  c062c000
000080  00000000          DCFD     0xc062c00000000000 ; -150
000084  c062c000
000088  00000000          DCFD     0xc062c00000000000 ; -150
00008c  c062c000
000090  00000000          DCFD     0xc062c00000000000 ; -150
000094  c062c000
000098  00000000          DCFD     0xc062c00000000000 ; -150
00009c  c062c000
                  SignalBwLog
0000a0  19747541          DCFD     0x400f246f19747541 ; 3.8927900303521317
0000a4  400f246f
0000a8  daacba2e          DCFD     0x40101227daacba2e ; 4.0177301567005497
0000ac  40101227
0000b0  c1c43240          DCFD     0x4010c678c1c43240 ; 4.1938200260161125
0000b4  4010c678
0000b8  ac301366          DCFD     0x40114668ac301366 ; 4.3187586693137288
0000bc  40114668
0000c0  f6ce29e0          DCFD     0x4011fab9f6ce29e0 ; 4.4948500216800937
0000c4  4011fab9
0000c8  fece0101          DCFD     0x40127aa9fece0101 ; 4.6197891057238403
0000cc  40127aa9
0000d0  2bd82180          DCFD     0x40132efb2bd82180 ; 4.795880017344075
0000d4  40132efb
0000d8  60e21920          DCFD     0x4014633c60e21920 ; 5.0969100130080562
0000dc  4014633c
0000e0  95ec10c0          DCFD     0x4015977d95ec10c0 ; 5.3979400086720375
0000e4  4015977d
0000e8  caf60860          DCFD     0x4016cbbecaf60860 ; 5.6989700043360187
0000ec  4016cbbe
                  HoppingFrequencies
                          DCD      0x36a0ae20
                          DCD      0x370b7de0
                          DCD      0x360817a0
                          DCD      0x36aff060
                          DCD      0x36aff060
                          DCD      0x362e3d40
                          DCD      0x35d2afc0
                          DCD      0x36990d00
                          DCD      0x3663a520
                          DCD      0x3731a380
                          DCD      0x37226140
                          DCD      0x3635de60
                          DCD      0x366b4640
                          DCD      0x36bf32a0
                          DCD      0x36bf32a0
                          DCD      0x35cb0ea0
                          DCD      0x365462e0
                          DCD      0x373944a0
                          DCD      0x35cb0ea0
                          DCD      0x36f49a80
                          DCD      0x37131f00
                          DCD      0x35da50e0
                          DCD      0x366b4640
                          DCD      0x36f49a80
                          DCD      0x3731a380
                          DCD      0x363d7f80
                          DCD      0x36d61600
                          DCD      0x36fc3ba0
                          DCD      0x364cc1c0
                          DCD      0x36f49a80
                          DCD      0x3635de60
                          DCD      0x3731a380
                          DCD      0x36f49a80
                          DCD      0x36b79180
                          DCD      0x372a0260
                          DCD      0x361efb00
                          DCD      0x36aff060
                          DCD      0x373944a0
                          DCD      0x36269c20
                          DCD      0x36990d00
                          DCD      0x35f8d560
                          DCD      0x36990d00
                          DCD      0x35d2afc0
                          DCD      0x35f13440
                          DCD      0x3689cac0
                          DCD      0x366b4640
                          DCD      0x360fb8c0
                          DCD      0x363d7f80
                          DCD      0x373944a0
                          DCD      0x372a0260
                          DCD      0x364cc1c0

                          AREA ||.data||, DATA, ALIGN=3

                  SX1276
                          DCD      0x00000000
                  SX1276LR
                          DCD      0x00000000
                  TxPacketSize
000008  0000              DCW      0x0000
                  RxPacketSize
00000a  0000              DCW      0x0000
                  RxGain
00000c  01                DCB      0x01
                  TxRxFlag
00000d  000000            DCB      0x00,0x00,0x00
                  RxPacketRssiValue
                          %        8
                  RxPacketSnrEstimate
000018  00000000          DCB      0x00,0x00,0x00,0x00
                  RxTimeoutTimer
                          DCD      0x00000000
                  TxTimeoutTimer
                          DCD      0x00000000
                  RFLRState
000024  00                DCB      0x00
                  RFState
000025  00                DCB      0x00
                  LoRaOn
000026  00                DCB      0x00
                  LoRaOnState
000027  00                DCB      0x00
                  TickCounter
                          DCD      0x00000000
                  LoRaSettings
                          DCD      0x19cf0e40
000030  14060702          DCB      0x14,0x06,0x07,0x02
000034  01000100          DCB      0x01,0x00,0x01,0x00
000038  04000000          DCB      0x04,0x00,0x00,0x00
                          DCD      0x0000012c
                          DCD      0x0000012c
000044  06000000          DCB      0x06,0x00,0x00,0x00
                  FskSettings
                          DCD      0x33db2580
                          DCD      0x00002580
                          DCD      0x0000c350
000054  14000000          DCB      0x14,0x00,0x00,0x00
                          DCD      0x000186a0
                          DCD      0x000249f0
000060  0101ff00          DCB      0x01,0x01,0xff,0x00
                  opModePrev
000064  01                DCB      0x01
                  antennaSwitchTxOnPrev
000065  01                DCB      0x01
